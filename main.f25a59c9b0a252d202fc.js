(self.webpackChunkpaginacion=self.webpackChunkpaginacion||[]).push([[179],{8255:He=>{function Ce(F){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+F+"'");throw d.code="MODULE_NOT_FOUND",d})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,He.exports=Ce},7716:(He,Ce,F)=>{"use strict";F.d(Ce,{deG:()=>gC,tb:()=>KD,AFp:()=>n0,ip1:()=>t0,CZH:()=>jh,hGG:()=>y0,z2F:()=>$h,sBO:()=>KM,Sil:()=>Gh,_Vd:()=>Ha,EJc:()=>JD,SBq:()=>zo,qLn:()=>m,vpe:()=>St,gxx:()=>Qc,tBr:()=>ma,XFs:()=>Ye,OlP:()=>hn,zs3:()=>qt,ZZ4:()=>Ga,aQg:()=>wu,soG:()=>Jy,YKP:()=>Dh,v3s:()=>cO,h0i:()=>qo,PXZ:()=>fS,R0b:()=>Ir,FiY:()=>_s,Lbi:()=>ZD,g9A:()=>YD,n_E:()=>Fh,Qsj:()=>Iy,FYo:()=>ro,JOm:()=>ws,Tiy:()=>Eh,q3G:()=>vn,tp0:()=>ir,EAV:()=>pO,Rgc:()=>yg,dDg:()=>iS,DyG:()=>Mo,q4F:()=>Kw,GfV:()=>Dy,s_b:()=>Sh,ifc:()=>Pe,eFA:()=>ev,G48:()=>Nk,Gpc:()=>q,f3M:()=>yd,X6Q:()=>Wg,_c5:()=>TS,VLi:()=>tO,c2e:()=>QD,zSh:()=>Hd,wAp:()=>at,vHH:()=>me,EiD:()=>Bc,mCW:()=>_l,qzn:()=>Pc,JVY:()=>Qm,pB0:()=>wa,eBb:()=>Fc,L6k:()=>Qf,LAX:()=>$s,cg1:()=>gy,Tjo:()=>ES,kL8:()=>uI,yhl:()=>Fo,dqk:()=>tn,sIi:()=>Kd,CqO:()=>Vl,QGY:()=>Cs,F4k:()=>nh,RDi:()=>Em,AaK:()=>J,z3N:()=>Gs,qOj:()=>kp,TTD:()=>zi,_Bn:()=>zw,xp6:()=>FC,uIk:()=>Qd,Gre:()=>QT,ekj:()=>Qp,Suo:()=>Ax,Xpm:()=>Ut,lG2:()=>Yu,Yz7:()=>en,cJS:()=>kt,oAB:()=>Ka,Yjl:()=>Qa,Y36:()=>Hp,_UZ:()=>ww,BQk:()=>ry,ynx:()=>th,qZA:()=>Gp,TgZ:()=>Fl,EpF:()=>Ll,n5z:()=>Nf,Ikx:()=>Wt,LFG:()=>nn,$8M:()=>Fm,NdJ:()=>iy,CRH:()=>Qn,kcU:()=>qv,O4$:()=>dC,oxw:()=>Cw,ALo:()=>DD,lcZ:()=>SD,Hsn:()=>rh,F$t:()=>qp,Q6J:()=>bw,VKq:()=>Og,WLB:()=>Gy,iGM:()=>An,MAs:()=>fw,CHM:()=>vf,LSH:()=>Sd,kYT:()=>Wu,Udp:()=>Kp,YNc:()=>Vp,_uU:()=>hu,Oqu:()=>dy,hij:()=>Xp,Gf:()=>Sx});var d=F(9765),se=F(5319),H=F(7574),ie=F(6682),fe=F(8819);function Z(o){for(let a in o)if(o[a]===Z)return a;throw Error("Could not find renamed property on target object.")}function X(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function J(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(J).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function z(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const L=Z({__forward_ref__:Z});function q(o){return o.__forward_ref__=q,o.toString=function(){return J(this())},o}function P(o){return $(o)?o():o}function $(o){return"function"==typeof o&&o.hasOwnProperty(L)&&o.__forward_ref__===q}class me extends Error{constructor(a,c){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,c)),this.code=a}}function ye(o){return"string"==typeof o?o:null==o?"":String(o)}function Ae(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ye(o)}function Rt(o,a){const c=a?` in ${a}`:"";throw new me("201",`No provider for ${Ae(o)} found${c}`)}function st(o,a){null==o&&function(o,a,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function en(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function kt(o){return{providers:o.providers||[],imports:o.imports||[]}}function er(o){return Rs(o,ks)||Rs(o,mo)}function Rs(o,a){return o.hasOwnProperty(a)?o[a]:null}function po(o){return o&&(o.hasOwnProperty(go)||o.hasOwnProperty(ea))?o[go]:null}const ks=Z({\u0275prov:Z}),go=Z({\u0275inj:Z}),mo=Z({ngInjectableDef:Z}),ea=Z({ngInjectorDef:Z});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let tr;function Ur(o){const a=tr;return tr=o,a}function yt(o,a,c){const h=er(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&Ye.Optional?null:void 0!==a?a:void Rt(J(o),"Injector")}function Bt(o){return{toString:o}.toString()}var Ft=(()=>((Ft=Ft||{})[Ft.OnPush=0]="OnPush",Ft[Ft.Default=1]="Default",Ft))(),Pe=(()=>((Pe=Pe||{})[Pe.Emulated=0]="Emulated",Pe[Pe.None=2]="None",Pe[Pe.ShadowDom=3]="ShadowDom",Pe))();const ot="undefined"!=typeof globalThis&&globalThis,Ui="undefined"!=typeof window&&window,_o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ji="undefined"!=typeof global&&global,tn=ot||ji||Ui||_o,zt={},G=[],j=Z({\u0275cmp:Z}),ne=Z({\u0275dir:Z}),de=Z({\u0275pipe:Z}),re=Z({\u0275mod:Z}),Ne=Z({\u0275loc:Z}),ze=Z({\u0275fac:Z}),wt=Z({__NG_ELEMENT_ID__:Z});let Pt=0;function Ut(o){return Bt(()=>{const c={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||G,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Pe.Emulated,id:"c",styles:o.styles||G,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,g=o.features,b=o.pipes;return h.id+=Pt++,h.inputs=of(o.inputs,c),h.outputs=of(o.outputs),g&&g.forEach(w=>w(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(On):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(Un):null,h})}function On(o){return nr(o)||function(o){return o[ne]||null}(o)}function Un(o){return function(o){return o[de]||null}(o)}const yo={};function Ka(o){return Bt(()=>{const a={type:o.type,bootstrap:o.bootstrap||G,declarations:o.declarations||G,imports:o.imports||G,exports:o.exports||G,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(yo[o.id]=o.type),a})}function Wu(o,a){return Bt(()=>{const c=vi(o,!0);c.declarations=a.declarations||G,c.imports=a.imports||G,c.exports=a.exports||G})}function of(o,a){if(null==o)return zt;const c={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=h,a&&(a[f]=g)}return c}const Yu=Ut;function Qa(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function nr(o){return o[j]||null}function vi(o,a){const c=o[re]||null;if(!c&&!0===a)throw new Error(`Type ${J(o)} does not have '\u0275mod' property.`);return c}function $i(o){return Array.isArray(o)&&"object"==typeof o[1]}function wi(o){return Array.isArray(o)&&!0===o[1]}function pc(o){return 0!=(8&o.flags)}function gc(o){return 2==(2&o.flags)}function el(o){return 1==(1&o.flags)}function Hr(o){return null!==o.template}function Hn(o){return 0!=(512&o[2])}function Co(o,a){return o.hasOwnProperty(ze)?o[ze]:null}class wm{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function zi(){return To}function To(o){return o.type.prototype.ngOnChanges&&(o.setInput=uf),Lv}function Lv(){const o=hf(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===zt)o.previous=a;else for(let h in a)c[h]=a[h];o.current=null,this.ngOnChanges(a)}}function uf(o,a,c,h){const f=hf(o)||function(o,a){return o[df]=a}(o,{previous:zt,current:null}),g=f.current||(f.current={}),b=f.previous,w=this.declaredInputs[c],I=b[w];g[w]=new wm(I&&I.currentValue,a,b===zt),o[h]=a}zi.ngInherit=!0;const df="__ngSimpleChanges__";function hf(o){return o[df]||null}const _c="http://www.w3.org/2000/svg";let vc;function Em(o){vc=o}function ln(o){return!!o.listen}const Fs={createRenderer:(o,a)=>void 0!==vc?vc:"undefined"!=typeof document?document:void 0};function cn(o){for(;Array.isArray(o);)o=o[0];return o}function nl(o,a){return cn(a[o])}function Mr(o,a){return cn(a[o.index])}function Xu(o,a){return o.data[a]}function Io(o,a){return o[a]}function Gr(o,a){const c=a[o];return $i(c)?c:c[0]}function mf(o){return 4==(4&o[2])}function Im(o){return 128==(128&o[2])}function ia(o,a){return null==a?null:o[a]}function ed(o){o[18]=0}function il(o,a){o[5]+=a;let c=o,h=o[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const ht={lFrame:Am(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function yf(){return ht.bindingsEnabled}function Ie(){return ht.lFrame.lView}function Ot(){return ht.lFrame.tView}function vf(o){return ht.lFrame.contextLView=o,o[8]}function sn(){let o=bf();for(;null!==o&&64===o.type;)o=o.parent;return o}function bf(){return ht.lFrame.currentTNode}function Ei(o,a){const c=ht.lFrame;c.currentTNode=o,c.isParent=a}function nd(){return ht.lFrame.isParent}function sl(){ht.lFrame.isParent=!1}function ol(){return ht.isInCheckNoChangesMode}function rd(o){ht.isInCheckNoChangesMode=o}function kn(){const o=ht.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Vs(){return ht.lFrame.bindingIndex++}function ni(o){const a=ht.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Dm(o,a){const c=ht.lFrame;c.bindingIndex=c.bindingRootIndex=o,Cf(a)}function Cf(o){ht.lFrame.currentDirectiveIndex=o}function Sm(){return ht.lFrame.currentQueryIndex}function Ec(o){ht.lFrame.currentQueryIndex=o}function Tf(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function sd(o,a,c){if(c&Ye.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&Ye.Host||(f=Tf(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const h=ht.lFrame=oa();return h.currentTNode=a,h.lView=o,!0}function od(o){const a=oa(),c=o[1];ht.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function oa(){const o=ht.lFrame,a=null===o?null:o.child;return null===a?Am(o):a}function Am(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Mm(){const o=ht.lFrame;return ht.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Gv=Mm;function Cc(){const o=Mm();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function xr(){return ht.lFrame.selectedIndex}function al(o){ht.lFrame.selectedIndex=o}function Nn(){const o=ht.lFrame;return Xu(o.tView,o.selectedIndex)}function dC(){ht.lFrame.currentNamespace=_c}function qv(){ht.lFrame.currentNamespace=null}function ll(o,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:M}=g;b&&(o.contentHooks||(o.contentHooks=[])).push(-c,b),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),I&&(o.viewHooks||(o.viewHooks=[])).push(-c,I),S&&((o.viewHooks||(o.viewHooks=[])).push(c,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,S)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(c,M)}}function cl(o,a,c){xm(o,a,3,c)}function ad(o,a,c,h){(3&o[2])===c&&xm(o,a,c,h)}function Df(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function xm(o,a,c,h){const g=null!=h?h:-1,b=a.length-1;let w=0;for(let I=void 0!==h?65535&o[18]:0;I<b;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=h&&w>=h)break}else a[I]<0&&(o[18]+=65536),(w<g||-1==g)&&(Sf(o,c,a,I),o[18]=(4294901760&o[18])+I+2),I++}function Sf(o,a,c,h){const f=c[h]<0,g=c[h+1],w=o[f?-c[h]:c[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class ld{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function fs(o,a,c){const h=ln(o);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const b=c[f++],w=c[f++],I=c[f++];h?o.setAttribute(a,w,I,b):a.setAttributeNS(b,w,I)}else{const b=g,w=c[++f];ps(b)?h&&o.setProperty(a,b,w):h?o.setAttribute(a,b,w):a.setAttribute(b,w),f++}}return f}function Rm(o){return 3===o||4===o||6===o}function ps(o){return 64===o.charCodeAt(0)}function Do(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?c=f:0===c||km(o,c,f,null,-1===c||2===c?a[++h]:null)}}return o}function km(o,a,c,h,f){let g=0,b=o.length;if(-1===a)b=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){b=-1;break}if(w>a){b=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===c){if(null===h)return void(null!==f&&(o[g+1]=f));if(h===o[g+1])return void(o[g+2]=f)}g++,null!==h&&g++,null!==f&&g++}-1!==b&&(o.splice(b,0,a),g=b+1),o.splice(g++,0,c),null!==h&&o.splice(g++,0,h),null!==f&&o.splice(g++,0,f)}function yn(o){return-1!==o}function aa(o){return 32767&o}function Ic(o,a){let c=function(o){return o>>16}(o),h=a;for(;c>0;)h=h[15],c--;return h}let cd=!0;function ud(o){const a=cd;return cd=o,a}let kf=0;function Bs(o,a){const c=un(o,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Dc(h.data,o),Dc(a,null),Dc(h.blueprint,null));const f=je(o,a),g=o.injectorIndex;if(yn(f)){const b=aa(f),w=Ic(f,a),I=w[1].data;for(let S=0;S<8;S++)a[g+S]=w[b+S]|I[b+S]}return a[g+8]=f,g}function Dc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function un(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function je(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,f=a;for(;null!==f;){const g=f[1],b=g.type;if(h=2===b?g.declTNode:1===b?f[6]:null,null===h)return-1;if(c++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function ft(o,a,c){!function(o,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(wt)&&(h=c[wt]),null==h&&(h=c[wt]=kf++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function ri(o,a,c){if(c&Ye.Optional)return o;Rt(a,"NodeInjector")}function la(o,a,c,h){if(c&Ye.Optional&&void 0===h&&(h=null),0==(c&(Ye.Self|Ye.Host))){const f=o[9],g=Ur(void 0);try{return f?f.get(a,h,c&Ye.Optional):yt(a,h,c&Ye.Optional)}finally{Ur(g)}}return ri(h,a,c)}function ul(o,a,c,h=Ye.Default,f){if(null!==o){const g=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(wt)?o[wt]:void 0;return"number"==typeof a?a>=0?255&a:Zv:a}(c);if("function"==typeof g){if(!sd(a,o,h))return h&Ye.Host?ri(f,c,h):la(a,c,h,f);try{const b=g(h);if(null!=b||h&Ye.Optional)return b;Rt(c)}finally{Gv()}}else if("number"==typeof g){let b=null,w=un(o,a),I=-1,S=h&Ye.Host?a[16][6]:null;for((-1===w||h&Ye.SkipSelf)&&(I=-1===w?je(o,a):a[w+8],-1!==I&&Sc(h,!1)?(b=a[1],w=aa(I),a=Ic(I,a)):w=-1);-1!==w;){const M=a[1];if(Pm(g,w,M.data)){const R=fC(w,a,c,b,h,S);if(R!==Or)return R}I=a[w+8],-1!==I&&Sc(h,a[1].data[w+8]===S)&&Pm(g,w,a)?(b=M,w=aa(I),a=Ic(I,a)):w=-1}}}return la(a,c,h,f)}const Or={};function Zv(){return new ca(sn(),Ie())}function fC(o,a,c,h,f,g){const b=a[1],w=b.data[o+8],M=So(w,b,c,null==h?gc(w)&&cd:h!=b&&0!=(3&w.type),f&Ye.Host&&g===w);return null!==M?on(a,b,M,w):Or}function So(o,a,c,h,f){const g=o.providerIndexes,b=a.data,w=1048575&g,I=o.directiveStart,M=g>>20,N=f?w+M:o.directiveEnd;for(let U=h?w:w+M;U<N;U++){const Y=b[U];if(U<I&&c===Y||U>=I&&Y.type===c)return U}if(f){const U=b[I];if(U&&Hr(U)&&U.type===c)return I}return null}function on(o,a,c,h){let f=o[c];const g=a.data;if(function(o){return o instanceof ld}(f)){const b=f;b.resolving&&function(o,a){throw new me("200",`Circular dependency in DI detected for ${o}`)}(Ae(g[c]));const w=ud(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?Ur(b.injectImpl):null;sd(o,h,Ye.Default);try{f=o[c]=b.factory(void 0,g,o,h),a.firstCreatePass&&c>=h.directiveStart&&function(o,a,c){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(h){const b=To(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==I&&Ur(I),ud(w),b.resolving=!1,Gv()}}return f}function Pm(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Sc(o,a){return!(o&Ye.Self||o&Ye.Host&&a)}class ca{constructor(a,c){this._tNode=a,this._lView=c}get(a,c){return ul(this._tNode,this._lView,a,void 0,c)}}function Nf(o){return Bt(()=>{const a=o.prototype.constructor,c=a[ze]||hd(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const g=f[ze]||hd(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function hd(o){return $(o)?()=>{const a=hd(P(o));return a&&a()}:Co(o)}function Fm(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const h=c.length;let f=0;for(;f<h;){const g=c[f];if(Rm(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<h&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(sn(),o)}const Ti="__parameters__";function Yi(o,a,c){return Bt(()=>{const h=function(o){return function(...c){if(o){const h=o(...c);for(const f in h)this[f]=h[f]}}}(a);function f(...g){if(this instanceof f)return h.apply(this,g),this;const b=new f(...g);return w.annotation=b,w;function w(I,S,M){const R=I.hasOwnProperty(Ti)?I[Ti]:Object.defineProperty(I,Ti,{value:[]})[Ti];for(;R.length<=M;)R.push(null);return(R[M]=R[M]||[]).push(b),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class hn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=en({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gC=new hn("AnalyzeForEntryComponents"),Mo=Function;function Di(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let h=o[c];Array.isArray(h)?(a===o&&(a=o.slice(0,c)),Di(h,a)):a!==o&&a.push(h)}return a}function ms(o,a){o.forEach(c=>Array.isArray(c)?ms(c,a):a(c))}function fa(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function xo(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Oo(o,a){const c=[];for(let h=0;h<o;h++)c.push(a);return c}function Tn(o,a,c){let h=Ro(o,a);return h>=0?o[1|h]=c:(h=~h,function(o,a,c,h){let f=o.length;if(f==a)o.push(c,h);else if(1===f)o.push(h,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=h}}(o,h,a,c)),h}function Gn(o,a){const c=Ro(o,a);if(c>=0)return o[1|c]}function Ro(o,a){return function(o,a,c){let h=0,f=o.length>>c;for(;f!==h;){const g=h+(f-h>>1),b=o[g<<c];if(a===b)return g<<c;b>a?f=g:h=g+1}return~(f<<c)}(o,a,1)}const Ac={},Gf="__NG_DI_FLAG__",ko="ngTempTokenPath",Gm=/\n/gm,zf="__source",hl=Z({provide:String,useValue:Z});let No;function vt(o){const a=No;return No=o,a}function qf(o,a=Ye.Default){if(void 0===No)throw new Error("inject() must be called from an injection context");return null===No?yt(o,void 0,a):No.get(o,a&Ye.Optional?null:void 0,a)}function nn(o,a=Ye.Default){return(tr||qf)(P(o),a)}const yd=nn;function Po(o){const a=[];for(let c=0;c<o.length;c++){const h=P(o[c]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let f,g=Ye.Default;for(let b=0;b<h.length;b++){const w=h[b],I=zm(w);"number"==typeof I?-1===I?f=w.token:g|=I:f=w}a.push(nn(f,g))}else a.push(nn(h))}return a}function Mc(o,a){return o[Gf]=a,o.prototype[Gf]=a,o}function zm(o){return o[Gf]}function ii(o,a,c,h){const f=o[ko];throw a[zf]&&f.unshift(a[zf]),o.message=function(o,a,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=J(a);if(Array.isArray(a))f=a.map(J).join(" -> ");else if("object"==typeof a){let g=[];for(let b in a)if(a.hasOwnProperty(b)){let w=a[b];g.push(b+":"+("string"==typeof w?JSON.stringify(w):J(w)))}f=`{${g.join(", ")}}`}return`${c}${h?"("+h+")":""}[${f}]: ${o.replace(Gm,"\n  ")}`}("\n"+o.message,f,c,h),o.ngTokenPath=f,o[ko]=null,o}const ma=Mc(Yi("Inject",o=>({token:o})),-1),_s=Mc(Yi("Optional"),8),ir=Mc(Yi("SkipSelf"),4);let gl;function js(o){var a;return(null===(a=function(){if(void 0===gl&&(gl=null,tn.trustedTypes))try{gl=tn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return gl}())||void 0===a?void 0:a.createHTML(o))||o}class Hs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class rb extends Hs{getTypeName(){return"HTML"}}class ib extends Hs{getTypeName(){return"Style"}}class Ed extends Hs{getTypeName(){return"Script"}}class sb extends Hs{getTypeName(){return"URL"}}class ob extends Hs{getTypeName(){return"ResourceURL"}}function Gs(o){return o instanceof Hs?o.changingThisBreaksApplicationSecurity:o}function Pc(o,a){const c=Fo(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Fo(o){return o instanceof Hs&&o.getTypeName()||null}function Qm(o){return new rb(o)}function Qf(o){return new ib(o)}function Fc(o){return new Ed(o)}function $s(o){return new sb(o)}function wa(o){return new ob(o)}class Jm{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(js(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Xf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=js(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=js(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Xm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _l(o){return(o=String(o)).match(Xm)||o.match(Cd)?o:"unsafe:"+o}function Qi(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Ea(...o){const a={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const Lc=Qi("area,br,col,hr,img,wbr"),Id=Qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vc=Qi("rp,rt"),ep=Ea(Lc,Ea(Id,Qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ea(Vc,Qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ea(Vc,Id)),yl=Qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ys=Qi("srcset"),tp=Ea(yl,ys,Qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),i_=Qi("script,style,template");class np{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,h=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?h=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,h&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!ep.hasOwnProperty(c))return this.sanitizedSomething=!0,!i_.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const h=a.attributes;for(let f=0;f<h.length;f++){const g=h.item(f),b=g.name,w=b.toLowerCase();if(!tp.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=g.value;yl[w]&&(I=_l(I)),ys[w]&&(o=I,I=(o=String(o)).split(",").map(a=>_l(a.trim())).join(", ")),this.buf.push(" ",b,'="',s_(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();ep.hasOwnProperty(c)&&!Lc.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(s_(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const cb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ub=/([^\#-~ |!])/g;function s_(o){return o.replace(/&/g,"&amp;").replace(cb,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ub,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lo;function Bc(o,a){let c=null;try{Lo=Lo||function(o){const a=new Xf(o);return function(){try{return!!(new window.DOMParser).parseFromString(js(""),"text/html")}catch(o){return!1}}()?new Jm(a):a}(o);let h=a?String(a):"";c=Lo.getInertBodyElement(h);let f=5,g=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=g,g=c.innerHTML,c=Lo.getInertBodyElement(h)}while(h!==g);return js((new np).sanitizeChildren(Dd(c)||c))}finally{if(c){const h=Dd(c)||c;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Dd(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var vn=(()=>((vn=vn||{})[vn.NONE=0]="NONE",vn[vn.HTML=1]="HTML",vn[vn.STYLE=2]="STYLE",vn[vn.SCRIPT=3]="SCRIPT",vn[vn.URL=4]="URL",vn[vn.RESOURCE_URL=5]="RESOURCE_URL",vn))();function Sd(o){const a=function(){const o=Ie();return o&&o[12]}();return a?a.sanitize(vn.URL,o)||"":Pc(o,"URL")?Gs(o):_l(ye(o))}const Ca="__ngContext__";function or(o,a){o[Ca]=a}function xd(o){const a=function(o){return o[Ca]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Da(o){return o.ngOriginalError}function C(o,...a){o.error(...a)}class m{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),h=this._findContext(a),f=(o=a)&&o.ngErrorLogger||C;var o;f(this._console,"ERROR",a),c&&f(this._console,"ORIGINAL ERROR",c),h&&f(this._console,"ERROR CONTEXT",h)}_findContext(a){return a?a.ngDebugContext||this._findContext(Da(a)):null}_findOriginalError(a){let c=a&&Da(a);for(;c&&Da(c);)c=Da(c);return c||null}}const Hc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(tn))();function Si(o){return o instanceof Function?o():o}var ws=(()=>((ws=ws||{})[ws.Important=1]="Important",ws[ws.DashCase=2]="DashCase",ws))();function Pd(o,a){return undefined(o,a)}function cp(o){const a=o[3];return wi(a)?a[3]:a}function h_(o){return _b(o[13])}function EC(o){return _b(o[4])}function _b(o){for(;null!==o&&!wi(o);)o=o[4];return o}function $c(o,a,c,h,f){if(null!=h){let g,b=!1;wi(h)?g=h:$i(h)&&(b=!0,h=h[0]);const w=cn(h);0===o&&null!==c?null==f?SC(a,c,w):Cl(a,c,w,f||null,!0):1===o&&null!==c?Cl(a,c,w,f||null,!0):2===o?function(o,a,c){const h=m_(o,a);h&&function(o,a,c,h){ln(o)?o.removeChild(a,c,h):a.removeChild(c)}(o,h,a,c)}(a,w,b):3===o&&a.destroyNode(w),null!=g&&function(o,a,c,h,f){const g=c[7];g!==cn(c)&&$c(a,o,h,g,f);for(let w=10;w<c.length;w++){const I=c[w];qc(I[1],I,o,a,h,g)}}(a,o,g,c,f)}}function yb(o,a,c){return ln(o)?o.createElement(a,c):null===c?o.createElement(a):o.createElementNS(c,a)}function p_(o,a){const c=o[9],h=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,il(f,-1)),c.splice(h,1)}function g_(o,a){if(o.length<=10)return;const c=10+a,h=o[c];if(h){const f=h[17];null!==f&&f!==o&&p_(f,h),a>0&&(o[c-1][4]=h[4]);const g=xo(o,10+a);!function(o,a){qc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function TC(o,a){if(!(256&a[2])){const c=a[11];ln(c)&&c.destroyNode&&qc(o,a,c,3,null,null),function(o){let a=o[13];if(!a)return El(o[1],o);for(;a;){let c=null;if($i(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==o;)$i(a)&&El(a[1],a),a=a[3];null===a&&(a=o),$i(a)&&El(a[1],a),c=a&&a[4]}a=c}}(a)}}function El(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const f=a[c[h]];if(!(f instanceof ld)){const g=c[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const w=f[g[b]],I=g[b+1];try{I.call(w)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function(o,a){const c=o.cleanup,h=a[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const b=c[g+1],w="function"==typeof b?b(a):cn(a[b]),I=h[f=c[g+2]],S=c[g+3];"boolean"==typeof S?w.removeEventListener(c[g],I,S):S>=0?h[f=S]():h[f=-S].unsubscribe(),g+=2}else{const b=h[f=c[g+1]];c[g].call(b)}if(null!==h){for(let g=f+1;g<h.length;g++)h[g]();a[7]=null}}(o,a),1===a[1].type&&ln(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&wi(a[3])){c!==a[3]&&p_(c,a);const h=a[19];null!==h&&h.detachView(o)}}}function IC(o,a,c){return function(o,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===Pe.None||f===Pe.Emulated)return null}return Mr(h,c)}(o,a.parent,c)}function Cl(o,a,c,h,f){ln(o)?o.insertBefore(a,c,h,f):a.insertBefore(c,h,f)}function SC(o,a,c){ln(o)?o.appendChild(a,c):a.appendChild(c)}function AC(o,a,c,h,f){null!==h?Cl(o,a,c,h,f):SC(o,a,c)}function m_(o,a){return ln(o)?o.parentNode(a):a.parentNode}function y_(o,a,c){return zc(o,a,c)}let zc=function(o,a,c){return 40&o.type?Mr(o,c):null};function up(o,a,c,h){const f=IC(o,h,a),g=a[11],w=y_(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)AC(g,f,c[I],w,!1);else AC(g,f,c,w,!1)}function b_(o,a){if(null!==a){const c=a.type;if(3&c)return Mr(a,o);if(4&c)return Eb(-1,o[a.index]);if(8&c){const h=a.child;if(null!==h)return b_(o,h);{const f=o[a.index];return wi(f)?Eb(-1,f):cn(f)}}if(32&c)return Pd(a,o)()||cn(o[a.index]);{const h=wb(o,a);return null!==h?Array.isArray(h)?h[0]:b_(cp(o[16]),h):b_(o,a.next)}}return null}function wb(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Eb(o,a){const c=10+o+1;if(c<a.length){const h=a[c],f=h[1].firstChild;if(null!==f)return b_(h,f)}return a[7]}function w_(o,a,c,h,f,g,b){for(;null!=c;){const w=h[c.index],I=c.type;if(b&&0===a&&(w&&or(cn(w),h),c.flags|=4),64!=(64&c.flags))if(8&I)w_(o,a,c.child,h,f,g,!1),$c(a,o,f,w,g);else if(32&I){const S=Pd(c,h);let M;for(;M=S();)$c(a,o,f,M,g);$c(a,o,f,w,g)}else 16&I?Tl(o,a,h,c,f,g):$c(a,o,f,w,g);c=b?c.projectionNext:c.next}}function qc(o,a,c,h,f,g){w_(c,h,o.firstChild,a,f,g,!1)}function Tl(o,a,c,h,f,g){const b=c[16],I=b[6].projection[h.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)$c(a,o,f,I[S],g);else w_(o,a,I,b[3],f,g,!0)}function OC(o,a,c){ln(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function Tb(o,a,c){ln(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function Ib(o,a,c){let h=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===h||o.charCodeAt(f+g)<=32)return f}c=f+1}}const RC="ng-template";function LA(o,a,c){let h=0;for(;h<o.length;){let f=o[h++];if(c&&"class"===f){if(f=o[h],-1!==Ib(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Db(o){return 4===o.type&&o.value!==RC}function VA(o,a,c){return a===(4!==o.type||c?o.value:RC)}function BA(o,a,c){let h=4;const f=o.attrs||[],g=function(o){for(let a=0;a<o.length;a++)if(Rm(o[a]))return a;return o.length}(f);let b=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!b)if(4&h){if(h=2|1&h,""!==I&&!VA(o,I,c)||""===I&&1===a.length){if(qs(h))return!1;b=!0}}else{const S=8&h?I:a[++w];if(8&h&&null!==o.attrs){if(!LA(o.attrs,S,c)){if(qs(h))return!1;b=!0}continue}const R=Sb(8&h?"class":I,f,Db(o),c);if(-1===R){if(qs(h))return!1;b=!0;continue}if(""!==S){let N;N=R>g?"":f[R+1].toLowerCase();const U=8&h?N:null;if(U&&-1!==Ib(U,S,0)||2&h&&S!==N){if(qs(h))return!1;b=!0}}}}else{if(!b&&!qs(h)&&!qs(I))return!1;if(b&&qs(I))continue;b=!1,h=I|1&h}}return qs(h)||b}function qs(o){return 0==(1&o)}function Sb(o,a,c,h){if(null===a)return-1;let f=0;if(h||!c){let g=!1;for(;f<a.length;){const b=a[f];if(b===o)return f;if(3===b||6===b)g=!0;else{if(1===b||2===b){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=g?1:2}return-1}return function(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,o)}function kC(o,a,c=!1){for(let h=0;h<a.length;h++)if(BA(o,a[h],c))return!0;return!1}function zR(o,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function PC(o,a){return o?":not("+a.trim()+")":a}function HA(o){let a=o[0],c=1,h=2,f="",g=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&h){const w=o[++c];f+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!qs(b)&&(a+=PC(g,f),f=""),h=b,g=g||!qs(h);c++}return""!==f&&(a+=PC(g,f)),a}const mt={};function FC(o){LC(Ot(),Ie(),xr()+o,ol())}function LC(o,a,c,h){if(!h)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&cl(a,g,c)}else{const g=o.preOrderHooks;null!==g&&ad(a,g,0,c)}al(c)}function Il(o,a){return o<<17|a<<2}function Ws(o){return o>>17&32767}function BC(o){return 2|o}function xa(o){return(131068&o)>>2}function Ee(o,a){return-131069&o|a<<2}function T_(o){return 1|o}function Yc(o,a){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const f=c[h],g=c[h+1];if(-1!==g){const b=o.data[g];Ec(f),b.contentQueries(2,a[g],g)}}}function Ld(o,a,c,h,f,g,b,w,I,S){const M=a.blueprint.slice();return M[0]=f,M[2]=140|h,ed(M),M[3]=M[15]=o,M[8]=c,M[10]=b||o&&o[10],M[11]=w||o&&o[11],M[12]=I||o&&o[12]||null,M[9]=S||o&&o[9]||null,M[6]=g,M[16]=2==a.type?o[16]:M,M}function Vd(o,a,c,h,f){let g=o.data[a];if(null===g)g=function(o,a,c,h,f){const g=bf(),b=nd(),I=o.data[a]=function(o,a,c,h,f,g){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,c,a,h,f);return null===o.firstChild&&(o.firstChild=I),null!==g&&(b?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(o,a,c,h,f),ht.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=h,g.attrs=f;const b=function(){const o=ht.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Ei(g,!0),g}function ka(o,a,c,h){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function Zc(o,a,c){od(a);try{const h=o.viewQuery;null!==h&&Sl(1,h,c);const f=o.template;null!==f&&YC(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Yc(o,a),o.staticViewQueries&&Sl(2,o.viewQuery,c);const g=o.components;null!==g&&function(o,a){for(let c=0;c<a.length;c++)qb(o,a[c])}(a,g)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Cc()}}function Dl(o,a,c,h){const f=a[2];if(256==(256&f))return;od(a);const g=ol();try{ed(a),function(o){ht.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&YC(o,a,c,2,h);const b=3==(3&f);if(!g)if(b){const S=o.preOrderCheckHooks;null!==S&&cl(a,S,null)}else{const S=o.preOrderHooks;null!==S&&ad(a,S,0,null),Df(a,0)}if(function(o){for(let a=h_(o);null!==a;a=EC(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const f=c[h],g=f[3];0==(1024&f[2])&&il(g,1),f[2]|=1024}}}(a),function(o){for(let a=h_(o);null!==a;a=EC(a))for(let c=10;c<a.length;c++){const h=a[c],f=h[1];Im(h)&&Dl(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&Yc(o,a),!g)if(b){const S=o.contentCheckHooks;null!==S&&cl(a,S)}else{const S=o.contentHooks;null!==S&&ad(a,S,1),Df(a,1)}!function(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const f=c[h];if(f<0)al(~f);else{const g=f,b=c[++h],w=c[++h];Dm(b,g),w(2,a[g])}}}finally{al(-1)}}(o,a);const w=o.components;null!==w&&function(o,a){for(let c=0;c<a.length;c++)L_(o,a[c])}(a,w);const I=o.viewQuery;if(null!==I&&Sl(2,I,h),!g)if(b){const S=o.viewCheckHooks;null!==S&&cl(a,S)}else{const S=o.viewHooks;null!==S&&ad(a,S,2),Df(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,il(a[3],-1))}finally{Cc()}}function Pb(o,a,c,h){const f=a[10],g=!ol(),b=mf(a);try{g&&!b&&f.begin&&f.begin(),b&&Zc(o,a,h),Dl(o,a,c,h)}finally{g&&!b&&f.end&&f.end()}}function YC(o,a,c,h,f){const g=xr(),b=2&h;try{al(-1),b&&a.length>20&&LC(o,a,20,ol()),c(h,f)}finally{al(g)}}function ZC(o,a,c){if(pc(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const b=o.data[g];b.contentQueries&&b.contentQueries(1,c[g],g)}}}function pp(o,a,c){!yf()||(function(o,a,c,h){const f=c.directiveStart,g=c.directiveEnd;o.firstCreatePass||Bs(c,a),or(h,a);const b=c.initialInputs;for(let w=f;w<g;w++){const I=o.data[w],S=Hr(I);S&&nT(a,c,I);const M=on(a,o,w,c);or(M,a),null!==b&&$b(0,w-f,M,I,0,b),S&&(Gr(c.index,a)[8]=M)}}(o,a,c,Mr(c,a)),128==(128&c.flags)&&function(o,a,c){const h=c.directiveStart,f=c.directiveEnd,b=c.index,w=ht.lFrame.currentDirectiveIndex;try{al(b);for(let I=h;I<f;I++){const S=o.data[I],M=a[I];Cf(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&N_(S,M)}}finally{al(-1),Cf(w)}}(o,a,c))}function O_(o,a,c=Mr){const h=a.localNames;if(null!==h){let f=a.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],w=-1===b?c(a,o):o[b];o[f++]=w}}}function KC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=R_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function R_(o,a,c,h,f,g,b,w,I,S){const M=20+h,R=M+f,N=function(o,a){const c=[];for(let h=0;h<a;h++)c.push(h<o?null:mt);return c}(M,R),U="function"==typeof S?S():S;return N[1]={type:o,blueprint:N,template:c,queries:null,viewQuery:w,declTNode:a,data:N.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:U,incompleteFirstPass:!1}}function QC(o,a,c,h){const f=Al(a);null===c?f.push(h):(f.push(c),o.firstCreatePass&&Wb(o).push(h,f.length-1))}function gp(o,a,c){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,f):c[h]=[a,f]}return c}function ci(o,a,c,h,f,g,b,w){const I=Mr(a,c);let M,S=a.inputs;!w&&null!=S&&(M=S[h])?(jd(o,c,M,h,f),gc(a)&&function(o,a){const c=Gr(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(h=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=b?b(f,a.value||"",h):f,ln(g)?g.setProperty(I,h,f):ps(h)||(I.setProperty?I.setProperty(h,f):I[h]=f))}function mp(o,a,c,h){let f=!1;if(yf()){const g=function(o,a,c){const h=o.directiveRegistry;let f=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];kC(c,b.selectors,!1)&&(f||(f=[]),ft(Bs(c,a),o,b.type),Hr(b)?(gr(o,c),f.unshift(b)):f.push(b))}return f}(o,a,c),b=null===h?null:{"":-1};if(null!==g){f=!0,eT(c,o.data.length,g.length);for(let M=0;M<g.length;M++){const R=g[M];R.providersResolver&&R.providersResolver(R)}let w=!1,I=!1,S=ka(o,a,g.length,null);for(let M=0;M<g.length;M++){const R=g[M];c.mergedAttrs=Do(c.mergedAttrs,R.hostAttrs),tT(o,c,a,S,R),Hb(S,R,b),null!==R.contentQueries&&(c.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=128);const N=R.type.prototype;!w&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!I&&(N.ngOnChanges||N.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),I=!0),S++}!function(o,a){const h=a.directiveEnd,f=o.data,g=a.attrs,b=[];let w=null,I=null;for(let S=a.directiveStart;S<h;S++){const M=f[S],R=M.inputs,N=null===g||Db(a)?null:zb(R,g);b.push(N),w=gp(R,S,w),I=gp(M.outputs,S,I)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=w,a.outputs=I}(o,c)}b&&function(o,a,c){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new me("301",`Export of name '${a[f+1]}' not found!`);h.push(a[f],g)}}}(c,h,b)}return c.mergedAttrs=Do(c.mergedAttrs,c.attrs),f}function Bb(o,a,c,h,f,g){const b=g.hostBindings;if(b){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const I=~a.index;(function(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=I&&w.push(I),w.push(h,f,b)}}function N_(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function gr(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function Hb(o,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=o;Hr(a)&&(c[""]=o)}}function eT(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function tT(o,a,c,h,f){o.data[h]=f;const g=f.factory||(f.factory=Co(f.type)),b=new ld(g,Hr(f),null);o.blueprint[h]=b,c[h]=b,Bb(o,a,0,h,ka(o,c,f.hostVars,mt),f)}function nT(o,a,c){const h=Mr(a,o),f=KC(c),g=o[10],b=V_(o,Ld(o,f,null,c.onPush?64:16,h,a,g,g.createRenderer(h,c),null,null));o[a.index]=b}function Vo(o,a,c,h,f,g){const b=Mr(o,a);!function(o,a,c,h,f,g,b){if(null==g)ln(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const w=null==b?ye(g):b(g,h||"",f);ln(o)?o.setAttribute(a,f,w,c):c?a.setAttributeNS(c,f,w):a.setAttribute(f,w)}}(a[11],b,g,o.value,c,h,f)}function $b(o,a,c,h,f,g){const b=g[a];if(null!==b){const w=h.setInput;for(let I=0;I<b.length;){const S=b[I++],M=b[I++],R=b[I++];null!==w?h.setInput(c,R,S,M):c[M]=R}}}function zb(o,a){let c=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[h+1])),h+=2}else h+=2;else h+=4}return c}function F_(o,a,c,h){return new Array(o,!0,!1,a,null,0,h,c,null,null)}function L_(o,a){const c=Gr(a,o);if(Im(c)){const h=c[1];80&c[2]?Dl(h,c,h.template,c[8]):c[5]>0&&_p(c)}}function _p(o){for(let h=h_(o);null!==h;h=EC(h))for(let f=10;f<h.length;f++){const g=h[f];if(1024&g[2]){const b=g[1];Dl(b,g,b.template,g[8])}else g[5]>0&&_p(g)}const c=o[1].components;if(null!==c)for(let h=0;h<c.length;h++){const f=Gr(c[h],o);Im(f)&&f[5]>0&&_p(f)}}function qb(o,a){const c=Gr(a,o),h=c[1];(function(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(h,c),Zc(h,c,c[8])}function V_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Kc(o){for(;o;){o[2]|=64;const a=cp(o);if(Hn(o)&&!a)return o;o=a}return null}function U_(o,a,c){const h=a[10];h.begin&&h.begin();try{Dl(o,a,o.template,c)}catch(f){throw Yb(a,f),f}finally{h.end&&h.end()}}function yp(o){!function(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],h=xd(c),f=h[1];Pb(f,h,f.template,c)}}(o[8])}function Sl(o,a,c){Ec(0),a(o,c)}const nM=(()=>Promise.resolve(null))();function Al(o){return o[7]||(o[7]=[])}function Wb(o){return o.cleanup||(o.cleanup=[])}function Yb(o,a){const c=o[9],h=c?c.get(m,null):null;h&&h.handleError(a)}function jd(o,a,c,h,f){for(let g=0;g<c.length;){const b=c[g++],w=c[g++],I=a[b],S=o.data[b];null!==S.setInput?S.setInput(I,f,h,w):I[w]=f}}function Bo(o,a,c){const h=nl(a,o);!function(o,a,c){ln(o)?o.setValue(a,c):a.textContent=c}(o[11],h,c)}function mr(o,a,c){let h=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let b=0;b<a.length;b++){const w=a[b];"number"==typeof w?g=w:1==g?f=z(f,w):2==g&&(h=z(h,w+": "+a[++b]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=f:o.classesWithoutHost=f}const Qc=new hn("INJECTOR",-1);class j_{get(a,c=Ac){if(c===Ac){const h=new Error(`NullInjectorError: No provider for ${J(a)}!`);throw h.name="NullInjectorError",h}return c}}const Hd=new hn("Set Injector scope."),Gd={},wp={};let Ep;function H_(){return void 0===Ep&&(Ep=new j_),Ep}function Cp(o,a=null,c=null,h){return new Tp(o,c,a||H_(),h)}class Tp{constructor(a,c,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&ms(c,w=>this.processProvider(w,a,c)),ms([a],w=>this.processInjectorType(w,[],g)),this.records.set(Qc,Ml(void 0,this));const b=this.records.get(Hd);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof a?null:J(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Ac,h=Ye.Default){this.assertNotDestroyed();const f=vt(this),g=Ur(void 0);try{if(!(h&Ye.SkipSelf)){let w=this.records.get(a);if(void 0===w){const I=("function"==typeof(o=a)||"object"==typeof o&&o instanceof hn)&&er(a);w=I&&this.injectableDefInScope(I)?Ml(G_(a),Gd):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(h&Ye.Self?H_():this.parent).get(a,c=h&Ye.Optional&&c===Ac?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[ko]=b[ko]||[]).unshift(J(a)),f)throw b;return ii(b,a,"R3InjectorError",this.source)}throw b}finally{Ur(g),vt(f)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,f)=>a.push(J(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,c,h){if(!(a=P(a)))return!1;let f=po(a);const g=null==f&&a.ngModule||void 0,b=void 0===g?a:g,w=-1!==h.indexOf(b);if(void 0!==g&&(f=po(g)),null==f)return!1;if(null!=f.imports&&!w){let M;h.push(b);try{ms(f.imports,R=>{this.processInjectorType(R,c,h)&&(void 0===M&&(M=[]),M.push(R))})}finally{}if(void 0!==M)for(let R=0;R<M.length;R++){const{ngModule:N,providers:U}=M[R];ms(U,Y=>this.processProvider(Y,N,U||G))}}this.injectorDefTypes.add(b);const I=Co(b)||(()=>new b);this.records.set(b,Ml(I,Gd));const S=f.providers;if(null!=S&&!w){const M=a;ms(S,R=>this.processProvider(R,M,S))}return void 0!==g&&void 0!==a.providers}processProvider(a,c,h){let f=$d(a=P(a))?a:P(a&&a.provide);const g=Jb(o=a)?Ml(void 0,o.useValue):Ml(Ip(o),Gd);var o;if($d(a)||!0!==a.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Ml(void 0,Gd,!0),b.factory=()=>Po(b.multi),this.records.set(f,b)),f=a,b.multi.push(a)}this.records.set(f,g)}hydrate(a,c){return c.value===Gd&&(c.value=wp,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const c=P(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function G_(o){const a=er(o),c=null!==a?a.factory:Co(o);if(null!==c)return c;if(o instanceof hn)throw new Error(`Token ${J(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const h=Oo(a,"?");throw new Error(`Can't resolve all parameters for ${J(o)}: (${h.join(", ")}).`)}const c=function(o){const a=o&&(o[ks]||o[mo]);if(a){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function Ip(o,a,c){let h;if($d(o)){const f=P(o);return Co(f)||G_(f)}if(Jb(o))h=()=>P(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Po(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))h=()=>nn(P(o.useExisting));else{const f=P(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Co(f)||G_(f);h=()=>new f(...Po(o.deps))}return h}function Ml(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Jb(o){return null!==o&&"object"==typeof o&&hl in o}function $d(o){return"function"==typeof o}const uT=function(o,a,c){return function(o,a=null,c=null,h){const f=Cp(o,a,c,h);return f._resolveInjectorDefTypes(),f}({name:c},a,o,c)};class qt{static create(a,c){return Array.isArray(a)?uT(a,c,""):uT(a.providers,a.parent,a.name||"")}}function Z_(o,a){ll(xd(o)[1],sn())}function kp(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;a;){let f;if(Hr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");f=a.\u0275dir}if(f){if(c){h.push(f);const b=o;b.inputs=Xc(o.inputs),b.declaredInputs=Xc(o.declaredInputs),b.outputs=Xc(o.outputs);const w=f.hostBindings;w&&Yn(o,w);const I=f.viewQuery,S=f.contentQueries;if(I&&Np(o,I),S&&hM(o,S),X(o.inputs,f.inputs),X(o.declaredInputs,f.declaredInputs),X(o.outputs,f.outputs),Hr(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let b=0;b<g.length;b++){const w=g[b];w&&w.ngInherit&&w(o),w===kp&&(c=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,c=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=Do(f.hostAttrs,c=Do(c,f.hostAttrs))}}(h)}function Xc(o){return o===zt?{}:o===G?[]:o}function Np(o,a){const c=o.viewQuery;o.viewQuery=c?(h,f)=>{a(h,f),c(h,f)}:a}function hM(o,a){const c=o.contentQueries;o.contentQueries=c?(h,f,g)=>{a(h,f,g),c(h,f,g)}:a}function Yn(o,a){const c=o.hostBindings;o.hostBindings=c?(h,f)=>{a(h,f),c(h,f)}:a}qt.THROW_IF_NOT_FOUND=Ac,qt.NULL=new j_,qt.\u0275prov=en({token:qt,providedIn:"any",factory:()=>nn(Qc)}),qt.__NG_ELEMENT_ID__=-1;let Q_=null;function Zd(){if(!Q_){const o=tn.Symbol;if(o&&o.iterator)Q_=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Q_=h)}}}return Q_}class Es{constructor(a){this.wrapped=a}static wrap(a){return new Es(a)}static unwrap(a){return Es.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Es}}function Kd(o){return!!Zs(o)&&(Array.isArray(o)||!(o instanceof Map)&&Zd()in o)}function Zs(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ks(o,a,c){return o[a]=c}function _r(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Qd(o,a,c,h){const f=Ie();return _r(f,Vs(),a)&&(Ot(),Vo(Nn(),f,o,a,c,h)),Qd}function Ol(o,a,c,h){return _r(o,Vs(),c)?a+ye(c)+h:mt}function Vp(o,a,c,h,f,g,b,w){const I=Ie(),S=Ot(),M=o+20,R=S.firstCreatePass?function(o,a,c,h,f,g,b,w,I){const S=a.consts,M=Vd(a,o,4,b||null,ia(S,w));mp(a,c,M,ia(S,I)),ll(a,M);const R=M.tViews=R_(2,M,h,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,M),R.queries=a.queries.embeddedTView(M)),M}(M,S,I,a,c,h,f,g,b):S.data[M];Ei(R,!1);const N=I[11].createComment("");up(S,I,N,R),or(N,I),V_(I,I[M]=F_(N,I,N,R)),el(R)&&pp(S,I,R),null!=b&&O_(I,R,w)}function fw(o){return Io(ht.lFrame.contextLView,20+o)}function Hp(o,a=Ye.Default){const c=Ie();return null===c?nn(o,a):ul(sn(),c,P(o),a)}function bw(o,a,c){const h=Ie();return _r(h,Vs(),a)&&ci(Ot(),Nn(),h,o,a,h[11],c,!1),bw}function jo(o,a,c,h,f){const b=f?"class":"style";jd(o,c,a.inputs[b],b,h)}function Fl(o,a,c,h){const f=Ie(),g=Ot(),b=20+o,w=f[11],I=f[b]=yb(w,a,ht.lFrame.currentNamespace),S=g.firstCreatePass?function(o,a,c,h,f,g,b){const w=a.consts,S=Vd(a,o,2,f,ia(w,g));return mp(a,c,S,ia(w,b)),null!==S.attrs&&mr(S,S.attrs,!1),null!==S.mergedAttrs&&mr(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(b,g,f,0,a,c,h):g.data[b];Ei(S,!0);const M=S.mergedAttrs;null!==M&&fs(w,I,M);const R=S.classes;null!==R&&Tb(w,I,R);const N=S.styles;null!==N&&OC(w,I,N),64!=(64&S.flags)&&up(g,f,I,S),0===ht.lFrame.elementDepthCount&&or(I,f),ht.lFrame.elementDepthCount++,el(S)&&(pp(g,f,S),ZC(g,S,f)),null!==h&&O_(f,S)}function Gp(){let o=sn();nd()?sl():(o=o.parent,Ei(o,!1));const a=o;ht.lFrame.elementDepthCount--;const c=Ot();c.firstCreatePass&&(ll(c,o),pc(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&jo(c,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&jo(c,a,Ie(),a.stylesWithoutHost,!1)}function ww(o,a,c,h){Fl(o,a,c,h),Gp()}function th(o,a,c){const h=Ie(),f=Ot(),g=o+20,b=f.firstCreatePass?function(o,a,c,h,f){const g=a.consts,b=ia(g,h),w=Vd(a,o,8,"ng-container",b);return null!==b&&mr(w,b,!0),mp(a,c,w,ia(g,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,f,h,a,c):f.data[g];Ei(b,!0);const w=h[g]=h[11].createComment("");up(f,h,w,b),or(w,h),el(b)&&(pp(f,h,b),ZC(f,b,h)),null!=c&&O_(h,b)}function ry(){let o=sn();const a=Ot();nd()?sl():(o=o.parent,Ei(o,!1)),a.firstCreatePass&&(ll(a,o),pc(o)&&a.queries.elementEnd(o))}function Ll(){return Ie()}function Cs(o){return!!o&&"function"==typeof o.then}function nh(o){return!!o&&"function"==typeof o.subscribe}const Vl=nh;function iy(o,a,c,h){const f=Ie(),g=Ot(),b=sn();return function(o,a,c,h,f,g,b,w){const I=el(h),M=o.firstCreatePass&&Wb(o),R=a[8],N=Al(a);let U=!0;if(3&h.type||w){const ee=Mr(h,a),xe=w?w(ee):ee,we=N.length,Ke=w?ct=>w(cn(ct[h.index])):h.index;if(ln(c)){let ct=null;if(!w&&I&&(ct=function(o,a,c,h){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const b=f[g];if(b===c&&f[g+1]===h){const w=a[7],I=f[g+2];return w.length>I?w[I]:null}"string"==typeof b&&(g+=2)}return null}(o,a,f,h.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=g,ct.__ngLastListenerFn__=g,U=!1;else{g=zp(h,a,R,g,!1);const Nt=c.listen(xe,f,g);N.push(g,Nt),M&&M.push(f,Ke,we,we+1)}}else g=zp(h,a,R,g,!0),xe.addEventListener(f,g,b),N.push(g),M&&M.push(f,Ke,we,b)}else g=zp(h,a,R,g,!1);const Y=h.outputs;let le;if(U&&null!==Y&&(le=Y[f])){const ee=le.length;if(ee)for(let xe=0;xe<ee;xe+=2){const Bn=a[le[xe]][le[xe+1]].subscribe(g),Fi=N.length;N.push(g,Bn),M&&M.push(f,h.index,Fi,-(Fi+1))}}}(g,f,f[11],b,o,a,!!c,h),iy}function oy(o,a,c,h){try{return!1!==c(h)}catch(f){return Yb(o,f),!1}}function zp(o,a,c,h,f){return function g(b){if(b===Function)return h;const w=2&o.flags?Gr(o.index,a):a;0==(32&a[2])&&Kc(w);let I=oy(a,0,h,b),S=g.__ngNextListenerFn__;for(;S;)I=oy(a,0,S,b)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function Cw(o=1){return function(o){return(ht.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,ht.lFrame.contextLView))[8]}(o)}function PT(o,a){let c=null;const h=function(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===h?kC(o,g,!0):zR(h,g))return f}else c=f}return c}function qp(o){const a=Ie()[16][6];if(!a.projection){const h=a.projection=Oo(o?o.length:1,null),f=h.slice();let g=a.child;for(;null!==g;){const b=o?PT(g,o):0;null!==b&&(f[b]?f[b].projectionNext=g:h[b]=g,f[b]=g),g=g.next}}}function rh(o,a=0,c){const h=Ie(),f=Ot(),g=Vd(f,20+o,16,null,c||null);null===g.projection&&(g.projection=a),sl(),64!=(64&g.flags)&&function(o,a,c){Tl(a[11],0,a,c,IC(o,c,a),y_(c.parent||a[6],c,a))}(f,h,g)}function VT(o,a,c,h,f){const g=o[c+1],b=null===a;let w=h?Ws(g):xa(g),I=!1;for(;0!==w&&(!1===I||b);){const M=o[w+1];BT(o[w],a)&&(I=!0,o[w+1]=h?T_(M):BC(M)),w=h?Ws(M):xa(M)}I&&(o[c+1]=h?BC(g):T_(g))}function BT(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Ro(o,a)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UT(o){return o.substring(ar.key,ar.keyEnd)}function sh(o,a){const c=ar.textEnd;return c===a?-1:(a=ar.keyEnd=function(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,ar.key=a,c),cu(o,a,c))}function cu(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Kp(o,a,c){return di(o,a,c,!1),Kp}function Qp(o,a){return di(o,a,null,!0),Qp}function Js(o,a){for(let c=function(o){return function(o){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=o.length}(o),sh(o,cu(o,0,ar.textEnd))}(a);c>=0;c=sh(a,c))Tn(o,UT(a),!0)}function di(o,a,c,h){const f=Ie(),g=Ot(),b=ni(2);g.firstUpdatePass&&lh(g,o,b,h),a!==mt&&_r(f,b,a)&&uu(g,g.data[xr()],f,f[11],o,f[b+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=J(Gs(o)))),o}(a,c),h,b)}function cy(o,a){return a>=o.expandoStartIndex}function lh(o,a,c,h){const f=o.data;if(null===f[c+1]){const g=f[xr()],b=cy(o,c);Sw(g,h)&&null===a&&!b&&(a=!1),a=function(o,a,c,h){const f=function(o){const a=ht.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(c=Bl(c=uy(null,o,a,c,h),a.attrs,h),g=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==f)if(c=uy(f,o,a,c,h),null===g){let I=function(o,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==xa(h))return o[Ws(h)]}(o,a,h);void 0!==I&&Array.isArray(I)&&(I=uy(null,o,a,I[1],h),I=Bl(I,a.attrs,h),function(o,a,c,h){o[Ws(c?a.classBindings:a.styleBindings)]=h}(o,a,h,I))}else g=function(o,a,c){let h;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)h=Bl(h,o[g].hostAttrs,c);return Bl(h,a.attrs,c)}(o,a,h)}return void 0!==g&&(h?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,h),function(o,a,c,h,f,g){let b=g?a.classBindings:a.styleBindings,w=Ws(b),I=xa(b);o[h]=c;let M,S=!1;if(Array.isArray(c)){const R=c;M=R[1],(null===M||Ro(R,M)>0)&&(S=!0)}else M=c;if(f)if(0!==I){const N=Ws(o[w+1]);o[h+1]=Il(N,w),0!==N&&(o[N+1]=Ee(o[N+1],h)),o[w+1]=function(o,a){return 131071&o|a<<17}(o[w+1],h)}else o[h+1]=Il(w,0),0!==w&&(o[w+1]=Ee(o[w+1],h)),w=h;else o[h+1]=Il(I,0),0===w?w=h:o[I+1]=Ee(o[I+1],h),I=h;S&&(o[h+1]=BC(o[h+1])),VT(o,M,h,!0),VT(o,M,h,!1),function(o,a,c,h,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Ro(g,a)>=0&&(c[h+1]=T_(c[h+1]))}(a,M,o,h,g),b=Il(w,I),g?a.classBindings=b:a.styleBindings=b}(f,g,a,c,b,h)}}function uy(o,a,c,h,f){let g=null;const b=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<b&&(g=a[w],h=Bl(h,g.hostAttrs,f),g!==o);)w++;return null!==o&&(c.directiveStylingLast=w),h}function Bl(o,a,c){const h=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const b=a[g];"number"==typeof b?f=b:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Tn(o,b,!!c||a[++g]))}return void 0===o?null:o}function uu(o,a,c,h,f,g,b,w){if(!(3&a.type))return;const I=o.data,S=I[w+1];Jp(function(o){return 1==(1&o)}(S)?Ul(I,a,c,f,xa(S),b):void 0)||(Jp(g)||function(o){return 2==(2&o)}(S)&&(g=Ul(I,null,c,f,w,b)),function(o,a,c,h,f){const g=ln(o);if(a)f?g?o.addClass(c,h):c.classList.add(h):g?o.removeClass(c,h):c.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:ws.DashCase;if(null==f)g?o.removeStyle(c,h,b):c.style.removeProperty(h);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),b|=ws.Important),g?o.setStyle(c,h,f,b):c.style.setProperty(h,f,w?"important":"")}}}(h,b,nl(xr(),c),f,g))}function Ul(o,a,c,h,f,g){const b=null===a;let w;for(;f>0;){const I=o[f],S=Array.isArray(I),M=S?I[1]:I,R=null===M;let N=c[f+1];N===mt&&(N=R?G:void 0);let U=R?Gn(N,h):M===h?N:void 0;if(S&&!Jp(U)&&(U=Gn(I,h)),Jp(U)&&(w=U,b))return w;const Y=o[f+1];f=b?Ws(Y):xa(Y)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(w=Gn(I,h))}return w}function Jp(o){return void 0!==o}function Sw(o,a){return 0!=(o.flags&(a?16:32))}function hu(o,a=""){const c=Ie(),h=Ot(),f=o+20,g=h.firstCreatePass?Vd(h,f,1,a,null):h.data[f],b=c[f]=function(o,a){return ln(o)?o.createText(a):o.createTextNode(a)}(c[11],a);up(h,c,b,g),Ei(g,!1)}function dy(o){return Xp("",o,""),dy}function Xp(o,a,c){const h=Ie(),f=Ol(h,o,a,c);return f!==mt&&Bo(h,xr(),f),Xp}function QT(o,a,c){!function(o,a,c,h){const f=Ot(),g=ni(2);f.firstUpdatePass&&lh(f,null,g,h);const b=Ie();if(c!==mt&&_r(b,g,c)){const w=f.data[xr()];if(Sw(w,h)&&!cy(f,g)){let I=h?w.classesWithoutHost:w.stylesWithoutHost;null!==I&&(c=z(I,c||"")),jo(f,w,b,c,h)}else!function(o,a,c,h,f,g,b,w){f===mt&&(f=G);let I=0,S=0,M=0<f.length?f[0]:null,R=0<g.length?g[0]:null;for(;null!==M||null!==R;){const N=I<f.length?f[I+1]:void 0,U=S<g.length?g[S+1]:void 0;let le,Y=null;M===R?(I+=2,S+=2,N!==U&&(Y=R,le=U)):null===R||null!==M&&M<R?(I+=2,Y=M):(S+=2,Y=R,le=U),null!==Y&&uu(o,a,c,h,Y,le,b,w),M=I<f.length?f[I]:null,R=S<g.length?g[S]:null}}(f,w,b,b[11],b[g+1],b[g+1]=function(o,a,c){if(null==c||""===c)return G;const h=[],f=Gs(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(h,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(h,g,f[g]);else"string"==typeof f&&a(h,f);return h}(o,a,c),h,g)}}(Tn,Js,Ol(Ie(),o,a,c),!0)}function Wt(o,a,c){const h=Ie();return _r(h,Vs(),a)&&ci(Ot(),Nn(),h,o,a,h[11],c,!0),Wt}const Ho=void 0;var sg=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Va={};function gy(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Ow(a);if(c)return c;const h=a.split("-")[0];if(c=Ow(h),c)return c;if("en"===h)return sg;throw new Error(`Missing locale data for the locale "${o}".`)}function uI(o){return gy(o)[at.PluralCase]}function Ow(o){return o in Va||(Va[o]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[o]),Va[o]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const ag="en-US";let Xs=ag;function lg(o){st(o,"Expected localeId to be defined"),"string"==typeof o&&(Xs=o.toLowerCase().replace(/_/g,"-"))}function Ey(o,a,c,h,f){if(o=P(o),Array.isArray(o))for(let g=0;g<o.length;g++)Ey(o[g],a,c,h,f);else{const g=Ot(),b=Ie();let w=$d(o)?o:P(o.provide),I=Ip(o);const S=sn(),M=1048575&S.providerIndexes,R=S.directiveStart,N=S.providerIndexes>>20;if($d(o)||!o.multi){const U=new ld(I,f,Hp),Y=vh(w,a,f?M:M+N,R);-1===Y?(ft(Bs(S,b),g,w),Qr(g,o,a.length),a.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(U),b.push(U)):(c[Y]=U,b[Y]=U)}else{const U=vh(w,a,M+N,R),Y=vh(w,a,M,M+N),le=U>=0&&c[U],ee=Y>=0&&c[Y];if(f&&!ee||!f&&!le){ft(Bs(S,b),g,w);const xe=function(o,a,c,h,f){const g=new ld(o,c,Hp);return g.multi=[],g.index=a,g.componentProviders=0,Gw(g,f,h&&!c),g}(f?RI:$w,c.length,f,h,I);!f&&ee&&(c[Y].providerFactory=xe),Qr(g,o,a.length,0),a.push(w),S.directiveStart++,S.directiveEnd++,f&&(S.providerIndexes+=1048576),c.push(xe),b.push(xe)}else Qr(g,o,U>-1?U:Y,Gw(c[f?Y:U],I,!f&&h));!f&&h&&ee&&c[Y].componentProviders++}}}function Qr(o,a,c,h){const f=$d(a);if(f||function(o){return!!o.useClass}(a)){const b=(a.useClass||a).prototype.ngOnDestroy;if(b){const w=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const I=w.indexOf(c);-1===I?w.push(c,[h,b]):w[I+1].push(h,b)}else w.push(c,b)}}}function Gw(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function vh(o,a,c,h){for(let f=c;f<h;f++)if(a[f]===o)return f;return-1}function $w(o,a,c,h){return $o(this.multi,[])}function RI(o,a,c,h){const f=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=on(c,c[1],this.providerFactory.index,h);g=w.slice(0,b),$o(f,g);for(let I=b;I<w.length;I++)g.push(w[I])}else g=[],$o(f,g);return g}function $o(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function zw(o,a=[]){return c=>{c.providersResolver=(h,f)=>function(o,a,c){const h=Ot();if(h.firstCreatePass){const f=Hr(o);Ey(c,h.data,h.blueprint,f,!0),Ey(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class kI{}const qw="ngComponent";class bu{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${J(o)}. Did you add it to @NgModule.entryComponents?`);return a[qw]=o,a}(a)}}class Ha{}function Cy(...o){}function wh(o,a){return new zo(Mr(o,a))}Ha.NULL=new bu;const NI=function(){return wh(sn(),Ie())};let zo=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=NI,o})();function PI(o){return o instanceof zo?o.nativeElement:o}class ro{}let Iy=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Yw(),o})();const Yw=function(){const o=Ie(),c=Gr(sn().index,o);return function(o){return o[11]}($i(c)?c:o)};let Eh=(()=>{class o{}return o.\u0275prov=en({token:o,providedIn:"root",factory:()=>null}),o})();class Dy{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Kw=new Dy("12.2.5");class Qw{constructor(){}supports(a){return Kd(a)}create(a){return new WM(a)}}const Jw=(o,a)=>a;class WM{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Jw}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,f=0,g=null;for(;c||h;){const b=!h||c&&c.currentIndex<VI(h,f,g)?c:h,w=VI(b,f,g),I=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{g||(g=[]);const S=w-f,M=I-f;if(S!=M){for(let N=0;N<S;N++){const U=N<g.length?g[N]:g[N]=0,Y=U+N;M<=Y&&Y<S&&(g[N]=U+1)}g[b.previousIndex]=M-S}}w!==I&&a(b,w,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Kd(a))throw new Error(`Error trying to diff '${J(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,b,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],b=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,g,b,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,b,w),h=!0),c=c._next}else f=0,function(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Zd()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,w=>{b=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,w,b,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,b,f),h=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new FI(c,h),g,f),a}_verifyReinsertion(a,c,h,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Sy),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sy),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class FI{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LI{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class Sy{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new LI,this.map.set(c,h)),h.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VI(o,a,c){const h=o.previousIndex;if(null===h)return h;let f=0;return c&&h<c.length&&(f=c[h]),h+a+f}class Xw{constructor(){}supports(a){return a instanceof Map||Zs(a)}create(){return new YM}}class YM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Zs(a)))throw new Error(`Error trying to diff '${J(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,h);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,b=f._next;return g&&(g._next=b),b&&(b._prev=g),f._next=null,f._prev=null,f}const h=new BI(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class BI{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UI(){return new Ga([new Qw])}let Ga=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const f=h.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||UI()),deps:[[o,new ir,new _s]]}}find(c){const h=this.factories.find(f=>f.supports(c));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=en({token:o,providedIn:"root",factory:UI}),o})();function Ay(){return new wu([new Xw])}let wu=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(h){const f=h.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||Ay()),deps:[[o,new ir,new _s]]}}find(c){const h=this.factories.find(f=>f.supports(c));if(h)return h;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=en({token:o,providedIn:"root",factory:Ay}),o})();function _g(o,a,c,h,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&h.push(cn(g)),wi(g))for(let w=10;w<g.length;w++){const I=g[w],S=I[1].firstChild;null!==S&&_g(I[1],I,S,h)}const b=c.type;if(8&b)_g(o,a,c.child,h);else if(32&b){const w=Pd(c,a);let I;for(;I=w();)h.push(I)}else if(16&b){const w=wb(a,c);if(Array.isArray(w))h.push(...w);else{const I=cp(a[16]);_g(I[1],I,w,h,!0)}}c=f?c.projectionNext:c.next}return h}class Th{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return _g(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(wi(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(g_(a,h),xo(c,h))}this._attachedToViewContainer=!1}TC(this._lView[1],this._lView)}onDestroy(a){QC(this._lView[1],this._lView,null,a)}markForCheck(){Kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){U_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,c){rd(!0);try{U_(o,a,c)}finally{rd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,qc(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class ZM extends Th{constructor(a){super(a),this._view=a}detectChanges(){yp(this._view)}checkNoChanges(){!function(o){rd(!0);try{yp(o)}finally{rd(!1)}}(this._view)}get context(){return null}}const tE=function(o){return function(o,a,c){if(gc(o)&&!c){const h=Gr(o.index,a);return new Th(h,h)}return 47&o.type?new Th(a[16],a):null}(sn(),Ie(),16==(16&o))};let KM=(()=>{class o{}return o.__NG_ELEMENT_ID__=tE,o})();const rE=[new Xw],JM=new Ga([new Qw]),XM=new wu(rE),tx=function(){return Ih(sn(),Ie())};let yg=(()=>{class o{}return o.__NG_ELEMENT_ID__=tx,o})();const iE=yg,jI=class extends iE{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a){const c=this._declarationTContainer.tViews,h=Ld(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(c)),Zc(c,h,a),new Th(h)}};function Ih(o,a){return 4&o.type?new jI(a,o,wh(o,a)):null}class qo{}class Dh{}const sE=function(){return qI(sn(),Ie())};let Sh=(()=>{class o{}return o.__NG_ELEMENT_ID__=sE,o})();const nx=Sh,oE=class extends nx{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return wh(this._hostTNode,this._hostLView)}get injector(){return new ca(this._hostTNode,this._hostLView)}get parentInjector(){const a=je(this._hostTNode,this._hostLView);if(yn(a)){const c=Ic(a,this._hostLView),h=aa(a);return new ca(c[1].data[h+8],c)}return new ca(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=zI(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){const f=a.createEmbeddedView(c||{});return this.insert(f,h),f}createComponent(a,c,h,f,g){const b=h||this.parentInjector;if(!g&&null==a.ngModule&&b){const I=b.get(qo,null);I&&(g=I)}const w=a.create(b,f,void 0,g);return this.insert(w.hostView,c),w}insert(a,c){const h=a._lView,f=h[1];if(wi(h[3])){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const R=h[3],N=new oE(R,R[6],R[3]);N.detach(N.indexOf(a))}}const g=this._adjustIndex(c),b=this._lContainer;!function(o,a,c,h){const f=10+h,g=c.length;h>0&&(c[f-1][4]=a),h<g-10?(a[4]=c[f],fa(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const b=a[17];null!==b&&c!==b&&function(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(b,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,h,b,g);const w=Eb(g,b),I=h[11],S=m_(I,b[7]);return null!==S&&function(o,a,c,h,f,g){h[0]=f,h[6]=a,qc(o,h,c,1,f,g)}(f,b[6],I,h,S,w),a.attachToViewContainerRef(),fa(aE(b),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=zI(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=g_(this._lContainer,c);h&&(xo(aE(this._lContainer),c),TC(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=g_(this._lContainer,c);return h&&null!=xo(aE(this._lContainer),c)?new Th(h):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function zI(o){return o[8]}function aE(o){return o[8]||(o[8]=[])}function qI(o,a){let c;const h=a[o.index];if(wi(h))c=h;else{let f;if(8&o.type)f=cn(h);else{const g=a[11];f=g.createComment("");const b=Mr(o,a);Cl(g,m_(g,b),f,function(o,a){return ln(o)?o.nextSibling(a):a.nextSibling}(g,b),!1)}a[o.index]=c=F_(h,a,f,o),V_(a,c)}return new oE(c,o,a)}const Zl={};class Uy extends Ha{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=nr(a);return new _D(c,this.ngModule)}}function jy(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const gD=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Hc});class _D extends kI{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=a.selectors.map(HA).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return jy(this.componentDef.inputs)}get outputs(){return jy(this.componentDef.outputs)}create(a,c,h,f){const g=(f=f||this.ngModule)?function(o,a){return{get:(c,h,f)=>{const g=o.get(c,Zl,f);return g!==Zl||h===Zl?g:a.get(c,h,f)}}}(a,f.injector):a,b=g.get(ro,Fs),w=g.get(Eh,null),I=b.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",M=h?function(o,a,c){if(ln(o))return o.selectRootElement(a,c===Pe.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(I,h,this.componentDef.encapsulation):yb(b.createRenderer(null,this.componentDef),S,function(o){const a=o.toLowerCase();return"svg"===a?_c:"math"===a?"http://www.w3.org/1998/MathML/":null}(S)),R=this.componentDef.onPush?576:528,N=function(o,a){return{components:[],scheduler:o||Hc,clean:nM,playerHandler:a||null,flags:0}}(),U=R_(0,null,null,1,0,null,null,null,null,null),Y=Ld(null,U,N,R,null,null,b,I,w,g);let le,ee;od(Y);try{const xe=function(o,a,c,h,f,g){const b=c[1];c[20]=o;const I=Vd(b,20,2,"#host",null),S=I.mergedAttrs=a.hostAttrs;null!==S&&(mr(I,S,!0),null!==o&&(fs(f,o,S),null!==I.classes&&Tb(f,o,I.classes),null!==I.styles&&OC(f,o,I.styles)));const M=h.createRenderer(o,a),R=Ld(c,KC(a),null,a.onPush?64:16,c[20],I,h,M,g||null,null);return b.firstCreatePass&&(ft(Bs(I,c),b,a.type),gr(b,I),eT(I,c.length,1)),V_(c,R),c[20]=R}(M,this.componentDef,Y,b,I);if(M)if(h)fs(I,M,["ng-version",Kw.full]);else{const{attrs:we,classes:Ke}=function(o){const a=[],c=[];let h=1,f=2;for(;h<o.length;){let g=o[h];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++h]):8===f&&c.push(g);else{if(!qs(f))break;f=g}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);we&&fs(I,M,we),Ke&&Ke.length>0&&Tb(I,M,Ke.join(" "))}if(ee=Xu(U,20),void 0!==c){const we=ee.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const ct=c[Ke];we.push(null!=ct?Array.from(ct):null)}}le=function(o,a,c,h,f){const g=c[1],b=function(o,a,c){const h=sn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),tT(o,h,a,ka(o,a,1,null),c));const f=on(a,o,h.directiveStart,h);or(f,a);const g=Mr(h,a);return g&&or(g,a),f}(g,c,a);if(h.components.push(b),o[8]=b,f&&f.forEach(I=>I(b,a)),a.contentQueries){const I=sn();a.contentQueries(1,b,I.directiveStart)}const w=sn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(al(w.index),Bb(c[1],w,0,w.directiveStart,w.directiveEnd,a),N_(a,b)),b}(xe,this.componentDef,Y,N,[Z_]),Zc(U,Y,null)}finally{Cc()}return new Hy(this.componentType,le,wh(ee,Y),Y,ee)}}class Hy extends class{}{constructor(a,c,h,f,g){super(),this.location=h,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new ZM(f),this.componentType=a}get injector(){return new ca(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const xh=new Map;class PE extends qo{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Uy(this);const h=vi(a),f=a[Ne]||null;f&&lg(f),this._bootstrapComponents=Si(h.bootstrap),this._r3Injector=Cp(a,c,[{provide:qo,useValue:this},{provide:Ha,useValue:this.componentFactoryResolver}],J(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=qt.THROW_IF_NOT_FOUND,h=Ye.Default){return a===qt||a===qo||a===Qc?this:this._r3Injector.get(a,c,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class xg extends Dh{constructor(a){super(),this.moduleType=a,null!==vi(a)&&function(o){const a=new Set;!function c(h){const f=vi(h,!0),g=f.id;null!==g&&(function(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${J(a)} vs ${J(a.name)}`)}(g,xh.get(g),h),xh.set(g,h));const b=Si(f.imports);for(const w of b)a.has(w)||(a.add(w),c(w))}(o)}(a)}create(a){return new PE(this.moduleType,a)}}function Og(o,a,c,h){return CD(Ie(),kn(),o,a,c,h)}function Gy(o,a,c,h,f){return function(o,a,c,h,f,g,b){const w=a+c;return function(o,a,c,h){const f=_r(o,a,c);return _r(o,a+1,h)||f}(o,w,f,g)?Ks(o,w+2,b?h.call(b,f,g):h(f,g)):Rg(o,w+2)}(Ie(),kn(),o,a,c,h,f)}function Rg(o,a){const c=o[a];return c===mt?void 0:c}function CD(o,a,c,h,f,g){const b=a+c;return _r(o,b,f)?Ks(o,b+1,g?h.call(g,f):h(f)):Rg(o,b+1)}function DD(o,a){const c=Ot();let h;const f=o+20;c.firstCreatePass?(h=function(o,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(o===h.name)return h}throw new me("302",`The pipe '${o}' could not be found!`)}(a,c.pipeRegistry),c.data[f]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,h.onDestroy)):h=c.data[f];const g=h.factory||(h.factory=Co(h.type)),b=Ur(Hp);try{const w=ud(!1),I=g();return ud(w),function(o,a,c,h){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=h}(c,Ie(),f,I),I}finally{Ur(b)}}function SD(o,a,c){const h=o+20,f=Ie(),g=Io(f,h);return function(o,a){Es.isWrapped(a)&&(a=Es.unwrap(a),o[ht.lFrame.bindingIndex]=mt);return a}(f,function(o,a){return o[1].data[a].pure}(f,h)?CD(f,kn(),a,g.transform,c,g):g.transform(c))}function Ph(o){return a=>{setTimeout(o,void 0,a)}}const St=class extends d.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){var f,g,b;let w=a,I=c||(()=>null),S=h;if(a&&"object"==typeof a){const R=a;w=null===(f=R.next)||void 0===f?void 0:f.bind(R),I=null===(g=R.error)||void 0===g?void 0:g.bind(R),S=null===(b=R.complete)||void 0===b?void 0:b.bind(R)}this.__isAsync&&(I=Ph(I),w&&(w=Ph(w)),S&&(S=Ph(S)));const M=super.subscribe({next:w,error:I,complete:S});return a instanceof se.w&&a.add(M),M}};function xD(){return this._results[Zd()]()}class Fh{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Zd(),h=Fh.prototype;h[c]||(h[c]=xD)}get changes(){return this._changes||(this._changes=new St)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const f=Di(a);(this._changesDetected=!function(o,a,c){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],g=a[h];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(h._results,f,c))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Tr{constructor(a){this.queryList=a,this.matches=null}clone(){return new Tr(this.queryList)}setDirty(){this.queryList.setDirty()}}class As{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<h;g++){const b=c.getByIndex(g);f.push(this.queries[b.indexInDeclarationView].clone())}return new As(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==VD(a,c).matches&&this.queries[c].setDirty()}}class GE{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class $E{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const f=null!==c?c.length:0,g=this.getByIndex(h).embeddedTView(a,f);g&&(g.indexInDeclarationView=h,null!==c?c.push(g):c=[g])}return null!==c?new $E(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Lh{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Lh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const g=h[f];this.matchTNodeWithReadOption(a,c,OD(c,g)),this.matchTNodeWithReadOption(a,c,So(c,a,g,!1,!1))}else h===yg?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,So(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===zo||f===Sh||f===yg&&4&c.type)this.addMatch(c.index,-2);else{const g=So(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function OD(o,a){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function Dx(o,a,c,h){return-1===c?function(o,a){return 11&o.type?wh(o,a):4&o.type?Ih(o,a):null}(a,o):-2===c?function(o,a,c){return c===zo?wh(a,o):c===yg?Ih(a,o):c===Sh?qI(a,o):void 0}(o,a,h):on(o,o[1],c,a)}function kD(o,a,c,h){const f=a[19].queries[h];if(null===f.matches){const g=o.data,b=c.matches,w=[];for(let I=0;I<b.length;I+=2){const S=b[I];w.push(S<0?null:Dx(a,g[S],b[I+1],c.metadata.read))}f.matches=w}return f.matches}function qE(o,a,c,h){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const b=kD(o,a,f,c);for(let w=0;w<g.length;w+=2){const I=g[w];if(I>0)h.push(b[w/2]);else{const S=g[w+1],M=a[-I];for(let R=10;R<M.length;R++){const N=M[R];N[17]===N[3]&&qE(N[1],N,S,h)}if(null!==M[9]){const R=M[9];for(let N=0;N<R.length;N++){const U=R[N];qE(U[1],U,S,h)}}}}}return h}function An(o){const a=Ie(),c=Ot(),h=Sm();Ec(h+1);const f=VD(c,h);if(o.dirty&&mf(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?qE(c,a,h,[]):kD(c,a,f,h);o.reset(g,PI),o.notifyOnChanges()}return!0}return!1}function Sx(o,a,c){const h=Ot();h.firstCreatePass&&(FD(h,new GE(o,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),PD(h,Ie(),a)}function Ax(o,a,c,h){const f=Ot();if(f.firstCreatePass){const g=sn();FD(f,new GE(a,c,h),g.index),function(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}PD(f,Ie(),c)}function Qn(){return o=Ie(),a=Sm(),o[19].queries[a].queryList;var o,a}function PD(o,a,c){const h=new Fh(4==(4&c));QC(o,a,h,h.destroy),null===a[19]&&(a[19]=new As),a[19].queries.push(new Tr(h))}function FD(o,a,c){null===o.queries&&(o.queries=new $E),o.queries.track(new Lh(a,c))}function VD(o,a){return o.queries.getByIndex(a)}const t0=new hn("Application Initializer");let jh=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Cy,this.reject=Cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Cs(g))c.push(g);else if(Vl(g)){const b=new Promise((w,I)=>{g.subscribe({complete:w,error:I})});c.push(b)}}Promise.all(c).then(()=>{h()}).catch(f=>{this.reject(f)}),0===c.length&&h(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(nn(t0,8))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();const n0=new hn("AppId"),Hh={provide:n0,useFactory:function(){return`${Ug()}${Ug()}${Ug()}`},deps:[]};function Ug(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YD=new hn("Platform Initializer"),ZD=new hn("Platform ID"),KD=new hn("appBootstrapListener");let QD=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();const Jy=new hn("LocaleId"),JD=new hn("DefaultCurrencyCode");class eS{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}const r0=function(o){return new xg(o)},Zx=r0,Qx=function(o){return Promise.resolve(r0(o))},o0=function(o){const a=r0(o),h=Si(vi(o).declarations).reduce((f,g)=>{const b=nr(g);return b&&f.push(new _D(b)),f},[]);return new eS(a,h)},Ou=o0,nS=function(o){return Promise.resolve(o0(o))};let Gh=(()=>{class o{constructor(){this.compileModuleSync=Zx,this.compileModuleAsync=Qx,this.compileModuleAndAllComponentsSync=Ou,this.compileModuleAndAllComponentsAsync=nS}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();const fi=(()=>Promise.resolve(0))();function a0(o){"undefined"==typeof Zone?fi.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ir{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new St(!1),this.onMicrotaskEmpty=new St(!1),this.onStable=new St(!1),this.onError=new St(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&c,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let o=tn.requestAnimationFrame,a=tn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(tn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,c0(o),o.isCheckStableRunning=!0,$g(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),c0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,f,g,b,w)=>{try{return rS(o),c.invokeTask(f,g,b,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Zo(o)}},onInvoke:(c,h,f,g,b,w,I)=>{try{return rS(o),c.invoke(f,g,b,w,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),Zo(o)}},onHasTask:(c,h,f,g)=>{c.hasTask(f,g),h===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,c0(o),$g(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,h,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ir.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ir.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,f){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+f,a,Ru,Cy,Cy);try{return g.runTask(b,c,h)}finally{g.cancelTask(b)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const Ru={};function $g(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function c0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function rS(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Zo(o){o._nesting--,$g(o)}class zg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new St,this.onMicrotaskEmpty=new St,this.onStable=new St,this.onError=new St}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,f){return a.apply(c,h)}}let iS=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ir.assertNotInAngularZone(),a0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())a0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,f){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,h,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(nn(Ir))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})(),sS=(()=>{class o{constructor(){this._applications=new Map,qg.addToWindow(this)}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return qg.findTestabilityInTree(this,c,h)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();class eO{addToWindow(a){}findTestabilityInTree(a,c,h){return null}}function tO(o){qg=o}let qg=new eO,oS=!0,u0=!1;function Wg(){return u0=!0,oS}function Nk(){if(u0)throw new Error("Cannot enable prod mode after platform setup.");oS=!1}let lo;const hS=new hn("AllowMultipleToken");class fS{constructor(a,c){this.name=a,this.token=c}}function ev(o,a,c=[]){const h=`Platform: ${a}`,f=new hn(h);return(g=[])=>{let b=pS();if(!b||b.injector.get(hS,!1))if(o)o(c.concat(g).concat({provide:f,useValue:!0}));else{const w=c.concat(g).concat({provide:f,useValue:!0},{provide:Hd,useValue:"platform"});!function(o){if(lo&&!lo.destroyed&&!lo.injector.get(hS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lo=o.get(nv);const a=o.get(YD,null);a&&a.forEach(c=>c())}(qt.create({providers:w,name:h}))}return function(o){const a=pS();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(f)}}function pS(){return lo&&!lo.destroyed?lo:null}let nv=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const w=function(o,a){let c;return c="noop"===o?new zg:("zone.js"===o?void 0:o)||new Ir({enableLongStackTrace:Wg(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),I=[{provide:Ir,useValue:w}];return w.run(()=>{const S=qt.create({providers:I,parent:this.injector,name:c.moduleType.name}),M=c.create(S),R=M.injector.get(m,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const N=w.onError.subscribe({next:U=>{R.handleError(U)}});M.onDestroy(()=>{h0(this._modules,M),N.unsubscribe()})}),function(o,a,c){try{const h=c();return Cs(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(R,w,()=>{const N=M.injector.get(jh);return N.runInitializers(),N.donePromise.then(()=>(lg(M.injector.get(Jy,ag)||ag),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,h=[]){const f=d0({},h);return function(o,a,c){const h=new xg(c);return Promise.resolve(h)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const h=c.injector.get($h);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${J(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(nn(qt))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();function d0(o,a){return Array.isArray(a)?a.reduce(d0,o):Object.assign(Object.assign({},o),a)}let $h=(()=>{class o{constructor(c,h,f,g,b){this._zone=c,this._injector=h,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new H.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),I=new H.y(S=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Ir.assertNotInAngularZone(),a0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Ir.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{M.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ie.T)(w,I.pipe((0,fe.B)()))}bootstrap(c,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=c instanceof kI?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function(o){return o.isBoundToModule}(f)?void 0:this._injector.get(qo),w=f.create(qt.NULL,[],h||f.selector,g),I=w.location.nativeElement,S=w.injector.get(iS,null),M=S&&w.injector.get(sS);return S&&M&&M.registerApplication(I,S),w.onDestroy(()=>{this.detachView(w.hostView),h0(this.components,w),M&&M.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;h0(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(KD,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(nn(Ir),nn(qt),nn(m),nn(Ha),nn(jh))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();function h0(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}class cO{}class fO{}const yS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let pO=(()=>{class o{constructor(c,h){this._compiler=c,this._config=h||yS}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[h,f]=c.split("#");return void 0===f&&(f="default"),F(8255)(h).then(g=>g[f]).then(g=>Ko(g,h,f)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(c){let[h,f]=c.split("#"),g="NgFactory";return void 0===f&&(f="default",g=""),F(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[f+g]).then(b=>Ko(b,h,f))}}return o.\u0275fac=function(c){return new(c||o)(nn(Gh),nn(fO,8))},o.\u0275prov=en({token:o,factory:o.\u0275fac}),o})();function Ko(o,a,c){if(!o)throw new Error(`Cannot find '${c}' in '${a}'`);return o}const ES=function(o){return null},TS=ev(null,"core",[{provide:ZD,useValue:"unknown"},{provide:nv,deps:[qt]},{provide:sS,deps:[]},{provide:QD,deps:[]}]),m0=[{provide:$h,useClass:$h,deps:[Ir,qt,m,Ha,jh]},{provide:gD,deps:[Ir],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:jh,useClass:jh,deps:[[new _s,t0]]},{provide:Gh,useClass:Gh,deps:[]},Hh,{provide:Ga,useFactory:function(){return JM},deps:[]},{provide:wu,useFactory:function(){return XM},deps:[]},{provide:Jy,useFactory:function(o){return lg(o=o||"undefined"!=typeof $localize&&$localize.locale||ag),o},deps:[[new ma(Jy),new _s,new ir]]},{provide:JD,useValue:"USD"}];let y0=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(nn($h))},o.\u0275mod=Ka({type:o}),o.\u0275inj=kt({providers:m0}),o})()},8939:(He,Ce,F)=>{"use strict";F.d(Ce,{hO:()=>$,xv:()=>z,Dh:()=>J,GT:()=>Z,on:()=>L,pX:()=>fe});var d=F(7716),se=F(7841),H=F(9126);He=F.hmd(He);const ie=["ngOnDestroy"],fe=(Q,me,ce,De={})=>new Proxy(Q,{get:(ye,Ae)=>ce.runOutsideAngular(()=>{var lt;if(Q[Ae])return(null===(lt=null==De?void 0:De.spy)||void 0===lt?void 0:lt.get)&&De.spy.get(Ae,Q[Ae]),Q[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Qe=me.toPromise().then(it=>{const Rt=it&&it[Ae];return"function"==typeof Rt?Rt.bind(it):Rt&&Rt.then?Rt.then(Dt=>ce.run(()=>Dt)):ce.run(()=>Rt)});return new Proxy(()=>{},{get:(it,Rt)=>Qe[Rt],apply:(it,Rt,Dt)=>Qe.then(rn=>{var ve;const ae=rn&&rn(...Dt);return(null===(ve=null==De?void 0:De.spy)||void 0===ve?void 0:ve.apply)&&De.spy.apply(Ae,Dt,ae),ae})})})}),Z=(Q,me)=>{me.forEach(ce=>{Object.getOwnPropertyNames(ce.prototype||ce).forEach(De=>{Object.defineProperty(Q.prototype,De,Object.getOwnPropertyDescriptor(ce.prototype||ce,De))})})};class X{constructor(me){return me}}const J=new d.OlP("angularfire2.app.options"),z=new d.OlP("angularfire2.app.name");function L(Q,me,ce){const ye="object"==typeof ce&&ce||{};ye.name=ye.name||"string"==typeof ce&&ce||"[DEFAULT]";const lt=se.Z.apps.filter(Qe=>Qe&&Qe.name===ye.name)[0]||me.runOutsideAngular(()=>se.Z.initializeApp(Q,ye));try{JSON.stringify(Q)!==JSON.stringify(lt.options)&&q("error",`${lt.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new X(lt)}const q=(Q,...me)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Q](...me)},P={provide:X,useFactory:L,deps:[J,d.R0b,[new d.FiY,z]]};let $=(()=>{class Q{constructor(ce){se.Z.registerVersion("angularfire",H.q4.full,"core"),se.Z.registerVersion("angularfire",H.q4.full,"app-compat"),se.Z.registerVersion("angular",d.q4F.full,ce.toString())}static initializeApp(ce,De){return{ngModule:Q,providers:[{provide:J,useValue:ce},{provide:z,useValue:De}]}}}return Q.\u0275fac=function(ce){return new(ce||Q)(d.LFG(d.Lbi))},Q.\u0275mod=d.oAB({type:Q}),Q.\u0275inj=d.cJS({providers:[P]}),Q})()},9126:(He,Ce,F)=>{"use strict";F.d(Ce,{q4:()=>L,iC:()=>ae,HU:()=>Qe,cc:()=>$});var d=F(7716);(0,F(5452).registerVersion)("firebase","9.0.2","app");var fe=F(7771),Z=F(3637),X=F(3342),J=F(9673),z=F(6136);He=F.hmd(He);const L=new d.GfV("7.0.4"),q=!!He.hot,P=(ge,...te)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ge](...te)};function $(ge,te,Re,$e,At){const[,tt,st]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===ge)||[];if(tt)return function(ge,te){try{return ge.toString()===te.toString()}catch(Re){return ge===te}}(At,st)||(P("error",`${te} was already initialized on the ${Re} Firebase App with different settings.${q?" You may need to reload as Firebase is not HMR aware.":""}`),P("warn",{is:At,was:st})),tt;{const nt=$e();return globalThis.\u0275AngularfireInstanceCache.push([ge,nt,At]),nt}}function ye(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ae{constructor(te,Re=fe.N){this.zone=te,this.delegate=Re}now(){return this.delegate.now()}schedule(te,Re,$e){const At=this.zone;return this.delegate.schedule(function(st){At.runGuarded(()=>{te.apply(this,[st])})},Re,$e)}}class lt{constructor(te){this.zone=te,this.task=null}call(te,Re){const $e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye)),Re.pipe((0,X.b)({next:$e,complete:$e,error:$e})).subscribe(te).add($e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qe=(()=>{class ge{constructor(Re){this.ngZone=Re,this.outsideAngular=Re.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=Re.run(()=>new Ae(Zone.current,Z.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ge.\u0275fac=function(Re){return new(Re||ge)(d.LFG(d.R0b))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function it(){const ge=globalThis.\u0275AngularFireScheduler;if(!ge)throw new Error("AngularFireModule has not been provided");return ge}function ae(ge){return it(),function(ge){return function(Re){return(Re=Re.lift(new lt(ge.ngZone))).pipe((0,J.R)(ge.outsideAngular),(0,z.QV)(ge.insideAngular))}}(it())(ge)}},4486:(He,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>ce});var d=F(4685),se=F(6034),H=F(5452),ie=F(300);class fe{constructor(ye,Ae){this._delegate=ye,this.firebase=Ae,(0,H._addComponent)(ye,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(ye,Ae=H._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ye);return!Qe.isInitialized()&&"EXPLICIT"===(null===(lt=Qe.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Ae})}_removeServiceInstance(ye,Ae=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(Ae)}_addComponent(ye){(0,H._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,H._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function z(){const De=function(De){const ye={},Ae={__esModule:!0,initializeApp:function(ve,ae={}){const oe=H.initializeApp(ve,ae);if((0,d.r3)(ye,oe.name))return ye[oe.name];const be=new De(oe,Ae);return ye[oe.name]=be,be},app:Qe,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(ve){const ae=ve.name,oe=ae.replace("-compat","");if(H._registerComponent(ve)&&"PUBLIC"===ve.type){const be=(ue=Qe())=>{if("function"!=typeof ue[oe])throw X.create("invalid-app-argument",{appName:ae});return ue[oe]()};void 0!==ve.serviceProps&&(0,d.ZB)(be,ve.serviceProps),Ae[oe]=be,De.prototype[oe]=function(...ue){return this._getService.bind(this,ae).apply(this,ve.multipleInstances?ue:[])}}return"PUBLIC"===ve.type?Ae[oe]:null},removeApp:function(ve){delete ye[ve]},useAsService:function(ve,ae){return"serverAuth"===ae?null:ae},modularAPIs:H}};function Qe(ve){if(!(0,d.r3)(ye,ve=ve||H._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:ve});return ye[ve]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function(){return Object.keys(ye).map(ve=>ye[ve])}}),Qe.App=De,Ae}(fe);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(Ae){(0,d.ZB)(De,Ae)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),De}(),q=new ie.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const me=L;(0,H.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ce=me},5452:(He,Ce,F)=>{"use strict";F.r(Ce),F.d(Ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Xr,_DEFAULT_ENTRY_NAME:()=>At,_addComponent:()=>mn,_addOrOverwriteComponent:()=>Bi,_apps:()=>st,_clearComponents:()=>kt,_components:()=>nt,_getProvider:()=>en,_registerComponent:()=>mi,_removeServiceInstance:()=>Mn,deleteApp:()=>mo,getApp:()=>ks,getApps:()=>go,initializeApp:()=>po,onLog:()=>tr,registerVersion:()=>Ye,setLogLevel:()=>Ns});var d=F(8239),se=F(6034),H=F(300),ie=F(4685);class fe{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function(yt){const et=yt.getComponent();return"VERSION"===(null==et?void 0:et.type)}(Bt)){const Ft=Bt.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(Bt=>Bt).join(" ")}}const X="@firebase/app",z=new H.Yd("@firebase/app"),At="[DEFAULT]",tt={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,nt=new Map;function mn(yt,et){try{yt.container.addComponent(et)}catch(Bt){z.debug(`Component ${et.name} failed to register with FirebaseApp ${yt.name}`,Bt)}}function Bi(yt,et){yt.container.addOrOverwriteComponent(et)}function mi(yt){const et=yt.name;if(nt.has(et))return z.debug(`There were multiple attempts to register component ${et}.`),!1;nt.set(et,yt);for(const Bt of st.values())mn(Bt,yt);return!0}function en(yt,et){return yt.container.getProvider(et)}function Mn(yt,et,Bt=At){en(yt,et).clearInstance(Bt)}function kt(){nt.clear()}const Rs=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Xo{constructor(et,Bt,Ft){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}const Xr="9.0.0";function po(yt,et={}){"object"!=typeof et&&(et={name:et});const Bt=Object.assign({name:At,automaticDataCollectionEnabled:!1},et),Ft=Bt.name;if("string"!=typeof Ft||!Ft)throw Rs.create("bad-app-name",{appName:String(Ft)});const Ar=st.get(Ft);if(Ar){if((0,ie.vZ)(yt,Ar.options)&&(0,ie.vZ)(Bt,Ar.config))return Ar;throw Rs.create("duplicate-app",{appName:Ft})}const Zt=new se.H0(Ft);for(const ot of nt.values())Zt.addComponent(ot);const Pe=new Xo(yt,Bt,Zt);return st.set(Ft,Pe),Pe}function ks(yt=At){const et=st.get(yt);if(!et)throw Rs.create("no-app",{appName:yt});return et}function go(){return Array.from(st.values())}function mo(yt){return ea.apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(yt){const et=yt.name;st.has(et)&&(st.delete(et),yield Promise.all(yt.container.getProviders().map(Bt=>Bt.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function Ye(yt,et,Bt){var Ft;let Ar=null!==(Ft=tt[yt])&&void 0!==Ft?Ft:yt;Bt&&(Ar+=`-${Bt}`);const Zt=Ar.match(/\s|\//),Pe=et.match(/\s|\//);if(Zt||Pe){const ot=[`Unable to register library "${Ar}" with version "${et}":`];return Zt&&ot.push(`library name "${Ar}" contains illegal characters (whitespace or "/")`),Zt&&Pe&&ot.push("and"),Pe&&ot.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void z.warn(ot.join(" "))}mi(new se.wA(`${Ar}-version`,()=>({library:Ar,version:et}),"VERSION"))}function tr(yt,et){if(null!==yt&&"function"!=typeof yt)throw Rs.create("invalid-log-argument");(0,H.Am)(yt,et)}function Ns(yt){(0,H.Ub)(yt)}mi(new se.wA("platform-logger",et=>new fe(et),"PRIVATE")),Ye(X,"0.7.0",undefined),Ye("fire-js","")},6034:(He,Ce,F)=>{"use strict";F.d(Ce,{wA:()=>H,H0:()=>J});var d=F(4762),se=F(4685),H=function(){function z(L,q,P){this.name=L,this.instanceFactory=q,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},z.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},z.prototype.setServiceProps=function(L){return this.serviceProps=L,this},z.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},z}(),ie="[DEFAULT]",fe=function(){function z(L,q){this.name=L,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(L){var q=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(q)){var P=new se.BH;if(this.instancesDeferred.set(q,P),this.isInitialized(q)||this.shouldAutoInitialize())try{var $=this.getOrInitializeService({instanceIdentifier:q});$&&P.resolve($)}catch(Q){}}return this.instancesDeferred.get(q).promise},z.prototype.getImmediate=function(L){var q,P=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),$=null!==(q=null==L?void 0:L.optional)&&void 0!==q&&q;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if($)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(Q){if($)return null;throw Q}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(L){var q,P;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(lt){}try{for(var $=(0,d.XA)(this.instancesDeferred.entries()),Q=$.next();!Q.done;Q=$.next()){var me=(0,d.CR)(Q.value,2),De=me[1],ye=this.normalizeInstanceIdentifier(me[0]);try{var Ae=this.getOrInitializeService({instanceIdentifier:ye});De.resolve(Ae)}catch(lt){}}}catch(lt){q={error:lt}}finally{try{Q&&!Q.done&&(P=$.return)&&P.call($)}finally{if(q)throw q.error}}}},z.prototype.clearInstance=function(L){void 0===L&&(L=ie),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},z.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var L;return(0,d.Jh)(this,function(q){switch(q.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(L.filter(function(P){return"INTERNAL"in P}).map(function(P){return P.INTERNAL.delete()}))),(0,d.CR)(L.filter(function(P){return"_delete"in P}).map(function(P){return P._delete()}))))];case 1:return q.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(L){return void 0===L&&(L=ie),this.instances.has(L)},z.prototype.getOptions=function(L){return void 0===L&&(L=ie),this.instancesOptions.get(L)||{}},z.prototype.initialize=function(L){var q,P;void 0===L&&(L={});var $=L.options,Q=void 0===$?{}:$,me=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(me))throw Error(this.name+"("+me+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ce=this.getOrInitializeService({instanceIdentifier:me,options:Q});try{for(var De=(0,d.XA)(this.instancesDeferred.entries()),ye=De.next();!ye.done;ye=De.next()){var Ae=(0,d.CR)(ye.value,2),Qe=Ae[1];me===this.normalizeInstanceIdentifier(Ae[0])&&Qe.resolve(ce)}}catch(Rt){q={error:Rt}}finally{try{ye&&!ye.done&&(P=De.return)&&P.call(De)}finally{if(q)throw q.error}}return ce},z.prototype.onInit=function(L,q){var P,$=this.normalizeInstanceIdentifier(q),Q=null!==(P=this.onInitCallbacks.get($))&&void 0!==P?P:new Set;Q.add(L),this.onInitCallbacks.set($,Q);var me=this.instances.get($);return me&&L(me,$),function(){Q.delete(L)}},z.prototype.invokeOnInitCallbacks=function(L,q){var P,$,Q=this.onInitCallbacks.get(q);if(Q)try{for(var me=(0,d.XA)(Q),ce=me.next();!ce.done;ce=me.next()){var De=ce.value;try{De(L,q)}catch(ye){}}}catch(ye){P={error:ye}}finally{try{ce&&!ce.done&&($=me.return)&&$.call(me)}finally{if(P)throw P.error}}},z.prototype.getOrInitializeService=function(L){var q=L.instanceIdentifier,P=L.options,$=void 0===P?{}:P,Q=this.instances.get(q);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:Z(q),options:$}),this.instances.set(q,Q),this.instancesOptions.set(q,$),this.invokeOnInitCallbacks(Q,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Q)}catch(me){}return Q||null},z.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=ie),this.component?this.component.multipleInstances?L:ie:L},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function Z(z){return z===ie?void 0:z}var J=function(){function z(L){this.name=L,this.providers=new Map}return z.prototype.addComponent=function(L){var q=this.getProvider(L.name);if(q.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);q.setComponent(L)},z.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},z.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var q=new fe(L,this);return this.providers.set(L,q),q},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},300:(He,Ce,F)=>{"use strict";function d(){for(var P=0,$=0,Q=arguments.length;$<Q;$++)P+=arguments[$].length;var me=Array(P),ce=0;for($=0;$<Q;$++)for(var De=arguments[$],ye=0,Ae=De.length;ye<Ae;ye++,ce++)me[ce]=De[ye];return me}F.d(Ce,{in:()=>ie,Yd:()=>z,Ub:()=>L,Am:()=>q});var se,H=[],ie=(()=>{return(P=ie||(ie={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",ie;var P})(),fe={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Z=ie.INFO,X=((se={})[ie.DEBUG]="log",se[ie.VERBOSE]="log",se[ie.INFO]="info",se[ie.WARN]="warn",se[ie.ERROR]="error",se),J=function(P,$){for(var Q=[],me=2;me<arguments.length;me++)Q[me-2]=arguments[me];if(!($<P.logLevel)){var ce=(new Date).toISOString(),De=X[$];if(!De)throw new Error("Attempted to log a message with an invalid logType (value: "+$+")");console[De].apply(console,d(["["+ce+"]  "+P.name+":"],Q))}},z=function(){function P($){this.name=$,this._logLevel=Z,this._logHandler=J,this._userLogHandler=null,H.push(this)}return Object.defineProperty(P.prototype,"logLevel",{get:function(){return this._logLevel},set:function($){if(!($ in ie))throw new TypeError('Invalid value "'+$+'" assigned to `logLevel`');this._logLevel=$},enumerable:!1,configurable:!0}),P.prototype.setLogLevel=function($){this._logLevel="string"==typeof $?fe[$]:$},Object.defineProperty(P.prototype,"logHandler",{get:function(){return this._logHandler},set:function($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function($){this._userLogHandler=$},enumerable:!1,configurable:!0}),P.prototype.debug=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ie.DEBUG],$)),this._logHandler.apply(this,d([this,ie.DEBUG],$))},P.prototype.log=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ie.VERBOSE],$)),this._logHandler.apply(this,d([this,ie.VERBOSE],$))},P.prototype.info=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ie.INFO],$)),this._logHandler.apply(this,d([this,ie.INFO],$))},P.prototype.warn=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ie.WARN],$)),this._logHandler.apply(this,d([this,ie.WARN],$))},P.prototype.error=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];this._userLogHandler&&this._userLogHandler.apply(this,d([this,ie.ERROR],$)),this._logHandler.apply(this,d([this,ie.ERROR],$))},P}();function L(P){H.forEach(function($){$.setLogLevel(P)})}function q(P,$){for(var Q=function(ye){var Ae=null;$&&$.level&&(Ae=fe[$.level]),ye.userLogHandler=null===P?null:function(lt,Qe){for(var it=[],Rt=2;Rt<arguments.length;Rt++)it[Rt-2]=arguments[Rt];var Dt=it.map(function(rn){if(null==rn)return null;if("string"==typeof rn)return rn;if("number"==typeof rn||"boolean"==typeof rn)return rn.toString();if(rn instanceof Error)return rn.message;try{return JSON.stringify(rn)}catch(ve){return null}}).filter(function(rn){return rn}).join(" ");Qe>=(null!=Ae?Ae:lt.logLevel)&&P({level:ie[Qe].toLowerCase(),message:Dt,args:it,type:lt.name})}},me=0,ce=H;me<ce.length;me++)Q(ce[me])}},4685:(He,Ce,F)=>{"use strict";F.d(Ce,{BH:()=>Q,LL:()=>Re,ZR:()=>te,tV:()=>L,r3:()=>Mn,Sg:()=>me,ne:()=>ea,vZ:()=>Xo,ZB:()=>P,pd:()=>go,m9:()=>zt,z$:()=>ce,jU:()=>Ae,ru:()=>lt,d:()=>it,xb:()=>er,w1:()=>Rt,hl:()=>ae,uI:()=>De,UG:()=>ye,b$:()=>Qe,G6:()=>ve,Mn:()=>Dt,xO:()=>po,zd:()=>ks});var d=F(4762),fe=function(G){for(var j=[],ne=0,de=0;de<G.length;de++){var re=G.charCodeAt(de);re<128?j[ne++]=re:re<2048?(j[ne++]=re>>6|192,j[ne++]=63&re|128):55296==(64512&re)&&de+1<G.length&&56320==(64512&G.charCodeAt(de+1))?(re=65536+((1023&re)<<10)+(1023&G.charCodeAt(++de)),j[ne++]=re>>18|240,j[ne++]=re>>12&63|128,j[ne++]=re>>6&63|128,j[ne++]=63&re|128):(j[ne++]=re>>12|224,j[ne++]=re>>6&63|128,j[ne++]=63&re|128)}return j},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[],re=0;re<G.length;re+=3){var Ne=G[re],ze=re+1<G.length,wt=ze?G[re+1]:0,Pt=re+2<G.length,Ut=Pt?G[re+2]:0,Un=(15&wt)<<2|Ut>>6,yo=63&Ut;Pt||(yo=64,ze||(Un=64)),de.push(ne[Ne>>2],ne[(3&Ne)<<4|wt>>4],ne[Un],ne[yo])}return de.join("")},encodeString:function(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(fe(G),j)},decodeString:function(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){for(var j=[],ne=0,de=0;ne<G.length;){var re=G[ne++];if(re<128)j[de++]=String.fromCharCode(re);else if(re>191&&re<224){var Ne=G[ne++];j[de++]=String.fromCharCode((31&re)<<6|63&Ne)}else if(re>239&&re<365){var Pt=((7&re)<<18|(63&(Ne=G[ne++]))<<12|(63&(ze=G[ne++]))<<6|63&G[ne++])-65536;j[de++]=String.fromCharCode(55296+(Pt>>10)),j[de++]=String.fromCharCode(56320+(1023&Pt))}else{Ne=G[ne++];var ze=G[ne++];j[de++]=String.fromCharCode((15&re)<<12|(63&Ne)<<6|63&ze)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray:function(G,j){this.init_();for(var ne=j?this.charToByteMapWebSafe_:this.charToByteMap_,de=[],re=0;re<G.length;){var Ne=ne[G.charAt(re++)],wt=re<G.length?ne[G.charAt(re)]:0,Ut=++re<G.length?ne[G.charAt(re)]:64,On=++re<G.length?ne[G.charAt(re)]:64;if(++re,null==Ne||null==wt||null==Ut||null==On)throw Error();de.push(Ne<<2|wt>>4),64!==Ut&&(de.push(wt<<4&240|Ut>>2),64!==On&&de.push(Ut<<6&192|On))}return de},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},z=function(G){return function(G){var j=fe(G);return X.encodeByteArray(j,!0)}(G).replace(/\./g,"")},L=function(G){try{return X.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function P(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(var de in j)!j.hasOwnProperty(de)||!$(de)||(G[de]=P(G[de],j[de]));return G}function $(G){return"__proto__"!==G}var Q=function(){function G(){var j=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,de){j.resolve=ne,j.reject=de})}return G.prototype.wrapCallback=function(j){var ne=this;return function(de,re){de?ne.reject(de):ne.resolve(re),"function"==typeof j&&(ne.promise.catch(function(){}),1===j.length?j(de):j(de,re))}},G}();function me(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var de=j||"demo-project",re=G.iat||0,Ne=G.sub||G.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ze=(0,d.pi)({iss:"https://securetoken.google.com/"+de,aud:de,iat:re,exp:re+3600,auth_time:re,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},G);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(ze)),""].join(".")}function ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function lt(){var G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){return ce().indexOf("Electron/")>=0}function Rt(){var G=ce();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Dt(){return ce().indexOf("MSAppHost/")>=0}function ve(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){return"indexedDB"in self&&null!=indexedDB}var te=function(G){function j(ne,de,re){var Ne=G.call(this,de)||this;return Ne.code=ne,Ne.customData=re,Ne.name="FirebaseError",Object.setPrototypeOf(Ne,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ne,Re.prototype.create),Ne}return(0,d.ZT)(j,G),j}(Error),Re=function(){function G(j,ne,de){this.service=j,this.serviceName=ne,this.errors=de}return G.prototype.create=function(j){for(var ne=[],de=1;de<arguments.length;de++)ne[de-1]=arguments[de];var re=ne[0]||{},Ne=this.service+"/"+j,ze=this.errors[j],wt=ze?$e(ze,re):"Error",Pt=this.serviceName+": "+wt+" ("+Ne+").",Ut=new te(Ne,Pt,re);return Ut},G}();function $e(G,j){return G.replace(At,function(ne,de){var re=j[de];return null!=re?String(re):"<"+de+"?>"})}var At=/\{\$([^}]+)}/g;function Mn(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function er(G){for(var j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function Xo(G,j){if(G===j)return!0;for(var ne=Object.keys(G),de=Object.keys(j),re=0,Ne=ne;re<Ne.length;re++){if(!de.includes(ze=Ne[re]))return!1;var wt=G[ze],Pt=j[ze];if(Xr(wt)&&Xr(Pt)){if(!Xo(wt,Pt))return!1}else if(wt!==Pt)return!1}for(var Ut=0,xn=de;Ut<xn.length;Ut++){var ze;if(!ne.includes(ze=xn[Ut]))return!1}return!0}function Xr(G){return null!==G&&"object"==typeof G}function po(G){for(var j=[],ne=function(Pt,Ut){Array.isArray(Ut)?Ut.forEach(function(xn){j.push(encodeURIComponent(Pt)+"="+encodeURIComponent(xn))}):j.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Ut))},de=0,re=Object.entries(G);de<re.length;de++){var Ne=re[de];ne(Ne[0],Ne[1])}return j.length?"&"+j.join("&"):""}function ks(G){var j={};return G.replace(/^\?/,"").split("&").forEach(function(de){if(de){var re=de.split("="),ze=re[1];j[decodeURIComponent(re[0])]=decodeURIComponent(ze)}}),j}function go(G){var j=G.indexOf("?");if(!j)return"";var ne=G.indexOf("#",j);return G.substring(j,ne>0?ne:void 0)}function ea(G,j){var ne=new Ye(G,j);return ne.subscribe.bind(ne)}!function(){function G(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}G.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},G.prototype.compress_=function(j,ne){ne||(ne=0);var de=this.W_;if("string"==typeof j)for(var re=0;re<16;re++)de[re]=j.charCodeAt(ne)<<24|j.charCodeAt(ne+1)<<16|j.charCodeAt(ne+2)<<8|j.charCodeAt(ne+3),ne+=4;else for(re=0;re<16;re++)de[re]=j[ne]<<24|j[ne+1]<<16|j[ne+2]<<8|j[ne+3],ne+=4;for(re=16;re<80;re++)de[re]=4294967295&((Ne=de[re-3]^de[re-8]^de[re-14]^de[re-16])<<1|Ne>>>31);var On,Un,ze=this.chain_[0],wt=this.chain_[1],Pt=this.chain_[2],Ut=this.chain_[3],xn=this.chain_[4];for(re=0;re<80;re++){re<40?re<20?(On=Ut^wt&(Pt^Ut),Un=1518500249):(On=wt^Pt^Ut,Un=1859775393):re<60?(On=wt&Pt|Ut&(wt|Pt),Un=2400959708):(On=wt^Pt^Ut,Un=3395469782);var Ne=(ze<<5|ze>>>27)+On+xn+Un+de[re]&4294967295;xn=Ut,Ut=Pt,Pt=4294967295&(wt<<30|wt>>>2),wt=ze,ze=Ne}this.chain_[0]=this.chain_[0]+ze&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+Ut&4294967295,this.chain_[4]=this.chain_[4]+xn&4294967295},G.prototype.update=function(j,ne){if(null!=j){void 0===ne&&(ne=j.length);for(var de=ne-this.blockSize,re=0,Ne=this.buf_,ze=this.inbuf_;re<ne;){if(0===ze)for(;re<=de;)this.compress_(j,re),re+=this.blockSize;if("string"==typeof j){for(;re<ne;)if(Ne[ze]=j.charCodeAt(re),++re,++ze===this.blockSize){this.compress_(Ne),ze=0;break}}else for(;re<ne;)if(Ne[ze]=j[re],++re,++ze===this.blockSize){this.compress_(Ne),ze=0;break}}this.inbuf_=ze,this.total_+=ne}},G.prototype.digest=function(){var j=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ne,ne/=256;this.compress_(this.buf_);var re=0;for(de=0;de<5;de++)for(var Ne=24;Ne>=0;Ne-=8)j[re]=this.chain_[de]>>Ne&255,++re;return j}}();var Ye=function(){function G(j,ne){var de=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){j(de)}).catch(function(re){de.error(re)})}return G.prototype.next=function(j){this.forEachObserver(function(ne){ne.next(j)})},G.prototype.error=function(j){this.forEachObserver(function(ne){ne.error(j)}),this.close(j)},G.prototype.complete=function(){this.forEachObserver(function(j){j.complete()}),this.close()},G.prototype.subscribe=function(j,ne,de){var Ne,re=this;if(void 0===j&&void 0===ne&&void 0===de)throw new Error("Missing Observer.");void 0===(Ne=function(G,j){if("object"!=typeof G||null===G)return!1;for(var ne=0,de=["next","error","complete"];ne<de.length;ne++){var re=de[ne];if(re in G&&"function"==typeof G[re])return!0}return!1}(j)?j:{next:j,error:ne,complete:de}).next&&(Ne.next=Ur),void 0===Ne.error&&(Ne.error=Ur),void 0===Ne.complete&&(Ne.complete=Ur);var ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{re.finalError?Ne.error(re.finalError):Ne.complete()}catch(wt){}}),this.observers.push(Ne),ze},G.prototype.unsubscribeOne=function(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},G.prototype.forEachObserver=function(j){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,j)},G.prototype.sendOne=function(j,ne){var de=this;this.task.then(function(){if(void 0!==de.observers&&void 0!==de.observers[j])try{ne(de.observers[j])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})},G.prototype.close=function(j){var ne=this;this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},G}();function Ur(){}function zt(G){return G&&G._delegate?G._delegate:G}},7841:(He,Ce,F)=>{"use strict";F.d(Ce,{Z:()=>d.Z});var d=F(4486);d.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(He,Ce,F)=>{"use strict";F.r(Ce);var d=F(8239),se=F(4486),H=F(4685),ie=F(5452),fe=F(4762),Z=F(300),X=F(6034);const me=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new Z.Yd("@firebase/auth");function lt(C,...m){Ae.logLevel<=Z.in.ERROR&&Ae.error(`Auth (${ie.SDK_VERSION}): ${C}`,...m)}function Qe(C,...m){throw rn(C,...m)}function it(C,...m){return rn(C,...m)}function Rt(C,m,v){const T=Object.assign(Object.assign({},ce()),{[m]:v});return new H.LL("auth","Firebase",T).create(m,{appName:C.name})}function Dt(C,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&Qe(C,"argument-error"),Rt(C,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rn(C,...m){if("string"!=typeof C){const v=m[0],T=[...m.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(v,...T)}return De.create(C,...m)}function ve(C,m,...v){if(!C)throw rn(m,...v)}function ae(C){const m="INTERNAL ASSERTION FAILED: "+C;throw lt(m),new Error(m)}function oe(C,m){C||ae(m)}const be=new Map;function ue(C){oe(C instanceof Function,"Expected a class definition");let m=be.get(C);return m?(oe(m instanceof C,"Instance stored in cache mismatched with class"),m):(m=new C,be.set(C,m),m)}function Re(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function $e(){return"http:"===At()||"https:"===At()}function At(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class nt{constructor(m,v){this.shortDelay=m,this.longDelay=v,oe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mn(C,m){oe(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Bi{static initialize(m,v,T){this.fetchImpl=m,v&&(this.headersImpl=v),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},en=new nt(3e4,6e4);function Mn(C,m){return C.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:C.tenantId}):m}function kt(C,m,v,T){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(C,m,v,T,x={}){return Rs(C,x,()=>{let k={},K={};T&&("GET"===m?K=T:k={body:JSON.stringify(T)});const _e=(0,H.xO)(Object.assign({key:C.config.apiKey},K)).slice(1),Oe=new(Bi.headers());return Oe.set("Content-Type","application/json"),Oe.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Oe.set("X-Firebase-Locale",C.languageCode),Bi.fetch()(ks(C,C.config.apiHost,v,_e),Object.assign({method:m,headers:Oe,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function Rs(C,m,v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(C,m,v){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},mi),m);try{const x=new go(C),k=yield Promise.race([v(),x.promise]);x.clearNetworkTimeout();const K=yield k.json();if("needConfirmation"in K)throw mo(C,"account-exists-with-different-credential",K);if(k.ok&&!("errorMessage"in K))return K;{const _e=k.ok?K.errorMessage:K.error.message,[Oe,Ge]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw mo(C,"credential-already-in-use",K);if("EMAIL_EXISTS"===Oe)throw mo(C,"email-already-in-use",K);const pt=T[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw Rt(C,pt,Ge);Qe(C,pt)}}catch(x){if(x instanceof H.ZR)throw x;Qe(C,"network-request-failed")}})).apply(this,arguments)}function Xr(C,m,v,T){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(C,m,v,T,x={}){const k=yield kt(C,m,v,T,x);return"mfaPendingCredential"in k&&Qe(C,"multi-factor-auth-required",{serverResponse:k}),k})).apply(this,arguments)}function ks(C,m,v,T){const x=`${m}${v}?${T}`;return C.config.emulator?mn(C.config,x):`${C.config.apiScheme}://${x}`}class go{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,T)=>{this.timer=setTimeout(()=>T(it(this.auth,"timeout")),en.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mo(C,m,v){const T={appName:C.name};v.email&&(T.email=v.email),v.phoneNumber&&(T.phoneNumber=v.phoneNumber);const x=it(C,m,T);return x.customData._tokenResponse=v,x}function Ye(){return(Ye=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function tr(C,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ur(C,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function et(C){if(C)try{const m=new Date(Number(C));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ar(){return(Ar=(0,d.Z)(function*(C,m=!1){const v=(0,H.m9)(C),T=yield v.getIdToken(m),x=Pe(T);ve(x&&x.exp&&x.auth_time&&x.iat,v.auth,"internal-error");const k="object"==typeof x.firebase?x.firebase:void 0,K=null==k?void 0:k.sign_in_provider;return{claims:x,token:T,authTime:et(Zt(x.auth_time)),issuedAtTime:et(Zt(x.iat)),expirationTime:et(Zt(x.exp)),signInProvider:K||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(C){return 1e3*Number(C)}function Pe(C){const[m,v,T]=C.split(".");if(void 0===m||void 0===v||void 0===T)return lt("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,H.tV)(v);return x?JSON.parse(x):(lt("Failed to decode base64 JWT payload"),null)}catch(x){return lt("Caught error parsing JWT payload as JSON",x),null}}function Ui(C,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(C,m,v=!1){if(v)return m;try{return yield m}catch(T){throw T instanceof H.ZR&&ji(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function ji({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class tn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const x=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const T=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield v.iteration()}),T)}iteration(){var m=this;return(0,d.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class _i{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Za(C){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.Z)(function*(C){var m;const v=C.auth,T=yield C.getIdToken(),x=yield Ui(C,Ur(v,{idToken:T}));ve(null==x?void 0:x.users.length,v,"internal-error");const k=x.users[0];C._notifyReloadListener(k);const K=(null===(m=k.providerUserInfo)||void 0===m?void 0:m.length)?de(k.providerUserInfo):[],_e=ne(C.providerData,K),pt=!!C.isAnonymous&&!(C.email&&k.passwordHash||(null==_e?void 0:_e.length)),Xe={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:_e,metadata:new _i(k.createdAt,k.lastLoginAt),isAnonymous:pt};Object.assign(C,Xe)})).apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(C){const m=(0,H.m9)(C);yield Za(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ne(C,m){return[...C.filter(T=>!m.some(x=>x.providerId===T.providerId)),...m]}function de(C){return C.map(m=>{var{providerId:v}=m,T=(0,fe._T)(m,["providerId"]);return{providerId:v,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Ne(){return(Ne=(0,d.Z)(function*(C,m){const v=yield Rs(C,{},()=>{const T=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:x,apiKey:k}=C.config,K=ks(C,x,"/v1/token",`key=${k}`);return Bi.fetch()(K,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ve(m.idToken,"internal-error"),ve(void 0!==m.idToken,"internal-error"),ve(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(C){const m=Pe(C);return ve(m,"internal-error"),ve(void 0!==m.exp,"internal-error"),ve(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var T=this;return(0,d.Z)(function*(){return ve(!T.accessToken||T.refreshToken,m,"user-token-expired"),v||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(m,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var T=this;return(0,d.Z)(function*(){const{accessToken:x,refreshToken:k,expiresIn:K}=yield function(C,m){return Ne.apply(this,arguments)}(m,v);T.updateTokensAndExpiration(x,k,Number(K))})()}updateTokensAndExpiration(m,v,T){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(m,v){const{refreshToken:T,accessToken:x,expirationTime:k}=v,K=new ze;return T&&(ve("string"==typeof T,"internal-error",{appName:m}),K.refreshToken=T),x&&(ve("string"==typeof x,"internal-error",{appName:m}),K.accessToken=x),k&&(ve("number"==typeof k,"internal-error",{appName:m}),K.expirationTime=k),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return ae("not implemented")}}function wt(C,m){ve("string"==typeof C||void 0===C,"internal-error",{appName:m})}class Pt{constructor(m){var{uid:v,auth:T,stsTokenManager:x}=m,k=(0,fe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new tn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=T,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.metadata=new _i(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,d.Z)(function*(){const T=yield Ui(v,v.stsTokenManager.getToken(v.auth,m));return ve(T,v.auth,"internal-error"),v.accessToken!==T&&(v.accessToken=T,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),T})()}getIdTokenResult(m){return function(C){return Ar.apply(this,arguments)}(this,m)}reload(){return function(C){return j.apply(this,arguments)}(this)}_assign(m){this!==m&&(ve(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Pt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var T=this;return(0,d.Z)(function*(){let x=!1;m.idToken&&m.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(m),x=!0),v&&(yield Za(T)),yield T.auth._persistUserIfCurrent(T),x&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var m=this;return(0,d.Z)(function*(){const v=yield m.getIdToken();return yield Ui(m,function(C,m){return Ye.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var T,x,k,K,_e,Oe,Ge,pt;const Xe=null!==(T=v.displayName)&&void 0!==T?T:void 0,Fn=null!==(x=v.email)&&void 0!==x?x:void 0,$r=null!==(k=v.phoneNumber)&&void 0!==k?k:void 0,Hc=null!==(K=v.photoURL)&&void 0!==K?K:void 0,u_=null!==(_e=v.tenantId)&&void 0!==_e?_e:void 0,Sa=null!==(Oe=v._redirectEventId)&&void 0!==Oe?Oe:void 0,d_=null!==(Ge=v.createdAt)&&void 0!==Ge?Ge:void 0,Aa=null!==(pt=v.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:Si,emailVerified:pb,isAnonymous:gb,providerData:Nd,stsTokenManager:mb}=v;ve(Si&&mb,m,"internal-error");const ws=ze.fromJSON(this.name,mb);ve("string"==typeof Si,m,"internal-error"),wt(Xe,m.name),wt(Fn,m.name),ve("boolean"==typeof pb,m,"internal-error"),ve("boolean"==typeof gb,m,"internal-error"),wt($r,m.name),wt(Hc,m.name),wt(u_,m.name),wt(Sa,m.name),wt(d_,m.name),wt(Aa,m.name);const Gc=new Pt({uid:Si,auth:m,email:Fn,emailVerified:pb,displayName:Xe,isAnonymous:gb,photoURL:Hc,phoneNumber:$r,tenantId:u_,stsTokenManager:ws,createdAt:d_,lastLoginAt:Aa});return Nd&&Array.isArray(Nd)&&(Gc.providerData=Nd.map(Pd=>Object.assign({},Pd))),Sa&&(Gc._redirectEventId=Sa),Gc}static _fromIdTokenResponse(m,v,T=!1){return(0,d.Z)(function*(){const x=new ze;x.updateFromServerResponse(v);const k=new Pt({uid:v.localId,auth:m,stsTokenManager:x,isAnonymous:T});return yield Za(k),k})()}}const xn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(v,T){var x=this;return(0,d.Z)(function*(){x.storage[v]=T})()}_get(v){var T=this;return(0,d.Z)(function*(){const x=T.storage[v];return void 0===x?null:x})()}_remove(v){var T=this;return(0,d.Z)(function*(){delete T.storage[v]})()}_addListener(v,T){}_removeListener(v,T){}}return C.type="NONE",C})();function On(C,m,v){return`firebase:${C}:${m}:${v}`}class Un{constructor(m,v,T){this.persistence=m,this.auth=v,this.userKey=T;const{config:x,name:k}=this.auth;this.fullUserKey=On(this.userKey,x.apiKey,k),this.fullPersistenceKey=On("persistence",x.apiKey,k),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Pt._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,d.Z)(function*(){if(v.persistence===m)return;const T=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,T?v.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,T="authUser"){return(0,d.Z)(function*(){if(!v.length)return new Un(ue(xn),m,T);const x=(yield Promise.all(v.map(function(){var Ge=(0,d.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let k=x[0]||ue(xn);const K=On(T,m.config.apiKey,m.name);let _e=null;for(const Ge of v)try{const pt=yield Ge._get(K);if(pt){const Xe=Pt._fromJSON(m,pt);Ge!==k&&(_e=Xe),k=Ge;break}}catch(pt){}const Oe=x.filter(Ge=>Ge._shouldAllowMigration);return k._shouldAllowMigration&&Oe.length?(k=Oe[0],_e&&(yield k._set(K,_e.toJSON())),yield Promise.all(v.map(function(){var Ge=(0,d.Z)(function*(pt){if(pt!==k)try{yield pt._remove(K)}catch(Xe){}});return function(pt){return Ge.apply(this,arguments)}}())),new Un(k,m,T)):new Un(k,m,T)})()}}function yo(C){const m=C.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Yu(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ka(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(nr(m))return"Blackberry";if(yi(m))return"Webos";if(Wu(m))return"Safari";if((m.includes("chrome/")||of(m))&&!m.includes("edge/"))return"Chrome";if(Qa(m))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Ka(C=(0,H.z$)()){return/firefox\//i.test(C)}function Wu(C=(0,H.z$)()){const m=C.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function of(C=(0,H.z$)()){return/crios\//i.test(C)}function Yu(C=(0,H.z$)()){return/iemobile/i.test(C)}function Qa(C=(0,H.z$)()){return/android/i.test(C)}function nr(C=(0,H.z$)()){return/blackberry/i.test(C)}function yi(C=(0,H.z$)()){return/webos/i.test(C)}function cr(C=(0,H.z$)()){return/iphone|ipad|ipod/i.test(C)}function Fe(C=(0,H.z$)()){return cr(C)||Qa(C)||yi(C)||nr(C)||/windows phone/i.test(C)||Yu(C)}function Jt(C,m=[]){let v;switch(C){case"Browser":v=yo((0,H.z$)());break;case"Worker":v=`${yo((0,H.z$)())}-${C}`;break;default:v=C}const T=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ie.SDK_VERSION}/${T}`}class ei{constructor(m,v){this.app=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jn(this),this.idTokenSubscription=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(m,v){var T=this;return v&&(this._popupRedirectResolver=ue(v)),this._initializationPromise=this.queue((0,d.Z)(function*(){var x;T._deleted||(T.persistenceManager=yield Un.create(T,m),!T._deleted&&((null===(x=T._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(v),!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,d.Z)(function*(){var T;let x=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const k=null===(T=v.redirectUser)||void 0===T?void 0:T._redirectEventId,K=null==x?void 0:x._redirectEventId,_e=yield v.tryRedirectSignIn(m);(!k||k===K)&&(null==_e?void 0:_e.user)&&(x=_e.user)}return x?x._redirectEventId?(ve(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===x._redirectEventId?v.directlySetCurrentUser(x):v.reloadAndSetCurrentUserOrClear(x)):v.reloadAndSetCurrentUserOrClear(x):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,d.Z)(function*(){let T=null;try{T=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(x){yield v._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,d.Z)(function*(){try{yield Za(m)}catch(T){if("auth/network-request-failed"!==T.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,d.Z)(function*(){const T=m?(0,H.m9)(m):null;return T&&ve(T.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(T&&T._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,d.Z)(function*(){if(!v._deleted)return m&&ve(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,d.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,d.Z)(function*(){yield v.assertedPersistence.setPersistence(ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,v,T){return this.registerStateListener(this.authStateSubscription,m,v,T)}onIdTokenChanged(m,v,T){return this.registerStateListener(this.idTokenSubscription,m,v,T)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var T=this;return(0,d.Z)(function*(){const x=yield T.getOrInitRedirectPersistenceManager(v);return null===m?x.removeCurrentUser():x.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,d.Z)(function*(){if(!v.redirectPersistenceManager){const T=m&&ue(m)||v._popupRedirectResolver;ve(T,v,"argument-error"),v.redirectPersistenceManager=yield Un.create(v,[ue(T._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,d.Z)(function*(){var T,x;return v._isInitialized&&(yield v.queue((0,d.Z)(function*(){}))),(null===(T=v._currentUser)||void 0===T?void 0:T._redirectEventId)===m?v._currentUser:(null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,d.Z)(function*(){if(m===v.currentUser)return v.queue((0,d.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,T,x){if(this._deleted)return()=>{};const k="function"==typeof v?v:v.next.bind(v),K=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(K,this,"internal-error"),K.then(()=>k(this.currentUser)),"function"==typeof v?m.addObserver(v,T,x):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,d.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function an(C){return(0,H.m9)(C)}class jn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(v=>this.observer=v)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _n(C){const m=C.indexOf(":");return m<0?"":C.substr(0,m+1)}function ta(C){if(!C)return null;const m=Number(C);return isNaN(m)?null:m}class bi{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return ae("not implemented")}_getIdTokenResponse(m){return ae("not implemented")}_linkToIdToken(m,v){return ae("not implemented")}_getReauthenticationResolver(m){return ae("not implemented")}}function vo(C,m){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:resetPassword",Mn(C,m))})).apply(this,arguments)}function Ja(C,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function na(C,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:update",Mn(C,m))})).apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithPassword",Mn(C,m))})).apply(this,arguments)}function hc(C,m){return af.apply(this,arguments)}function af(){return(af=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:sendOobCode",Mn(C,m))})).apply(this,arguments)}function wo(C,m){return fc.apply(this,arguments)}function fc(){return(fc=(0,d.Z)(function*(C,m){return hc(C,m)})).apply(this,arguments)}function Xa(C,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(C,m){return hc(C,m)})).apply(this,arguments)}function Gi(C,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(C,m){return hc(C,m)})).apply(this,arguments)}function mm(C,m){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(C,m){return hc(C,m)})).apply(this,arguments)}function pc(){return(pc=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithEmailLink",Mn(C,m))})).apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithEmailLink",Mn(C,m))})).apply(this,arguments)}class Hr extends bi{constructor(m,v,T,x=null){super("password",T),this._email=m,this._password=v,this._tenantId=x}static _fromEmailAndPassword(m,v){return new Hr(m,v,"password")}static _fromEmailAndCode(m,v,T=null){return new Hr(m,v,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return function(C,m){return Gt.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(C,m){return pc.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:Qe(m,"internal-error")}})()}_linkToIdToken(m,v){var T=this;return(0,d.Z)(function*(){switch(T.signInMethod){case"password":return Ja(m,{idToken:v,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(C,m){return el.apply(this,arguments)}(m,{idToken:v,email:T._email,oobCode:T._password});default:Qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Hn(C,m){return _m.apply(this,arguments)}function _m(){return(_m=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithIdp",Mn(C,m))})).apply(this,arguments)}class us extends bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new us(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):Qe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:x}=v,k=(0,fe._T)(v,["providerId","signInMethod"]);if(!T||!x)return null;const K=new us(T,x);return Object.assign(K,k),K}_getIdTokenResponse(m){return Hn(m,this.buildRequest())}_linkToIdToken(m,v){const T=this.buildRequest();return T.idToken=v,Hn(m,T)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Hn(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,H.xO)(v)}return m}}function tC(C,m){return lf.apply(this,arguments)}function lf(){return(lf=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:sendVerificationCode",Mn(C,m))})).apply(this,arguments)}function ym(){return(ym=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithPhoneNumber",Mn(C,m))})).apply(this,arguments)}function vm(){return(vm=(0,d.Z)(function*(C,m){const v=yield Xr(C,"POST","/v1/accounts:signInWithPhoneNumber",Mn(C,m));if(v.temporaryProof)throw mo(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const iC={USER_NOT_FOUND:"user-not-found"};function bm(){return(bm=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithPhoneNumber",Mn(C,Object.assign(Object.assign({},m),{operation:"REAUTH"})),iC)})).apply(this,arguments)}class tl extends bi{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new tl({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new tl({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(C,m){return ym.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(C,m){return vm.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(C,m){return bm.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:T,verificationCode:x}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:T,code:x}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:T,phoneNumber:x,temporaryProof:k}=m;return T||v||x||k?new tl({verificationId:v,verificationCode:T,phoneNumber:x,temporaryProof:k}):null}}class Zu{constructor(m){var v,T,x,k,K,_e;const Oe=(0,H.zd)((0,H.pd)(m)),Ge=null!==(v=Oe.apiKey)&&void 0!==v?v:null,pt=null!==(T=Oe.oobCode)&&void 0!==T?T:null,Xe=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Oe.mode)&&void 0!==x?x:null);ve(Ge&&pt&&Xe,"argument-error"),this.apiKey=Ge,this.operation=Xe,this.code=pt,this.continueUrl=null!==(k=Oe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(K=Oe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(_e=Oe.tenantId)&&void 0!==_e?_e:null}static parseLink(m){const v=function(C){const m=(0,H.zd)((0,H.pd)(C)).link,v=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,T=(0,H.zd)((0,H.pd)(C)).deep_link_id;return(T?(0,H.zd)((0,H.pd)(T)).link:null)||T||v||m||C}(m);try{return new Zu(v)}catch(T){return null}}}let Ku=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,T){return Hr._fromEmailAndPassword(v,T)}static credentialWithLink(v,T){const x=Zu.parseLink(T);return ve(x,"argument-error"),Hr._fromEmailAndCode(v,x.code,x.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ds{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class mc extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class ra extends mc{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return ve("providerId"in v&&"signInMethod"in v,"argument-error"),us._fromParams(v)}credential(m){return this._credential(m)}_credential(m){return ve(m.idToken||m.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return ra.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return ra.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:T,oauthTokenSecret:x,pendingToken:k,nonce:K,providerId:_e}=m;if(!T&&!x&&!v&&!k||!_e)return null;try{return new ra(_e)._credential({idToken:v,accessToken:T,rawNonce:K,pendingToken:k})}catch(Oe){return null}}}let cf=(()=>{class C extends mc{constructor(){super("facebook.com")}static credential(v){return us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Co=(()=>{class C extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,T){return us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:T})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:T,oauthAccessToken:x}=v;if(!T&&!x)return null;try{return C.credential(T,x)}catch(k){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),wm=(()=>{class C extends mc{constructor(){super("github.com")}static credential(v){return us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class To extends bi{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return Hn(m,this.buildRequest())}_linkToIdToken(m,v){const T=this.buildRequest();return T.idToken=v,Hn(m,T)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,Hn(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:T,signInMethod:x,pendingToken:k}=v;return T&&x&&k&&T===x?new To(T,k):null}static _create(m,v){return new To(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let df=(()=>{class C extends mc{constructor(){super("twitter.com")}static credential(v,T){return us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:T})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:T,oauthTokenSecret:x}=v;if(!T||!x)return null;try{return C.credential(T,x)}catch(k){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function hf(C,m){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signUp",Mn(C,m))})).apply(this,arguments)}class ti{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,T,x=!1){return(0,d.Z)(function*(){const k=yield Pt._fromIdTokenResponse(m,T,x),K=Vv(T);return new ti({user:k,providerId:K,_tokenResponse:T,operationType:v})})()}static _forOperation(m,v,T){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(T,!0);const x=Vv(T);return new ti({user:m,providerId:x,_tokenResponse:T,operationType:v})})()}}function Vv(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function _c(){return(_c=(0,d.Z)(function*(C){var m;const v=an(C);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new ti({user:v.currentUser,providerId:null,operationType:"signIn"});const T=yield hf(v,{returnSecureToken:!0}),x=yield ti._fromIdTokenResponse(v,"signIn",T,!0);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class yc extends H.ZR{constructor(m,v,T,x){var k;super(v.code,v.message),this.operationType=T,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,yc.prototype),this.appName=m.name,this.code=v.code,this.tenantId=null!==(k=m.tenantId)&&void 0!==k?k:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(m,v,T,x){return new yc(m,v,T,x)}}function vc(C,m,v,T){return("reauthenticate"===m?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?yc._fromErrorAndOperation(C,k,m,T):k})}function Em(C){return new Set(C.map(({providerId:m})=>m).filter(m=>!!m))}function ff(){return(ff=(0,d.Z)(function*(C,m){const v=(0,H.m9)(C);yield Fs(!0,v,m);const{providerUserInfo:T}=yield tr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),x=Em(T||[]);return v.providerData=v.providerData.filter(k=>x.has(k.providerId)),x.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function ln(C,m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,d.Z)(function*(C,m,v=!1){const T=yield Ui(C,m._linkToIdToken(C.auth,yield C.getIdToken()),v);return ti._forOperation(C,"link",T)})).apply(this,arguments)}function Fs(C,m,v){return pf.apply(this,arguments)}function pf(){return(pf=(0,d.Z)(function*(C,m,v){yield Za(m);const x=!1===C?"provider-already-linked":"no-such-provider";ve(Em(m.providerData).has(v)===C,m.auth,x)})).apply(this,arguments)}function cn(C,m){return gf.apply(this,arguments)}function gf(){return(gf=(0,d.Z)(function*(C,m,v=!1){const{auth:T}=C,x="reauthenticate";try{const k=yield Ui(C,vc(T,x,m,C),v);ve(k.idToken,T,"internal-error");const K=Pe(k.idToken);ve(K,T,"internal-error");const{sub:_e}=K;return ve(C.uid===_e,T,"user-mismatch"),ti._forOperation(C,x,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Qe(T,"user-mismatch"),k}})).apply(this,arguments)}function Tm(C,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(C,m,v=!1){const T="signIn",x=yield vc(C,T,m),k=yield ti._fromIdTokenResponse(C,T,x);return v||(yield C._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Mr(C,m){return bc.apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(C,m){return Tm(an(C),m)})).apply(this,arguments)}function Xu(C,m){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(C,m){const v=(0,H.m9)(C);return yield Fs(!1,v,m.providerId),ln(v,m)})).apply(this,arguments)}function Gr(C,m){return mf.apply(this,arguments)}function mf(){return(mf=(0,d.Z)(function*(C,m){return cn((0,H.m9)(C),m)})).apply(this,arguments)}function Im(C,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(C,m){return Xr(C,"POST","/v1/accounts:signInWithCustomToken",Mn(C,m))})).apply(this,arguments)}function ed(){return(ed=(0,d.Z)(function*(C,m){const v=an(C),T=yield Im(v,{token:m,returnSecureToken:!0}),x=yield ti._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}class il{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?ht._fromServerResponse(m,v):Qe(m,"internal-error")}}class ht extends il{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new ht(v)}}function td(C,m,v){var T;ve((null===(T=v.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),ve(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ve(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),m.iosBundleId=v.iOS.bundleId),v.android&&(ve(v.android.packageName.length>0,C,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function _f(){return(_f=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C),x={requestType:"PASSWORD_RESET",email:m};v&&td(T,x,v),yield Xa(T,x)})).apply(this,arguments)}function yf(){return(yf=(0,d.Z)(function*(C,m,v){yield vo((0,H.m9)(C),{oobCode:m,newPassword:v})})).apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(C,m){yield na((0,H.m9)(C),{oobCode:m})})).apply(this,arguments)}function Ie(C,m){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(C,m){const v=(0,H.m9)(C),T=yield vo(v,{oobCode:m}),x=T.requestType;switch(ve(x,v,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(T.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(T.mfaInfo,v,"internal-error");default:ve(T.email,v,"internal-error")}let k=null;return T.mfaInfo&&(k=il._fromServerResponse(an(v),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:k},operation:x}})).apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(C,m){const{data:v}=yield Ie((0,H.m9)(C),m);return v.email})).apply(this,arguments)}function Ls(){return(Ls=(0,d.Z)(function*(C,m,v){const T=an(C),x=yield hf(T,{returnSecureToken:!0,email:m,password:v}),k=yield ti._fromIdTokenResponse(T,"signIn",x);return yield T._updateCurrentUser(k.user),k})).apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C),x={requestType:"EMAIL_SIGNIN",email:m};ve(v.handleCodeInApp,T,"argument-error"),v&&td(T,x,v),yield Gi(T,x)})).apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C),x=Ku.credentialWithLink(m,v||Re());return ve(x._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Mr(T,x)})).apply(this,arguments)}function rd(C,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:createAuthUri",Mn(C,m))})).apply(this,arguments)}function wf(){return(wf=(0,d.Z)(function*(C,m){const T={identifier:m,continueUri:$e()?Re():"http://localhost"},{signinMethods:x}=yield rd((0,H.m9)(C),T);return x||[]})).apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(C,m){const v=(0,H.m9)(C),x={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};m&&td(v.auth,x,m);const{email:k}=yield wo(v.auth,x);k!==C.email&&(yield C.reload())})).apply(this,arguments)}function id(){return(id=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:m};v&&td(T.auth,k,v);const{email:K}=yield mm(T.auth,k);K!==C.email&&(yield C.reload())})).apply(this,arguments)}function Dm(C,m){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,d.Z)(function*(C,m){return kt(C,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wc(){return(wc=(0,d.Z)(function*(C,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const T=(0,H.m9)(C),k={idToken:yield T.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},K=yield Ui(T,Dm(T.auth,k));T.displayName=K.displayName||null,T.photoURL=K.photoUrl||null;const _e=T.providerData.find(({providerId:Oe})=>"password"===Oe);_e&&(_e.displayName=T.displayName,_e.photoURL=T.photoURL),yield T._updateTokensIfNecessary(K)})).apply(this,arguments)}function Tf(C,m,v){return sd.apply(this,arguments)}function sd(){return(sd=(0,d.Z)(function*(C,m,v){const{auth:T}=C,k={idToken:yield C.getIdToken(),returnSecureToken:!0};m&&(k.email=m),v&&(k.password=v);const K=yield Ui(C,Ja(T,k));yield C._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class oa{constructor(m,v,T={}){this.isNewUser=m,this.providerId=v,this.profile=T}}class Am extends oa{constructor(m,v,T,x){super(m,v,T),this.username=x}}class Mm extends oa{constructor(m,v){super(m,"facebook.com",v)}}class Gv extends Am{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Cc extends oa{constructor(m,v){super(m,"google.com",v)}}class $v extends Am{constructor(m,v,T){super(m,"twitter.com",v,T)}}function zv(C){const{user:m,_tokenResponse:v}=C;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(C){var m,v;if(!C)return null;const{providerId:T}=C,x=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},k=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const K=null===(v=null===(m=Pe(C.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(K)return new oa(k,"anonymous"!==K&&"custom"!==K?K:null)}if(!T)return null;switch(T){case"facebook.com":return new Mm(k,x);case"github.com":return new Gv(k,x);case"google.com":return new Cc(k,x);case"twitter.com":return new $v(k,x,C.screenName||null);case"custom":case"anonymous":return new oa(k,null);default:return new oa(k,T,x)}}(v)}class Ci{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new Ci("enroll",m)}static _fromMfaPendingCredential(m){return new Ci("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,T;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Ci._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(T=m.multiFactorSession)||void 0===T?void 0:T.idToken)return Ci._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ll{constructor(m,v,T){this.session=m,this.hints=v,this.signInResolver=T}static _fromError(m,v){const T=an(m),x=(v.serverResponse.mfaInfo||[]).map(K=>il._fromServerResponse(T,K));ve(v.serverResponse.mfaPendingCredential,T,"internal-error");const k=Ci._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new ll(k,x,function(){var K=(0,d.Z)(function*(_e){const Oe=yield _e._process(T,k);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const Ge=Object.assign(Object.assign({},v.serverResponse),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(v.operationType){case"signIn":const pt=yield ti._fromIdTokenResponse(T,v.operationType,Ge);return yield T._updateCurrentUser(pt.user),pt;case"reauthenticate":return ve(v.user,T,"internal-error"),ti._forOperation(v.user,v.operationType,Ge);default:Qe(T,"internal-error")}});return function(_e){return K.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,d.Z)(function*(){return v.signInResolver(m)})()}}function ad(C,m){return kt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},m))}class Sf{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(T=>il._fromServerResponse(m.auth,T)))})}static _fromUser(m){return new Sf(m)}getSession(){var m=this;return(0,d.Z)(function*(){return Ci._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var T=this;return(0,d.Z)(function*(){const x=m,k=yield T.getSession(),K=yield Ui(T.user,x._process(T.user.auth,k,v));return yield T.user._updateTokensIfNecessary(K),T.user.reload()})()}unenroll(m){var v=this;return(0,d.Z)(function*(){const T="string"==typeof m?m:m.uid,x=yield v.user.getIdToken(),k=yield Ui(v.user,function(C,m){return kt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},m))}(v.user.auth,{idToken:x,mfaEnrollmentId:T}));v.enrolledFactors=v.enrolledFactors.filter(({uid:K})=>K!==T),yield v.user._updateTokensIfNecessary(k);try{yield v.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const hs=new WeakMap,Af="__sak";class Om{constructor(m,v){this.storage=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const Of=(()=>{class C extends Om{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,H.z$)();return Wu(C)||cr(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Fe(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const T of Object.keys(this.listeners)){const x=this.storage.getItem(T),k=this.localCache[T];x!==k&&v(T,k,x)}}onStorageEvent(v,T=!1){if(!v.key)return void this.forAllChangedKeys((_e,Oe,Ge)=>{this.notifyListeners(_e,Ge)});const x=v.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(x);if(v.newValue!==_e)null!==v.newValue?this.storage.setItem(x,v.newValue):this.storage.removeItem(x);else if(this.localCache[x]===v.newValue&&!T)return}const k=()=>{const _e=this.storage.getItem(x);!T&&this.localCache[x]===_e||this.notifyListeners(x,_e)},K=this.storage.getItem(x);(0,H.w1)()&&10===document.documentMode&&K!==v.newValue&&v.newValue!==v.oldValue?setTimeout(k,10):k()}notifyListeners(v,T){this.localCache[v]=T;const x=this.listeners[v];if(x)for(const k of Array.from(x))k(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,T,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:T,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(T)}_removeListener(v,T){this.listeners[v]&&(this.listeners[v].delete(T),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,T){var x=()=>super._set,k=this;return(0,d.Z)(function*(){yield x().call(k,v,T),k.localCache[v]=JSON.stringify(T)})()}_get(v){var T=()=>super._get,x=this;return(0,d.Z)(function*(){const k=yield T().call(x,v);return x.localCache[v]=JSON.stringify(k),k})()}_remove(v){var T=()=>super._remove,x=this;return(0,d.Z)(function*(){yield T().call(x,v),delete x.localCache[v]})()}}return C.type="LOCAL",C})(),fs=(()=>{class C extends Om{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,T){}_removeListener(v,T){}}return C.type="SESSION",C})();let ps=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const T=this.receivers.find(k=>k.isListeningto(v));if(T)return T;const x=new C(v);return this.receivers.push(x),x}isListeningto(v){return this.eventTarget===v}handleEvent(v){var T=this;return(0,d.Z)(function*(){const x=v,{eventId:k,eventType:K,data:_e}=x.data,Oe=T.handlersMap[K];if(!(null==Oe?void 0:Oe.size))return;x.ports[0].postMessage({status:"ack",eventId:k,eventType:K});const Ge=Array.from(Oe).map(function(){var Xe=(0,d.Z)(function*(Fn){return Fn(x.origin,_e)});return function(Fn){return Xe.apply(this,arguments)}}()),pt=yield function(C){return Promise.all(C.map(function(){var m=(0,d.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(T){return{fulfilled:!1,reason:T}}});return function(v){return m.apply(this,arguments)}}()))}(Ge);x.ports[0].postMessage({status:"done",eventId:k,eventType:K,response:pt})})()}_subscribe(v,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(T)}_unsubscribe(v,T){this.handlersMap[v]&&T&&this.handlersMap[v].delete(T),(!T||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Do(C="",m=10){let v="";for(let T=0;T<m;T++)v+=Math.floor(10*Math.random());return C+v}class km{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,T=50){var x=this;return(0,d.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let K,_e;return new Promise((Oe,Ge)=>{const pt=Do("",20);k.port1.start();const Xe=setTimeout(()=>{Ge(new Error("unsupported_event"))},T);_e={messageChannel:k,onMessage(Fn){const $r=Fn;if($r.data.eventId===pt)switch($r.data.status){case"ack":clearTimeout(Xe),K=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Oe($r.data.response);break;default:clearTimeout(Xe),clearTimeout(K),Ge(new Error("invalid_response"))}}},x.handlers.add(_e),k.port1.addEventListener("message",_e.onMessage),x.target.postMessage({eventType:m,eventId:pt,data:v},[k.port2])}).finally(()=>{_e&&x.removeMessageHandler(_e)})})()}}function yn(){return window}function Nm(){return void 0!==yn().WorkerGlobalScope&&"function"==typeof yn().importScripts}function cd(){return(cd=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Rf="firebaseLocalStorageDb",kf="firebaseLocalStorage",Yv="fbase_key";class Bs{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Dc(C,m){return C.transaction([kf],m?"readwrite":"readonly").objectStore(kf)}function je(){const C=indexedDB.open(Rf,1);return new Promise((m,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(kf,{keyPath:Yv})}catch(x){v(x)}}),C.addEventListener("success",(0,d.Z)(function*(){const T=C.result;T.objectStoreNames.contains(kf)?m(T):(T.close(),yield function(){const C=indexedDB.deleteDatabase(Rf);return new Bs(C).toPromise()}(),m(yield je()))}))})}function ft(C,m,v){return dd.apply(this,arguments)}function dd(){return(dd=(0,d.Z)(function*(C,m,v){const T=Dc(C,!0).put({[Yv]:m,value:v});return new Bs(T).toPromise()})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(C,m){const v=Dc(C,!1).get(m),T=yield new Bs(v).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function ul(C,m){const v=Dc(C,!0).delete(m);return new Bs(v).toPromise()}const So=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.Z)(function*(){return v.db||(v.db=yield je()),v.db})()}_withRetries(v){var T=this;return(0,d.Z)(function*(){let x=0;for(;;)try{const k=yield T._openDb();return yield v(k)}catch(k){if(x++>3)throw k;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.Z)(function*(){return Nm()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.Z)(function*(){v.receiver=ps._getInstance(Nm()?self:null),v.receiver._subscribe("keyChanged",function(){var T=(0,d.Z)(function*(x,k){return{keyProcessed:(yield v._poll()).includes(k.key)}});return function(x,k){return T.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var T=(0,d.Z)(function*(x,k){return["keyChanged"]});return function(x,k){return T.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,d.Z)(function*(){var T,x;if(v.activeServiceWorker=yield function(){return cd.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new km(v.activeServiceWorker);const k=yield v.sender._send("ping",{},800);!k||(null===(T=k[0])||void 0===T?void 0:T.fulfilled)&&(null===(x=k[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var T=this;return(0,d.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:v},T.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const v=yield je();return yield ft(v,Af,"1"),yield ul(v,Af),!0}catch(v){}return!1})()}_withPendingWrite(v){var T=this;return(0,d.Z)(function*(){T.pendingWrites++;try{yield v()}finally{T.pendingWrites--}})()}_set(v,T){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(k=>ft(k,v,T)),x.localCache[v]=T,x.notifyServiceWorker(v)}))})()}_get(v){var T=this;return(0,d.Z)(function*(){const x=yield T._withRetries(k=>function(C,m){return la.apply(this,arguments)}(k,v));return T.localCache[v]=x,x})()}_remove(v){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(x=>ul(x,v)),delete T.localCache[v],T.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.Z)(function*(){const T=yield v._withRetries(K=>{const _e=Dc(K,!1).getAll();return new Bs(_e).toPromise()});if(!T)return[];if(0!==v.pendingWrites)return[];const x=[],k=new Set;for(const{fbase_key:K,value:_e}of T)k.add(K),JSON.stringify(v.localCache[K])!==JSON.stringify(_e)&&(v.notifyListeners(K,_e),x.push(K));for(const K of Object.keys(v.localCache))v.localCache[K]&&!k.has(K)&&(v.notifyListeners(K,null),x.push(K));return x})()}notifyListeners(v,T){this.localCache[v]=T;const x=this.listeners[v];if(x)for(const k of Array.from(x))k(T)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(T)}_removeListener(v,T){this.listeners[v]&&(this.listeners[v].delete(T),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function on(C,m){return kt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},m))}function Sc(){return(Sc=(0,d.Z)(function*(C){return(yield kt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nf(C){return new Promise((m,v)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=m,T.onerror=x=>{const k=it("internal-error");k.customData=x,v(k)},T.type="text/javascript",T.charset="UTF-8",function(){var C,m;return null!==(m=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==m?m:document}().appendChild(T)})}function hd(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Ti=1e12;class dl{constructor(m){this.auth=m,this.counter=Ti,this._widgets=new Map}render(m,v){const T=this.counter;return this._widgets.set(T,new Ao(m,this.auth.name,v||{})),this.counter++,T}reset(m){var v;const T=m||Ti;null===(v=this._widgets.get(T))||void 0===v||v.delete(),this._widgets.delete(T)}getResponse(m){var v;return(null===(v=this._widgets.get(m||Ti))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,d.Z)(function*(){var T;return null===(T=v._widgets.get(m||Ti))||void 0===T||T.execute(),""})()}}class Ao{constructor(m,v,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof m?document.getElementById(m):m;ve(x,"argument-error",{appName:v}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yi=hd("rcb"),pC=new nt(3e4,6e4);class Ii{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yn().grecaptcha}load(m,v=""){return ve((C=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(yn().grecaptcha):new Promise((T,x)=>{const k=yn().setTimeout(()=>{x(it(m,"network-request-failed"))},pC.get());yn()[Yi]=()=>{yn().clearTimeout(k),delete yn()[Yi];const _e=yn().grecaptcha;if(!_e)return void x(it(m,"internal-error"));const Oe=_e.render;_e.render=(Ge,pt)=>{const Xe=Oe(Ge,pt);return this.counter++,Xe},this.hostLanguage=v,T(_e)},Nf(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Yi,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(k),x(it(m,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!yn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qv{load(m){return(0,d.Z)(function*(){return new dl(m)})()}clearedOneInstance(){}}const hn="recaptcha",gC={theme:"light",type:"image"};class Pf{constructor(m,v=Object.assign({},gC),T){this.parameters=v,this.type=hn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(T),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof m?document.getElementById(m):m;ve(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qv:new Ii,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),T=m.getAssertedRecaptcha();return T.getResponse(v)||new Promise(k=>{const K=_e=>{!_e||(m.tokenChangeListeners.delete(K),k(_e))};m.tokenChangeListeners.add(K),m.isInvisible&&T.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(T=>T(v)),"function"==typeof m)m(v);else if("string"==typeof m){const T=yn()[m];"function"==typeof T&&T(v)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const T=document.createElement("div");v.appendChild(T),v=T}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){ve($e()&&!Nm(),m.auth,"internal-error"),yield function(){let C=null;return new Promise(m=>{"complete"!==document.readyState?(C=()=>m(),window.addEventListener("load",C)):m()}).catch(m=>{throw C&&window.removeEventListener("load",C),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(C){return Sc.apply(this,arguments)}(m.auth);ve(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lm{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=tl._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function ur(){return(ur=(0,d.Z)(function*(C,m,v){const T=an(C),x=yield Ff(T,m,(0,H.m9)(v));return new Lm(x,k=>Mr(T,k))})).apply(this,arguments)}function Vm(){return(Vm=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C);yield Fs(!1,T,"phone");const x=yield Ff(T.auth,m,(0,H.m9)(v));return new Lm(x,k=>Xu(T,k))})).apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C),x=yield Ff(T.auth,m,(0,H.m9)(v));return new Lm(x,k=>Gr(T,k))})).apply(this,arguments)}function Ff(C,m,v){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(C,m,v){var T;const x=yield v.verify();try{let k;if(ve("string"==typeof x,C,"argument-error"),ve(v.type===hn,C,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const K=k.session;if("phoneNumber"in k)return ve("enroll"===K.type,C,"internal-error"),(yield ad(C,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{ve("signin"===K.type,C,"internal-error");const _e=(null===(T=k.multiFactorHint)||void 0===T?void 0:T.uid)||k.multiFactorUid;return ve(_e,C,"missing-multi-factor-info"),(yield on(C,{mfaPendingCredential:K.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield tC(C,{phoneNumber:k.phoneNumber,recaptchaToken:x});return K}}finally{v._reset()}})).apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(C,m){yield ln((0,H.m9)(C),m)})).apply(this,arguments)}let Mo=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=an(v)}verifyPhoneNumber(v,T){return Ff(this.auth,v,(0,H.m9)(T))}static credential(v,T){return tl._fromVerification(v,T)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:T,temporaryProof:x}=v;return T&&x?tl._fromTokenResponse(T,x):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function dn(C,m){return m?ue(m):(ve(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ha extends bi{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Hn(m,this._buildIdpRequest())}_linkToIdToken(m,v){return Hn(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return Hn(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Lf(C){return Tm(C.auth,new ha(C),C.bypassAuthState)}function Di(C){const{auth:m,user:v}=C;return ve(v,m,"internal-error"),cn(v,new ha(C),C.bypassAuthState)}function ms(C){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(C){const{auth:m,user:v}=C;return ve(v,m,"internal-error"),ln(v,new ha(C),C.bypassAuthState)})).apply(this,arguments)}class xo{constructor(m,v,T,x,k=!1){this.auth=m,this.resolver=T,this.user=x,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,d.Z)(function*(T,x){m.pendingPromise={resolve:T,reject:x};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(T,x){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,d.Z)(function*(){const{urlResponse:T,sessionId:x,postBody:k,tenantId:K,error:_e,type:Oe}=m;if(_e)return void v.reject(_e);const Ge={auth:v.auth,requestUri:T,sessionId:x,tenantId:K||void 0,postBody:k||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Oe)(Ge))}catch(pt){v.reject(pt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Lf;case"linkViaPopup":case"linkViaRedirect":return ms;case"reauthViaPopup":case"reauthViaRedirect":return Di;default:Qe(this.auth,"internal-error")}}resolve(m){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oo=new nt(2e3,1e4);function pd(){return(pd=(0,d.Z)(function*(C,m,v){const T=an(C);Dt(C,m,ds);const x=dn(T,v);return new Tn(T,"signInViaPopup",m,x).executeNotNull()})).apply(this,arguments)}function Um(){return(Um=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C);Dt(T.auth,m,ds);const x=dn(T.auth,v);return new Tn(T.auth,"reauthViaPopup",m,x,T).executeNotNull()})).apply(this,arguments)}function gd(){return(gd=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C);Dt(T.auth,m,ds);const x=dn(T.auth,v);return new Tn(T.auth,"linkViaPopup",m,x,T).executeNotNull()})).apply(this,arguments)}let Tn=(()=>{class C extends xo{constructor(v,T,x,k,K){super(v,T,k,K),this.provider=x,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.Z)(function*(){const T=yield v.execute();return ve(T,v.auth,"internal-error"),T})()}onExecution(){var v=this;return(0,d.Z)(function*(){oe(1===v.filter.length,"Popup operations only handle one event");const T=Do();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],T),v.authWindow.associatedEvent=T,v.resolver._originValidation(v.auth).catch(x=>{v.reject(x)}),v.resolver._isIframeWebStorageSupported(v.auth,x=>{x||v.reject(it(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var T,x;this.pollId=(null===(x=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Oo.get())};v()}}return C.currentPopupAction=null,C})();const Ro=new Map;class hr extends xo{constructor(m,v,T=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,T),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,d.Z)(function*(){let T=Ro.get(v.auth._key());if(!T){try{const k=(yield function(C,m){return Bf.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;T=()=>Promise.resolve(k)}catch(x){T=()=>Promise.reject(x)}Ro.set(v.auth._key(),T)}return T()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,T=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(T,m);if("unknown"!==m.type){if(m.eventId){const x=yield T.auth._redirectUserForId(m.eventId);if(x)return T.user=x,v().call(T,m);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Bf(){return(Bf=(0,d.Z)(function*(C,m){const v=ga(m),T="true"===(yield pa(C)._get(v));return yield pa(C)._remove(v),T})).apply(this,arguments)}function Uf(C,m){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(C,m){return pa(C)._set(ga(m),"true")})).apply(this,arguments)}function pa(C){return ue(C._redirectPersistence)}function ga(C){return On("pendingRedirect",C.config.apiKey,C.name)}function jm(){return(jm=(0,d.Z)(function*(C,m,v){const T=an(C);Dt(C,m,ds);const x=dn(T,v);return yield Uf(x,T),x._openRedirect(T,m,"signInViaRedirect")})).apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C);Dt(T.auth,m,ds);const x=dn(T.auth,v);yield Uf(x,T.auth);const k=yield vt(T);return x._openRedirect(T.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function $f(){return($f=(0,d.Z)(function*(C,m,v){const T=(0,H.m9)(C);Dt(T.auth,m,ds);const x=dn(T.auth,v);yield Fs(!1,T,m.providerId),yield Uf(x,T.auth);const k=yield vt(T);return x._openRedirect(T.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function $m(){return($m=(0,d.Z)(function*(C,m){return yield an(C)._initializationPromise,hl(C,m,!1)})).apply(this,arguments)}function hl(C,m){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(C,m,v=!1){const T=an(C),x=dn(T,m),K=yield new hr(T,x,v).execute();return K&&!v&&(delete K.user._redirectEventId,yield T._persistUserIfCurrent(K.user),yield T._setRedirectUser(null,m)),K})).apply(this,arguments)}function vt(C){return qf.apply(this,arguments)}function qf(){return(qf=(0,d.Z)(function*(C){const m=Do(`${C.uid}:::`);return C._redirectEventId=m,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),m})).apply(this,arguments)}class _d{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(m,T)&&(v=!0,this.sendToConsumer(m,T),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Po(C);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var T;if(m.error&&!Po(m)){const x=(null===(T=m.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";v.onError(it(this.auth,x))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const T=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&T}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yd(m))}saveEventToCache(m){this.cachedEventUids.add(yd(m)),this.lastProcessedEventTime=Date.now()}}function yd(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(m=>m).join("-")}function Po({type:C,error:m}){return"unknown"===C&&"auth/no-auth-event"===(null==m?void 0:m.code)}function zm(C){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(C,m={}){return kt(C,"GET","/v1/projects",m)})).apply(this,arguments)}const Wf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eb=/^https?/;function _s(){return(_s=(0,d.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:m}=yield zm(C);for(const v of m)try{if(Pn(v))return}catch(T){}Qe(C,"unauthorized-domain")})).apply(this,arguments)}function Pn(C){const m=Re(),{protocol:v,hostname:T}=new URL(m);if(C.startsWith("chrome-extension://")){const K=new URL(C);return""===K.hostname&&""===T?"chrome-extension:"===v&&C.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&K.hostname===T}if(!eb.test(v))return!1;if(Wf.test(C))return T===C;const x=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(T)}const ir=new nt(3e4,6e4);function qm(){const C=yn().___jsl;if(null==C?void 0:C.H)for(const m of Object.keys(C.H))if(C.H[m].r=C.H[m].r||[],C.H[m].L=C.H[m].L||[],C.H[m].r=[...C.H[m].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let _a=null;function xc(C){return _a=_a||function(C){return new Promise((m,v)=>{var T,x,k;function K(){qm(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{qm(),v(it(C,"network-request-failed"))},timeout:ir.get()})}if(null===(x=null===(T=yn().gapi)||void 0===T?void 0:T.iframes)||void 0===x?void 0:x.Iframe)m(gapi.iframes.getContext());else{if(!(null===(k=yn().gapi)||void 0===k?void 0:k.load)){const _e=hd("iframefcb");return yn()[_e]=()=>{gapi.load?K():v(it(C,"network-request-failed"))},Nf(`https://apis.google.com/js/api.js?onload=${_e}`)}K()}}).catch(m=>{throw _a=null,m})}(C),_a}const Ym=new nt(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vd(C){const m=C.config;ve(m.authDomain,C,"auth-domain-config-required");const v=m.emulator?mn(m,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:m.apiKey,appName:C.name,v:ie.SDK_VERSION},x=fl.get(C.config.apiHost);x&&(T.eid=x);const k=C._getFrameworks();return k.length&&(T.fw=k.join(",")),`${v}?${(0,H.xO)(T).slice(1)}`}function Mt(){return(Mt=(0,d.Z)(function*(C){const m=yield xc(C),v=yn().gapi;return ve(v,C,"internal-error"),m.open({where:document.body,url:vd(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},T=>new Promise(function(){var x=(0,d.Z)(function*(k,K){yield T.restyle({setHideOnLeave:!1});const _e=it(C,"network-request-failed"),Oe=yn().setTimeout(()=>{K(_e)},Ym.get());function Ge(){yn().clearTimeout(Oe),k(T)}T.ping(Ge).then(Ge,()=>{K(_e)})});return function(k,K){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Oc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function kc(C,m,v,T,x,k){ve(C.config.authDomain,C,"auth-domain-config-required"),ve(C.config.apiKey,C,"invalid-api-key");const K={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:T,v:ie.SDK_VERSION,eventId:x};if(m instanceof ds){m.setDefaultLanguage(C.languageCode),K.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(K.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Oe,Ge]of Object.entries(k||{}))K[Oe]=Ge}if(m instanceof mc){const Oe=m.getScopes().filter(Ge=>""!==Ge);Oe.length>0&&(K.scopes=Oe.join(","))}C.tenantId&&(K.tid=C.tenantId);const _e=K;for(const Oe of Object.keys(_e))void 0===_e[Oe]&&delete _e[Oe];return`${function({config:C}){return C.emulator?mn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,H.xO)(_e).slice(1)}`}const ba="webStorageSupport";class Hs extends class{constructor(m){this.factorId=m}_process(m,v,T){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,T);case"signin":return this._finalizeSignIn(m,v.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Hs(m)}_finalizeEnroll(m,v,T){return function(C,m){return kt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},m))}(m,{idToken:v,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(C,m){return kt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class rb{constructor(){}static assertion(m){return Hs._fromCredential(m)}}var C;class sb{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,d.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(T=>{var x;m((null===(x=T)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fo(){return window}function Fc(){return(Fc=(0,d.Z)(function*(C,m,v){var T;const{BuildInfo:x}=Fo();oe(m.sessionId,"AuthEvent did not contain a session ID");const k=yield Xm(m.sessionId),K={};return cr()?K.ibi=x.packageName:Qa()?K.apn=x.packageName:Qe(C,"operation-not-supported-in-this-environment"),x.displayName&&(K.appDisplayName=x.displayName),K.sessionId=k,kc(C,v,m.type,void 0,null!==(T=m.eventId)&&void 0!==T?T:void 0,K)})).apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(C){const{BuildInfo:m}=Fo(),v={};cr()?v.iosBundleId=m.packageName:Qa()?v.androidPackageName=m.packageName:Qe(C,"operation-not-supported-in-this-environment"),yield zm(C,v)})).apply(this,arguments)}function Xf(){return(Xf=(0,d.Z)(function*(C,m,v){const{cordova:T}=Fo();let x=()=>{};try{yield new Promise((k,K)=>{let _e=null;function Oe(){var Xe;k();const Fn=null===(Xe=T.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function Ge(){_e||(_e=window.setTimeout(()=>{K(it(C,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===(null==document?void 0:document.visibilityState)&&Ge()}m.addPassiveListener(Oe),document.addEventListener("resume",Ge,!1),Qa()&&document.addEventListener("visibilitychange",pt,!1),x=()=>{m.removePassiveListener(Oe),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",pt,!1),_e&&window.clearTimeout(_e)}})}finally{x()}})).apply(this,arguments)}function Xm(C){return e_.apply(this,arguments)}function e_(){return(e_=(0,d.Z)(function*(C){const m=Cd(C),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cd(C){if(oe(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const m=new ArrayBuffer(C.length),v=new Uint8Array(m);for(let T=0;T<C.length;T++)v[T]=C.charCodeAt(T);return v}C="Browser",(0,ie._registerComponent)(new X.wA("auth",(m,{options:v})=>{const T=m.getProvider("app").getImmediate(),{apiKey:x,authDomain:k}=T.options;return(K=>{ve(x&&!x.includes(":"),"invalid-api-key",{appName:K.name}),ve(!(null==k?void 0:k.includes(":")),"argument-error",{appName:K.name});const _e={apiKey:x,authDomain:k,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jt(C)},Oe=new ei(K,_e);return function(C,m){const v=(null==m?void 0:m.persistence)||[],T=(Array.isArray(v)?v:[v]).map(ue);(null==m?void 0:m.errorMap)&&C._updateErrorMap(m.errorMap),C._initializeWithPersistence(T,null==m?void 0:m.popupRedirectResolver)}(Oe,v),Oe})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,T)=>{m.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new X.wA("auth-internal",m=>{const v=an(m.getProvider("auth").getImmediate());return new sb(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)("@firebase/auth","0.17.2",void 0);class Td extends _d{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,d.Z)(function*(){yield m.initPromise})()}}function Lc(C){return Id.apply(this,arguments)}function Id(){return(Id=(0,d.Z)(function*(C){const m=yield t_()._get(n_(C));return m&&(yield t_()._remove(n_(C))),m})).apply(this,arguments)}function ab(){const C=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const T=Math.floor(Math.random()*m.length);C.push(m.charAt(T))}return C.join("")}function t_(){return ue(Of)}function n_(C){return On("authEvent",C.config.apiKey,C.name)}function ys(C){if(!(null==C?void 0:C.includes("?")))return{};const[m,...v]=C.split("?");return(0,H.zd)(v.join("?"))}function i_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:it("no-auth-event")}}function Lo(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Dd(C=(0,H.z$)()){return!("file:"!==Lo()&&"ionic:"!==Lo()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sd(){try{const C=self.localStorage,m=Do();if(C)return C.setItem(m,"1"),C.removeItem(m),!function(C=(0,H.z$)()){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,H.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,H.hl)()}catch(C){return Ad()&&(0,H.hl)()}return!1}function Ad(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Md(){return("http:"===Lo()||"https:"===Lo()||(0,H.ru)()||Dd())&&!((0,H.b$)()||(0,H.UG)())&&Sd()&&!Ad()}function l_(){return Dd()&&"undefined"!=typeof document}function vs(){return(vs=(0,d.Z)(function*(){return!!l_()&&new Promise(C=>{const m=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),C(!0)})})})).apply(this,arguments)}const si={LOCAL:"local",NONE:"none",SESSION:"session"},bs=ve,db="persistence";function sr(C){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(C){yield C._initializationPromise;const m=Ca(),v=On(db,C.config.apiKey,C.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(v,C._getPersistence())})).apply(this,arguments)}function Ca(){return"undefined"!=typeof window?window:null}const or=ve;class oi{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=hl}_openPopup(m,v,T,x){var k=this;return(0,d.Z)(function*(){var K;oe(null===(K=k.eventManagers[m._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const _e=kc(m,v,T,Re(),x);return function(C,m,v,T=500,x=600){const k=Math.max((window.screen.availHeight-x)/2,0).toString(),K=Math.max((window.screen.availWidth-T)/2,0).toString();let _e="";const Oe=Object.assign(Object.assign({},Oc),{width:T.toString(),height:x.toString(),top:k,left:K}),Ge=(0,H.z$)().toLowerCase();v&&(_e=of(Ge)?"_blank":v),Ka(Ge)&&(m=m||"http://localhost",Oe.scrollbars="yes");const pt=Object.entries(Oe).reduce((Fn,[$r,Hc])=>`${Fn}${$r}=${Hc},`,"");if(function(C=(0,H.z$)()){var m;return cr(C)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ge)&&"_self"!==_e)return function(C,m){const v=document.createElement("a");v.href=C,v.target=m;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(T)}(m||"",_e),new gl(null);const Xe=window.open(m||"",_e,pt);ve(Xe,C,"popup-blocked");try{Xe.focus()}catch(Fn){}return new gl(Xe)}(m,_e,Do())})()}_openRedirect(m,v,T,x){var k=this;return(0,d.Z)(function*(){return yield k._originValidation(m),C=kc(m,v,T,Re(),x),yn().location.href=C,new Promise(()=>{});var C})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:x,promise:k}=this.eventManagers[v];return x?Promise.resolve(x):(oe(k,"If manager is not set, promise should be"),k)}const T=this.initAndGetManager(m);return this.eventManagers[v]={promise:T},T}initAndGetManager(m){var v=this;return(0,d.Z)(function*(){const T=yield function(C){return Mt.apply(this,arguments)}(m),x=new _d(m);return T.register("authEvent",k=>(ve(null==k?void 0:k.authEvent,m,"invalid-auth-event"),{status:x.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:x},v.iframes[m._key()]=T,x})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(ba,{type:ba},x=>{var k;const K=null===(k=null==x?void 0:x[0])||void 0===k?void 0:k[ba];void 0!==K&&v(!!K),Qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return _s.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return Fe()||Wu()||cr()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hl}_initialize(m){var v=this;return(0,d.Z)(function*(){const T=m._key();let x=v.eventManagers.get(T);return x||(x=new Td(m),v.eventManagers.set(T,x),v.attachCallbackListeners(m,x)),x})()}_openPopup(m){Qe(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,T,x){var k=this;return(0,d.Z)(function*(){!function(C){var m,v,T,x,k,K,_e,Oe,Ge,pt;const Xe=Fo();ve("function"==typeof(null===(m=null==Xe?void 0:Xe.universalLinks)||void 0===m?void 0:m.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(void 0!==(null===(v=null==Xe?void 0:Xe.BuildInfo)||void 0===v?void 0:v.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve("function"==typeof(null===(k=null===(x=null===(T=null==Xe?void 0:Xe.cordova)||void 0===T?void 0:T.plugins)||void 0===x?void 0:x.browsertab)||void 0===k?void 0:k.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(Oe=null===(_e=null===(K=null==Xe?void 0:Xe.cordova)||void 0===K?void 0:K.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Oe?void 0:Oe.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(pt=null===(Ge=null==Xe?void 0:Xe.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===pt?void 0:pt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const K=yield k._initialize(m);yield K.initialized(),K.resetRedirect(),Ro.clear(),yield k._originValidation(m);const _e=function(C,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:ab(),postBody:null,tenantId:C.tenantId,error:it(C,"no-auth-event")}}(m,T,x);yield function(C,m){return t_()._set(n_(C),m)}(m,_e);const Oe=yield function(C,m,v){return Fc.apply(this,arguments)}(m,_e,v),Ge=yield function(C){const{cordova:m}=Fo();return new Promise(v=>{m.plugins.browsertab.isAvailable(T=>{let x=null;T?m.plugins.browsertab.openUrl(C):x=m.InAppBrowser.open(C,function(C=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(x)})})}(Oe);return function(C,m,v){return Xf.apply(this,arguments)}(m,K,Ge)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(C){return wa.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:T,handleOpenURL:x,BuildInfo:k}=Fo(),K=setTimeout((0,d.Z)(function*(){yield Lc(m),v.onEvent(i_())}),500),_e=function(){var pt=(0,d.Z)(function*(Xe){clearTimeout(K);const Fn=yield Lc(m);let $r=null;Fn&&(null==Xe?void 0:Xe.url)&&($r=function(C,m){var v,T;const x=function(C){const m=ys(C),v=m.link?decodeURIComponent(m.link):void 0,T=ys(v).link,x=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return ys(x).link||x||T||v||C}(m);if(x.includes("/__/auth/callback")){const k=ys(x),K=k.firebaseError?function(C){try{return JSON.parse(C)}catch(m){return null}}(decodeURIComponent(k.firebaseError)):null,_e=null===(T=null===(v=null==K?void 0:K.code)||void 0===v?void 0:v.split("auth/"))||void 0===T?void 0:T[1],Oe=_e?it(_e):null;return Oe?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:x,postBody:null}}return null}(Fn,Xe.url)),v.onEvent($r||i_())});return function(Fn){return pt.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,_e);const Oe=x,Ge=`${k.packageName.toLowerCase()}://`;Fo().handleOpenURL=function(){var pt=(0,d.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Ge)&&_e({url:Xe}),"function"==typeof Oe)try{Oe(Xe)}catch(Fn){console.error(Fn)}});return function(Xe){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=hl}_initialize(m){var v=this;return(0,d.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,T,x){var k=this;return(0,d.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(m,v,T,x)})()}_openRedirect(m,v,T,x){var k=this;return(0,d.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(m,v,T,x)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return l_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return or(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,d.Z)(function*(){if(m.underlyingResolver)return;const v=yield function(){return vs.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function xd(C){return C.unwrap()}function sp(C){return op(C)}function ai(C,m){var v;const T=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new fb(C,function(C,m){var v;const T=(0,H.m9)(C),x=m;return ve(m.operationType,T,"argument-error"),ve(null===(v=x.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,T,"argument-error"),ll._fromError(T,x)}(C,m));else if(T){const x=op(m),k=m;x&&(k.credential=x,k.tenantId=T.tenantId||void 0,k.email=T.email||void 0,k.phoneNumber=T.phoneNumber||void 0)}}function op(C){const{_tokenResponse:m}=C instanceof H.ZR?C.customData:C;if(!m)return null;if(!(C instanceof H.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Mo.credentialFromResult(C);const v=m.providerId;if(!v||"password"===v)return null;let T;switch(v){case"google.com":T=Co;break;case"facebook.com":T=cf;break;case"github.com":T=wm;break;case"twitter.com":T=df;break;default:const{oauthIdToken:x,oauthAccessToken:k,oauthTokenSecret:K,pendingToken:_e,nonce:Oe}=m;return k||K||x||_e?_e?v.startsWith("saml.")?To._create(v,_e):us._fromParams({providerId:v,signInMethod:v,pendingToken:_e,idToken:x,accessToken:k}):new ra(v).credential({idToken:x,accessToken:k,rawNonce:Oe}):null}return C instanceof H.ZR?T.credentialFromError(C):T.credentialFromResult(C)}function fr(C,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(C,m){let v;try{v=yield m}catch(k){throw k instanceof H.ZR&&ai(C,k),k}const{operationType:T,user:x}=v;return{operationType:T,credential:sp(v),additionalUserInfo:zv(v),user:zs.getOrCreate(x)}})).apply(this,arguments)}function Ta(C,m){return ap.apply(this,arguments)}function ap(){return(ap=(0,d.Z)(function*(C,m){const v=yield m;return{verificationId:v.verificationId,confirm:T=>fr(C,v.confirm(T))}})).apply(this,arguments)}class fb{constructor(m,v){this.resolver=v,this.auth=function(C){return C.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return fr(xd(this.auth),this.resolver.resolveSignIn(m))}}class zs{constructor(m){this._delegate=m,this.multiFactor=function(C){const m=(0,H.m9)(C);return hs.has(m)||hs.set(m,Sf._fromUser(m)),hs.get(m)}(m)}static getOrCreate(m){return zs.USER_MAP.has(m)||zs.USER_MAP.set(m,new zs(m)),zs.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,d.Z)(function*(){return fr(v.auth,Xu(v._delegate,m))})()}linkWithPhoneNumber(m,v){var T=this;return(0,d.Z)(function*(){return Ta(T.auth,function(C,m,v){return Vm.apply(this,arguments)}(T._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,d.Z)(function*(){return fr(v.auth,function(C,m,v){return gd.apply(this,arguments)}(v._delegate,m,oi))})()}linkWithRedirect(m){var v=this;return(0,d.Z)(function*(){return yield sr(an(v.auth)),function(C,m,v){return function(C,m,v){return $f.apply(this,arguments)}(C,m,v)}(v._delegate,m,oi)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,d.Z)(function*(){return fr(v.auth,Gr(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Ta(this.auth,function(C,m,v){return dr.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return fr(this.auth,function(C,m,v){return Um.apply(this,arguments)}(this._delegate,m,oi))}reauthenticateWithRedirect(m){var v=this;return(0,d.Z)(function*(){return yield sr(an(v.auth)),function(C,m,v){return function(C,m,v){return ko.apply(this,arguments)}(C,m,v)}(v._delegate,m,oi)})()}sendEmailVerification(m){return function(C,m){return ni.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,d.Z)(function*(){return yield function(C,m){return ff.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function(C,m){return Tf((0,H.m9)(C),m,null)}(this._delegate,m)}updatePassword(m){return function(C,m){return Tf((0,H.m9)(C),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(C,m){return Cn.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(C,m){return wc.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function(C,m,v){return id.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zs.USER_MAP=new WeakMap;const wl=ve;let Ia=(()=>{class C{constructor(v,T){if(this.app=v,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=v.options;wl(x,"invalid-api-key",{appName:v.name});let k=[xn];if("undefined"!=typeof window){k=function(C,m){const v=Ca();if(!(null==v?void 0:v.sessionStorage))return[];const T=On(db,C,m);switch(v.sessionStorage.getItem(T)){case si.NONE:return[xn];case si.LOCAL:return[So,fs];case si.SESSION:return[fs];default:return[]}}(x,v.name);for(const _e of[So,Of,fs])k.includes(_e)||k.push(_e)}wl(x,"invalid-api-key",{appName:v.name});const K="undefined"!=typeof window?oi:void 0;this._delegate=T.initialize({options:{persistence:k,popupRedirectResolver:K}}),this._delegate._updateErrorMap(me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,T){!function(C,m,v){const T=an(C);ve(T._canInitEmulator,T,"emulator-config-failed"),ve(/^https?:\/\//.test(m),T,"invalid-emulator-scheme");const x=!!(null==v?void 0:v.disableWarnings),k=_n(m),{host:K,port:_e}=function(C){const m=_n(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(m.length));if(!v)return{host:"",port:null};const T=v[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(T);if(x){const k=x[1];return{host:k,port:ta(T.substr(k.length+1))}}{const[k,K]=T.split(":");return{host:k,port:ta(K)}}}(m);T.config.emulator={url:`${k}//${K}${null===_e?"":`:${_e}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:K,port:_e,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(C){function m(){const v=document.createElement("p"),T=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",T.position="fixed",T.width="100%",T.backgroundColor="#ffffff",T.border=".1em solid #000000",T.color="#b50000",T.bottom="0px",T.left="0px",T.margin="0px",T.zIndex="10000",T.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(x)}(this._delegate,v,T)}applyActionCode(v){return function(C,m){return sa.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Ie(this._delegate,v)}confirmPasswordReset(v,T){return function(C,m,v){return yf.apply(this,arguments)}(this._delegate,v,T)}createUserWithEmailAndPassword(v,T){var x=this;return(0,d.Z)(function*(){return fr(x._delegate,function(C,m,v){return Ls.apply(this,arguments)}(x._delegate,v,T))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(C,m){return wf.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(C,m){const v=Zu.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,d.Z)(function*(){wl(Md(),v._delegate,"operation-not-supported-in-this-environment");const T=yield function(C,m){return $m.apply(this,arguments)}(v._delegate,oi);return T?fr(v._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(C,m){an(C)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,T,x){const{next:k,error:K,complete:_e}=Od(v,T,x);return this._delegate.onAuthStateChanged(k,K,_e)}onIdTokenChanged(v,T,x){const{next:k,error:K,complete:_e}=Od(v,T,x);return this._delegate.onIdTokenChanged(k,K,_e)}sendSignInLinkToEmail(v,T){return function(C,m,v){return sl.apply(this,arguments)}(this._delegate,v,T)}sendPasswordResetEmail(v,T){return function(C,m,v){return _f.apply(this,arguments)}(this._delegate,v,T||void 0)}setPersistence(v){var T=this;return(0,d.Z)(function*(){let x;switch(function(C,m){bs(Object.values(si).includes(m),C,"invalid-persistence-type"),(0,H.b$)()?bs(m!==si.SESSION,C,"unsupported-persistence-type"):(0,H.UG)()?bs(m===si.NONE,C,"unsupported-persistence-type"):Ad()?bs(m===si.NONE||m===si.LOCAL&&(0,H.hl)(),C,"unsupported-persistence-type"):bs(m===si.NONE||Sd(),C,"unsupported-persistence-type")}(T._delegate,v),v){case si.SESSION:x=fs;break;case si.LOCAL:x=(yield ue(So)._isAvailable())?So:Of;break;case si.NONE:x=xn;break;default:return Qe("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return fr(this._delegate,function(C){return _c.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return fr(this._delegate,Mr(this._delegate,v))}signInWithCustomToken(v){return fr(this._delegate,function(C,m){return ed.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,T){return fr(this._delegate,function(C,m,v){return Mr((0,H.m9)(C),Ku.credential(m,v))}(this._delegate,v,T))}signInWithEmailLink(v,T){return fr(this._delegate,function(C,m,v){return ol.apply(this,arguments)}(this._delegate,v,T))}signInWithPhoneNumber(v,T){return Ta(this._delegate,function(C,m,v){return ur.apply(this,arguments)}(this._delegate,v,T))}signInWithPopup(v){var T=this;return(0,d.Z)(function*(){return wl(Md(),T._delegate,"operation-not-supported-in-this-environment"),fr(T._delegate,function(C,m,v){return pd.apply(this,arguments)}(T._delegate,v,oi))})()}signInWithRedirect(v){var T=this;return(0,d.Z)(function*(){return wl(Md(),T._delegate,"operation-not-supported-in-this-environment"),yield sr(T._delegate),function(C,m,v){return function(C,m,v){return jm.apply(this,arguments)}(C,m,v)}(T._delegate,v,oi)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(C,m){return sn.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=si,C})();function Od(C,m,v){let T=C;"function"!=typeof C&&({next:T,error:m,complete:v}=C);const x=T;return{next:K=>x(K&&zs.getOrCreate(K)),error:m,complete:v}}class Rd{constructor(){this.providerId="phone",this._delegate=new Mo(xd(se.Z.auth()))}static credential(m,v){return Mo.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}Rd.PHONE_SIGN_IN_METHOD=Mo.PHONE_SIGN_IN_METHOD,Rd.PROVIDER_ID=Mo.PROVIDER_ID;const kd=ve;class lp{constructor(m,v,T=se.Z.app()){var x;kd(null===(x=T.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Pf(m,v,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new X.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),T=m.getProvider("auth");return new Ia(v,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ku,FacebookAuthProvider:cf,GithubAuthProvider:wm,GoogleAuthProvider:Co,OAuthProvider:ra,PhoneAuthProvider:Rd,PhoneMultiFactorGenerator:rb,RecaptchaVerifier:lp,TwitterAuthProvider:df,Auth:Ia,AuthCredential:bi,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.2")}(se.Z)},7574:(He,Ce,F)=>{"use strict";F.d(Ce,{y:()=>q});var d=F(7393),H=F(9181),ie=F(6490),Z=F(6554),X=F(4487);var L=F(2494);let q=(()=>{class ${constructor(me){this._isScalar=!1,me&&(this._subscribe=me)}lift(me){const ce=new $;return ce.source=this,ce.operator=me,ce}subscribe(me,ce,De){const{operator:ye}=this,Ae=function($,Q,me){if($){if($ instanceof d.L)return $;if($[H.b])return $[H.b]()}return $||Q||me?new d.L($,Q,me):new d.L(ie.c)}(me,ce,De);if(Ae.add(ye?ye.call(Ae,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),L.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(me){try{return this._subscribe(me)}catch(ce){L.v.useDeprecatedSynchronousErrorHandling&&(me.syncErrorThrown=!0,me.syncErrorValue=ce),function($){for(;$;){const{closed:Q,destination:me,isStopped:ce}=$;if(Q||ce)return!1;$=me&&me instanceof d.L?me:null}return!0}(me)?me.error(ce):console.warn(ce)}}forEach(me,ce){return new(ce=P(ce))((De,ye)=>{let Ae;Ae=this.subscribe(lt=>{try{me(lt)}catch(Qe){ye(Qe),Ae&&Ae.unsubscribe()}},ye,De)})}_subscribe(me){const{source:ce}=this;return ce&&ce.subscribe(me)}[Z.L](){return this}pipe(...me){return 0===me.length?this:function($){return 0===$.length?X.y:1===$.length?$[0]:function(me){return $.reduce((ce,De)=>De(ce),me)}}(me)(this)}toPromise(me){return new(me=P(me))((ce,De)=>{let ye;this.subscribe(Ae=>ye=Ae,Ae=>De(Ae),()=>ce(ye))})}}return $.create=Q=>new $(Q),$})();function P($){if($||($=L.v.Promise||Promise),!$)throw new Error("no Promise impl found");return $}},6490:(He,Ce,F)=>{"use strict";F.d(Ce,{c:()=>H});var d=F(2494),se=F(4449);const H={closed:!0,next(ie){},error(ie){if(d.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,se.z)(ie)},complete(){}}},9765:(He,Ce,F)=>{"use strict";F.d(Ce,{Yc:()=>X,xQ:()=>J});var d=F(7574),se=F(7393),H=F(5319),ie=F(7971),fe=F(8858),Z=F(9181);class X extends se.L{constructor(q){super(q),this.destination=q}}let J=(()=>{class L extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Z.b](){return new X(this)}lift(P){const $=new z(this,this);return $.operator=P,$}next(P){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:$}=this,Q=$.length,me=$.slice();for(let ce=0;ce<Q;ce++)me[ce].next(P)}}error(P){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=P,this.isStopped=!0;const{observers:$}=this,Q=$.length,me=$.slice();for(let ce=0;ce<Q;ce++)me[ce].error(P);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:P}=this,$=P.length,Q=P.slice();for(let me=0;me<$;me++)Q[me].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(P){if(this.closed)throw new ie.N;return super._trySubscribe(P)}_subscribe(P){if(this.closed)throw new ie.N;return this.hasError?(P.error(this.thrownError),H.w.EMPTY):this.isStopped?(P.complete(),H.w.EMPTY):(this.observers.push(P),new fe.W(this,P))}asObservable(){const P=new d.y;return P.source=this,P}}return L.create=(q,P)=>new z(q,P),L})();class z extends J{constructor(q,P){super(),this.destination=q,this.source=P}next(q){const{destination:P}=this;P&&P.next&&P.next(q)}error(q){const{destination:P}=this;P&&P.error&&this.destination.error(q)}complete(){const{destination:q}=this;q&&q.complete&&this.destination.complete()}_subscribe(q){const{source:P}=this;return P?this.source.subscribe(q):H.w.EMPTY}}},8858:(He,Ce,F)=>{"use strict";F.d(Ce,{W:()=>se});var d=F(5319);class se extends d.w{constructor(ie,fe){super(),this.subject=ie,this.subscriber=fe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,fe=ie.observers;if(this.subject=null,!fe||0===fe.length||ie.isStopped||ie.closed)return;const Z=fe.indexOf(this.subscriber);-1!==Z&&fe.splice(Z,1)}}},7393:(He,Ce,F)=>{"use strict";F.d(Ce,{L:()=>X});var d=F(9105),se=F(6490),H=F(5319),ie=F(9181),fe=F(2494),Z=F(4449);class X extends H.w{constructor(L,q,P){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=se.c;break;case 1:if(!L){this.destination=se.c;break}if("object"==typeof L){L instanceof X?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new J(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new J(this,L,q,P)}}[ie.b](){return this}static create(L,q,P){const $=new X(L,q,P);return $.syncErrorThrowable=!1,$}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class J extends X{constructor(L,q,P,$){super(),this._parentSubscriber=L;let Q,me=this;(0,d.m)(q)?Q=q:q&&(Q=q.next,P=q.error,$=q.complete,q!==se.c&&(me=Object.create(q),(0,d.m)(me.unsubscribe)&&this.add(me.unsubscribe.bind(me)),me.unsubscribe=this.unsubscribe.bind(this))),this._context=me,this._next=Q,this._error=P,this._complete=$}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:q}=this;fe.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?this.__tryOrSetError(q,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:q}=this,{useDeprecatedSynchronousErrorHandling:P}=fe.v;if(this._error)P&&q.syncErrorThrowable?(this.__tryOrSetError(q,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(q.syncErrorThrowable)P?(q.syncErrorValue=L,q.syncErrorThrown=!0):(0,Z.z)(L),this.unsubscribe();else{if(this.unsubscribe(),P)throw L;(0,Z.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const q=()=>this._complete.call(this._context);fe.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,q),this.unsubscribe()):(this.__tryOrUnsub(q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,q){try{L.call(this._context,q)}catch(P){if(this.unsubscribe(),fe.v.useDeprecatedSynchronousErrorHandling)throw P;(0,Z.z)(P)}}__tryOrSetError(L,q,P){if(!fe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{q.call(this._context,P)}catch($){return fe.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=$,L.syncErrorThrown=!0,!0):((0,Z.z)($),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(He,Ce,F)=>{"use strict";F.d(Ce,{w:()=>Z});var d=F(9796),se=F(1555),H=F(9105);const fe=(()=>{function J(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((L,q)=>`${q+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return J.prototype=Object.create(Error.prototype),J})();class Z{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:q,_unsubscribe:P,_subscriptions:$}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof Z)L.remove(this);else if(null!==L)for(let Q=0;Q<L.length;++Q)L[Q].remove(this);if((0,H.m)(P)){q&&(this._unsubscribe=void 0);try{P.call(this)}catch(Q){z=Q instanceof fe?X(Q.errors):[Q]}}if((0,d.k)($)){let Q=-1,me=$.length;for(;++Q<me;){const ce=$[Q];if((0,se.K)(ce))try{ce.unsubscribe()}catch(De){z=z||[],De instanceof fe?z=z.concat(X(De.errors)):z.push(De)}}}if(z)throw new fe(z)}add(z){let L=z;if(!z)return Z.EMPTY;switch(typeof z){case"function":L=new Z(z);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof Z)){const $=L;L=new Z,L._subscriptions=[$]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:q}=L;if(null===q)L._parentOrParents=this;else if(q instanceof Z){if(q===this)return L;L._parentOrParents=[q,this]}else{if(-1!==q.indexOf(this))return L;q.push(this)}const P=this._subscriptions;return null===P?this._subscriptions=[L]:P.push(L),L}remove(z){const L=this._subscriptions;if(L){const q=L.indexOf(z);-1!==q&&L.splice(q,1)}}}var J;function X(J){return J.reduce((z,L)=>z.concat(L instanceof fe?L.errors:L),[])}Z.EMPTY=((J=new Z).closed=!0,J)},2494:(He,Ce,F)=>{"use strict";F.d(Ce,{v:()=>se});let d=!1;const se={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=H},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(He,Ce,F)=>{"use strict";F.d(Ce,{IY:()=>ie,Ds:()=>Z,ft:()=>J});var d=F(7393),se=F(7574),H=F(7444);class ie extends d.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Z extends d.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function J(z,L){if(L.closed)return;if(z instanceof se.y)return z.subscribe(L);let q;try{q=(0,H.s)(z)(L)}catch(P){L.error(P)}return q}},2441:(He,Ce,F)=>{"use strict";F.d(Ce,{c:()=>fe,N:()=>Z});var d=F(9765),se=F(7574),H=F(5319),ie=F(1307);class fe extends se.y{constructor(q,P){super(),this.source=q,this.subjectFactory=P,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new H.w,q.add(this.source.subscribe(new X(this.getSubject(),this))),q.closed&&(this._connection=null,q=H.w.EMPTY)),q}refCount(){return(0,ie.x)()(this)}}const Z=(()=>{const L=fe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class X extends d.Yc{constructor(q,P){super(q),this.connectable=P}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const P=q._connection;q._refCount=0,q._subject=null,q._connection=null,P&&P.unsubscribe()}}}},9193:(He,Ce,F)=>{"use strict";F.d(Ce,{E:()=>se,c:()=>H});var d=F(7574);const se=new d.y(fe=>fe.complete());function H(fe){return fe?function(fe){return new d.y(Z=>fe.schedule(()=>Z.complete()))}(fe):se}},4402:(He,Ce,F)=>{"use strict";F.d(Ce,{D:()=>me});var d=F(7574),se=F(7444),H=F(5319),ie=F(6554),X=F(4087),J=F(377),q=F(4072),P=F(9489);function me(ce,De){return De?function(ce,De){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[ie.L]}(ce))return function(ce,De){return new d.y(ye=>{const Ae=new H.w;return Ae.add(De.schedule(()=>{const lt=ce[ie.L]();Ae.add(lt.subscribe({next(Qe){Ae.add(De.schedule(()=>ye.next(Qe)))},error(Qe){Ae.add(De.schedule(()=>ye.error(Qe)))},complete(){Ae.add(De.schedule(()=>ye.complete()))}}))})),Ae})}(ce,De);if((0,q.t)(ce))return function(ce,De){return new d.y(ye=>{const Ae=new H.w;return Ae.add(De.schedule(()=>ce.then(lt=>{Ae.add(De.schedule(()=>{ye.next(lt),Ae.add(De.schedule(()=>ye.complete()))}))},lt=>{Ae.add(De.schedule(()=>ye.error(lt)))}))),Ae})}(ce,De);if((0,P.z)(ce))return(0,X.r)(ce,De);if(function(ce){return ce&&"function"==typeof ce[J.hZ]}(ce)||"string"==typeof ce)return function(ce,De){if(!ce)throw new Error("Iterable cannot be null");return new d.y(ye=>{const Ae=new H.w;let lt;return Ae.add(()=>{lt&&"function"==typeof lt.return&&lt.return()}),Ae.add(De.schedule(()=>{lt=ce[J.hZ](),Ae.add(De.schedule(function(){if(ye.closed)return;let Qe,it;try{const Rt=lt.next();Qe=Rt.value,it=Rt.done}catch(Rt){return void ye.error(Rt)}it?ye.complete():(ye.next(Qe),this.schedule())}))})),Ae})}(ce,De)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,De):ce instanceof d.y?ce:new d.y((0,se.s)(ce))}},6693:(He,Ce,F)=>{"use strict";F.d(Ce,{n:()=>ie});var d=F(7574),se=F(5015),H=F(4087);function ie(fe,Z){return Z?(0,H.r)(fe,Z):new d.y((0,se.V)(fe))}},6682:(He,Ce,F)=>{"use strict";F.d(Ce,{T:()=>fe});var d=F(7574),se=F(4869),H=F(3282),ie=F(6693);function fe(...Z){let X=Number.POSITIVE_INFINITY,J=null,z=Z[Z.length-1];return(0,se.K)(z)?(J=Z.pop(),Z.length>1&&"number"==typeof Z[Z.length-1]&&(X=Z.pop())):"number"==typeof z&&(X=Z.pop()),null===J&&1===Z.length&&Z[0]instanceof d.y?Z[0]:(0,H.J)(X)((0,ie.n)(Z,J))}},5917:(He,Ce,F)=>{"use strict";F.d(Ce,{of:()=>ie});var d=F(4869),se=F(6693),H=F(4087);function ie(...fe){let Z=fe[fe.length-1];return(0,d.K)(Z)?(fe.pop(),(0,H.r)(fe,Z)):(0,se.n)(fe)}},205:(He,Ce,F)=>{"use strict";F.d(Ce,{_:()=>se});var d=F(7574);function se(ie,fe){return new d.y(fe?Z=>fe.schedule(H,0,{error:ie,subscriber:Z}):Z=>Z.error(ie))}function H({error:ie,subscriber:fe}){fe.error(ie)}},8002:(He,Ce,F)=>{"use strict";F.d(Ce,{U:()=>se});var d=F(7393);function se(fe,Z){return function(J){if("function"!=typeof fe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return J.lift(new H(fe,Z))}}class H{constructor(Z,X){this.project=Z,this.thisArg=X}call(Z,X){return X.subscribe(new ie(Z,this.project,this.thisArg))}}class ie extends d.L{constructor(Z,X,J){super(Z),this.project=X,this.count=0,this.thisArg=J||this}_next(Z){let X;try{X=this.project.call(this.thisArg,Z,this.count++)}catch(J){return void this.destination.error(J)}this.destination.next(X)}}},3282:(He,Ce,F)=>{"use strict";F.d(Ce,{J:()=>H});var d=F(9773),se=F(4487);function H(ie=Number.POSITIVE_INFINITY){return(0,d.zg)(se.y,ie)}},9773:(He,Ce,F)=>{"use strict";F.d(Ce,{zg:()=>ie});var d=F(8002),se=F(4402),H=F(5345);function ie(J,z,L=Number.POSITIVE_INFINITY){return"function"==typeof z?q=>q.pipe(ie((P,$)=>(0,se.D)(J(P,$)).pipe((0,d.U)((Q,me)=>z(P,Q,$,me))),L)):("number"==typeof z&&(L=z),q=>q.lift(new fe(J,L)))}class fe{constructor(z,L=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=L}call(z,L){return L.subscribe(new Z(z,this.project,this.concurrent))}}class Z extends H.Ds{constructor(z,L,q=Number.POSITIVE_INFINITY){super(z),this.project=L,this.concurrent=q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let L;const q=this.index++;try{L=this.project(z,q)}catch(P){return void this.destination.error(P)}this.active++,this._innerSub(L)}_innerSub(z){const L=new H.IY(this),q=this.destination;q.add(L);const P=(0,H.ft)(z,L);P!==L&&q.add(P)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(He,Ce,F)=>{"use strict";F.d(Ce,{ht:()=>z,QV:()=>X});var d=F(7393),se=F(9193),H=F(5917),ie=F(205);class Z{constructor(P,$,Q){this.kind=P,this.value=$,this.error=Q,this.hasValue="N"===P}observe(P){switch(this.kind){case"N":return P.next&&P.next(this.value);case"E":return P.error&&P.error(this.error);case"C":return P.complete&&P.complete()}}do(P,$,Q){switch(this.kind){case"N":return P&&P(this.value);case"E":return $&&$(this.error);case"C":return Q&&Q()}}accept(P,$,Q){return P&&"function"==typeof P.next?this.observe(P):this.do(P,$,Q)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return(0,ie._)(this.error);case"C":return(0,se.c)()}throw new Error("unexpected notification kind value")}static createNext(P){return void 0!==P?new Z("N",P):Z.undefinedValueNotification}static createError(P){return new Z("E",void 0,P)}static createComplete(){return Z.completeNotification}}function X(q,P=0){return function(Q){return Q.lift(new J(q,P))}}Z.completeNotification=new Z("C"),Z.undefinedValueNotification=new Z("N",void 0);class J{constructor(P,$=0){this.scheduler=P,this.delay=$}call(P,$){return $.subscribe(new z(P,this.scheduler,this.delay))}}class z extends d.L{constructor(P,$,Q=0){super(P),this.scheduler=$,this.delay=Q}static dispatch(P){const{notification:$,destination:Q}=P;$.observe(Q),this.unsubscribe()}scheduleMessage(P){this.destination.add(this.scheduler.schedule(z.dispatch,this.delay,new L(P,this.destination)))}_next(P){this.scheduleMessage(Z.createNext(P))}_error(P){this.scheduleMessage(Z.createError(P)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()}}class L{constructor(P,$){this.notification=P,this.destination=$}}},1307:(He,Ce,F)=>{"use strict";F.d(Ce,{x:()=>se});var d=F(7393);function se(){return function(Z){return Z.lift(new H(Z))}}class H{constructor(Z){this.connectable=Z}call(Z,X){const{connectable:J}=this;J._refCount++;const z=new ie(Z,J),L=X.subscribe(z);return z.closed||(z.connection=J.connect()),L}}class ie extends d.L{constructor(Z,X){super(Z),this.connectable=X}_unsubscribe(){const{connectable:Z}=this;if(!Z)return void(this.connection=null);this.connectable=null;const X=Z._refCount;if(X<=0)return void(this.connection=null);if(Z._refCount=X-1,X>1)return void(this.connection=null);const{connection:J}=this,z=Z._connection;this.connection=null,z&&(!J||z===J)&&z.unsubscribe()}}},8819:(He,Ce,F)=>{"use strict";F.d(Ce,{B:()=>X});var d=F(2441);var ie=F(1307),fe=F(9765);function Z(){return new fe.xQ}function X(){return J=>(0,ie.x)()(function(J,z){return function(q){let P;P="function"==typeof J?J:function(){return J};const $=Object.create(q,d.N);return $.source=q,$.subjectFactory=P,$}}(Z)(J))}},9673:(He,Ce,F)=>{"use strict";F.d(Ce,{R:()=>fe});var d=F(7574),se=F(4581),H=F(6561);class ie extends d.y{constructor(J,z=0,L=se.e){super(),this.source=J,this.delayTime=z,this.scheduler=L,(!(0,H.k)(z)||z<0)&&(this.delayTime=0),(!L||"function"!=typeof L.schedule)&&(this.scheduler=se.e)}static create(J,z=0,L=se.e){return new ie(J,z,L)}static dispatch(J){const{source:z,subscriber:L}=J;return this.add(z.subscribe(L))}_subscribe(J){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:J})}}function fe(X,J=0){return function(L){return L.lift(new Z(X,J))}}class Z{constructor(J,z){this.scheduler=J,this.delay=z}call(J,z){return new ie(z,this.delay,this.scheduler).subscribe(J)}}},3342:(He,Ce,F)=>{"use strict";F.d(Ce,{b:()=>ie});var d=F(7393);function se(){}var H=F(9105);function ie(X,J,z){return function(q){return q.lift(new fe(X,J,z))}}class fe{constructor(J,z,L){this.nextOrObserver=J,this.error=z,this.complete=L}call(J,z){return z.subscribe(new Z(J,this.nextOrObserver,this.error,this.complete))}}class Z extends d.L{constructor(J,z,L,q){super(J),this._tapNext=se,this._tapError=se,this._tapComplete=se,this._tapError=L||se,this._tapComplete=q||se,(0,H.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||se,this._tapError=z.error||se,this._tapComplete=z.complete||se)}_next(J){try{this._tapNext.call(this._context,J)}catch(z){return void this.destination.error(z)}this.destination.next(J)}_error(J){try{this._tapError.call(this._context,J)}catch(z){return void this.destination.error(z)}this.destination.error(J)}_complete(){try{this._tapComplete.call(this._context)}catch(J){return void this.destination.error(J)}return this.destination.complete()}}},4087:(He,Ce,F)=>{"use strict";F.d(Ce,{r:()=>H});var d=F(7574),se=F(5319);function H(ie,fe){return new d.y(Z=>{const X=new se.w;let J=0;return X.add(fe.schedule(function(){J!==ie.length?(Z.next(ie[J++]),Z.closed||X.add(this.schedule())):Z.complete()})),X})}},6465:(He,Ce,F)=>{"use strict";F.d(Ce,{o:()=>H});var d=F(5319);class se extends d.w{constructor(fe,Z){super()}schedule(fe,Z=0){return this}}class H extends se{constructor(fe,Z){super(fe,Z),this.scheduler=fe,this.work=Z,this.pending=!1}schedule(fe,Z=0){if(this.closed)return this;this.state=fe;const X=this.id,J=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(J,X,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(J,this.id,Z),this}requestAsyncId(fe,Z,X=0){return setInterval(fe.flush.bind(fe,this),X)}recycleAsyncId(fe,Z,X=0){if(null!==X&&this.delay===X&&!1===this.pending)return Z;clearInterval(Z)}execute(fe,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(fe,Z);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Z){let J,X=!1;try{this.work(fe)}catch(z){X=!0,J=!!z&&z||new Error(z)}if(X)return this.unsubscribe(),J}_unsubscribe(){const fe=this.id,Z=this.scheduler,X=Z.actions,J=X.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==J&&X.splice(J,1),null!=fe&&(this.id=this.recycleAsyncId(Z,fe,null)),this.delay=null}}},6102:(He,Ce,F)=>{"use strict";F.d(Ce,{v:()=>se});let d=(()=>{class H{constructor(fe,Z=H.now){this.SchedulerAction=fe,this.now=Z}schedule(fe,Z=0,X){return new this.SchedulerAction(this,fe).schedule(X,Z)}}return H.now=()=>Date.now(),H})();class se extends d{constructor(ie,fe=d.now){super(ie,()=>se.delegate&&se.delegate!==this?se.delegate.now():fe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,fe=0,Z){return se.delegate&&se.delegate!==this?se.delegate.schedule(ie,fe,Z):super.schedule(ie,fe,Z)}flush(ie){const{actions:fe}=this;if(this.active)return void fe.push(ie);let Z;this.active=!0;do{if(Z=ie.execute(ie.state,ie.delay))break}while(ie=fe.shift());if(this.active=!1,Z){for(;ie=fe.shift();)ie.unsubscribe();throw Z}}}},4581:(He,Ce,F)=>{"use strict";F.d(Ce,{e:()=>P,E:()=>q});let d=1;const se=Promise.resolve(),H={};function ie($){return $ in H&&(delete H[$],!0)}const fe={setImmediate($){const Q=d++;return H[Q]=!0,se.then(()=>ie(Q)&&$()),Q},clearImmediate($){ie($)}};var X=F(6465),z=F(6102);const q=new class extends z.v{flush(Q){this.active=!0,this.scheduled=void 0;const{actions:me}=this;let ce,De=-1,ye=me.length;Q=Q||me.shift();do{if(ce=Q.execute(Q.state,Q.delay))break}while(++De<ye&&(Q=me.shift()));if(this.active=!1,ce){for(;++De<ye&&(Q=me.shift());)Q.unsubscribe();throw ce}}}(class extends X.o{constructor(Q,me){super(Q,me),this.scheduler=Q,this.work=me}requestAsyncId(Q,me,ce=0){return null!==ce&&ce>0?super.requestAsyncId(Q,me,ce):(Q.actions.push(this),Q.scheduled||(Q.scheduled=fe.setImmediate(Q.flush.bind(Q,null))))}recycleAsyncId(Q,me,ce=0){if(null!==ce&&ce>0||null===ce&&this.delay>0)return super.recycleAsyncId(Q,me,ce);0===Q.actions.length&&(fe.clearImmediate(me),Q.scheduled=void 0)}}),P=q},3637:(He,Ce,F)=>{"use strict";F.d(Ce,{z:()=>H,P:()=>ie});var d=F(6465);const H=new(F(6102).v)(d.o),ie=H},7771:(He,Ce,F)=>{"use strict";F.d(Ce,{c:()=>Z,N:()=>fe});var d=F(6465),H=F(6102);const fe=new class extends H.v{}(class extends d.o{constructor(J,z){super(J,z),this.scheduler=J,this.work=z}schedule(J,z=0){return z>0?super.schedule(J,z):(this.delay=z,this.state=J,this.scheduler.flush(this),this)}execute(J,z){return z>0||this.closed?super.execute(J,z):this._execute(J,z)}requestAsyncId(J,z,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(J,z,L):J.flush(this)}}),Z=fe},377:(He,Ce,F)=>{"use strict";F.d(Ce,{hZ:()=>se});const se="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(He,Ce,F)=>{"use strict";F.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(He,Ce,F)=>{"use strict";F.d(Ce,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(He,Ce,F)=>{"use strict";F.d(Ce,{N:()=>se});const se=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(He,Ce,F)=>{"use strict";function d(se){setTimeout(()=>{throw se},0)}F.d(Ce,{z:()=>d})},4487:(He,Ce,F)=>{"use strict";function d(se){return se}F.d(Ce,{y:()=>d})},9796:(He,Ce,F)=>{"use strict";F.d(Ce,{k:()=>d});const d=Array.isArray||(se=>se&&"number"==typeof se.length)},9489:(He,Ce,F)=>{"use strict";F.d(Ce,{z:()=>d});const d=se=>se&&"number"==typeof se.length&&"function"!=typeof se},9105:(He,Ce,F)=>{"use strict";function d(se){return"function"==typeof se}F.d(Ce,{m:()=>d})},6561:(He,Ce,F)=>{"use strict";F.d(Ce,{k:()=>se});var d=F(9796);function se(H){return!(0,d.k)(H)&&H-parseFloat(H)+1>=0}},1555:(He,Ce,F)=>{"use strict";function d(se){return null!==se&&"object"==typeof se}F.d(Ce,{K:()=>d})},4072:(He,Ce,F)=>{"use strict";function d(se){return!!se&&"function"!=typeof se.subscribe&&"function"==typeof se.then}F.d(Ce,{t:()=>d})},4869:(He,Ce,F)=>{"use strict";function d(se){return se&&"function"==typeof se.schedule}F.d(Ce,{K:()=>d})},7444:(He,Ce,F)=>{"use strict";F.d(Ce,{s:()=>q});var d=F(5015),se=F(4449),ie=F(377),Z=F(6554),J=F(9489),z=F(4072),L=F(1555);const q=P=>{if(P&&"function"==typeof P[Z.L])return(P=>$=>{const Q=P[Z.L]();if("function"!=typeof Q.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Q.subscribe($)})(P);if((0,J.z)(P))return(0,d.V)(P);if((0,z.t)(P))return(P=>$=>(P.then(Q=>{$.closed||($.next(Q),$.complete())},Q=>$.error(Q)).then(null,se.z),$))(P);if(P&&"function"==typeof P[ie.hZ])return(P=>$=>{const Q=P[ie.hZ]();for(;;){let me;try{me=Q.next()}catch(ce){return $.error(ce),$}if(me.done){$.complete();break}if($.next(me.value),$.closed)break}return"function"==typeof Q.return&&$.add(()=>{Q.return&&Q.return()}),$})(P);{const Q=`You provided ${(0,L.K)(P)?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Q)}}},5015:(He,Ce,F)=>{"use strict";F.d(Ce,{V:()=>d});const d=se=>H=>{for(let ie=0,fe=se.length;ie<fe&&!H.closed;ie++)H.next(se[ie]);H.complete()}},857:(He,Ce,F)=>{"use strict";var d=F(7716);let se=null;function H(){return se}const X=new d.OlP("DocumentToken");let J=(()=>{class i{historyGo(n){throw new Error("Not implemented")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=(0,d.Yz7)({factory:z,token:i,providedIn:"platform"}),i})();function z(){return(0,d.LFG)(q)}const L=new d.OlP("Location Initialized");let q=(()=>{class i extends J{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(n){const s=H().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=H().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,l){P()?this._history.pushState(n,s,l):this.location.hash=l}replaceState(n,s,l){P()?this._history.replaceState(n,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X))},i.\u0275prov=(0,d.Yz7)({factory:$,token:i,providedIn:"platform"}),i})();function P(){return!!window.history.pushState}function $(){return new q((0,d.LFG)(X))}function Q(i,r){if(0==i.length)return r;if(0==r.length)return i;let n=0;return i.endsWith("/")&&n++,r.startsWith("/")&&n++,2==n?i+r.substring(1):1==n?i+r:i+"/"+r}function me(i){const r=i.match(/#|\?|$/),n=r&&r.index||i.length;return i.slice(0,n-("/"===i[n-1]?1:0))+i.slice(n)}function ce(i){return i&&"?"!==i[0]?"?"+i:i}let De=(()=>{class i{historyGo(n){throw new Error("Not implemented")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=(0,d.Yz7)({factory:ye,token:i,providedIn:"root"}),i})();function ye(i){const r=(0,d.LFG)(X).location;return new lt((0,d.LFG)(J),r&&r.origin||"")}const Ae=new d.OlP("appBaseHref");let lt=(()=>{class i extends De{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Q(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+ce(this._platformLocation.search),l=this._platformLocation.hash;return l&&n?`${s}${l}`:s}pushState(n,s,l,u){const p=this.prepareExternalUrl(l+ce(u));this._platformLocation.pushState(n,s,p)}replaceState(n,s,l,u){const p=this.prepareExternalUrl(l+ce(u));this._platformLocation.replaceState(n,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,n)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(J),d.LFG(Ae,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Qe=(()=>{class i extends De{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=Q(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,l,u){let p=this.prepareExternalUrl(l+ce(u));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(n,s,p)}replaceState(n,s,l,u){let p=this.prepareExternalUrl(l+ce(u));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,l;null===(l=(s=this._platformLocation).historyGo)||void 0===l||l.call(s,n)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(J),d.LFG(Ae,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),it=(()=>{class i{constructor(n,s){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=me(rn(l)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+ce(s))}normalize(n){return i.stripTrailingSlash(function(i,r){return i&&r.startsWith(i)?r.substring(i.length):r}(this._baseHref,rn(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",l=null){this._platformStrategy.pushState(l,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ce(s)),l)}replaceState(n,s="",l=null){this._platformStrategy.replaceState(l,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ce(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,l;null===(l=(s=this._platformStrategy).historyGo)||void 0===l||l.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(l=>l(n,s))}subscribe(n,s,l){return this._subject.subscribe({next:n,error:s,complete:l})}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(De),d.LFG(J))},i.normalizeQueryParams=ce,i.joinWithSlash=Q,i.stripTrailingSlash=me,i.\u0275prov=(0,d.Yz7)({factory:Rt,token:i,providedIn:"root"}),i})();function Rt(){return new it((0,d.LFG)(De),(0,d.LFG)(J))}function rn(i){return i.replace(/\/index.html$/,"")}var oe=(()=>((oe=oe||{})[oe.Zero=0]="Zero",oe[oe.One=1]="One",oe[oe.Two=2]="Two",oe[oe.Few=3]="Few",oe[oe.Many=4]="Many",oe[oe.Other=5]="Other",oe))();const ks=d.kL8;class bi{}let dc=(()=>{class i extends bi{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(ks(s||this.locale)(n)){case oe.Zero:return"zero";case oe.One:return"one";case oe.Two:return"two";case oe.Few:return"few";case oe.Many:return"many";default:return"other"}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Hi{constructor(r,n,s,l){this.$implicit=r,this.ngForOf=n,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gt=(()=>{class i{constructor(n,s,l){this._viewContainer=n,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(i){return i.name||typeof i}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((l,u,p)=>{if(null==l.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new Hi(null,this._ngForOf,-1,-1),null===p?void 0:p),E=new hc(l,_);s.push(E)}else if(null==p)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const _=this._viewContainer.get(u);this._viewContainer.move(_,p);const E=new hc(l,_);s.push(E)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,u=this._viewContainer.length;l<u;l++){const p=this._viewContainer.get(l);p.context.index=l,p.context.count=u,p.context.ngForOf=this._ngForOf}n.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return i.\u0275fac=function(n){return new(n||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class hc{constructor(r,n){this.record=r,this.view=n}}let zi=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:bi,useClass:dc}]}),i})();function Qu(i){return"server"===i}let _c=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new yc((0,d.LFG)(X),window)}),i})();class yc{constructor(r,n){this.document=r,this.window=n,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const n=function(i,r){const n=i.getElementById(r)||i.getElementsByName(r)[0];if(n)return n;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const u=l.shadowRoot;if(u){const p=u.getElementById(r)||u.querySelector(`[name="${r}"]`);if(p)return p}l=s.nextNode()}}return null}(this.document,r);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=r)}}scrollToElement(r){const n=r.getBoundingClientRect(),s=n.left+this.window.pageXOffset,l=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],l-u[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=vc(this.window.history)||vc(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function vc(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Ju extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Ju,se||(se=i)}onAndCancel(r,n,s){return r.addEventListener(n,s,!1),()=>{r.removeEventListener(n,s,!1)}}dispatchEvent(r,n){r.dispatchEvent(n)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,n){return(n=n||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,n){return"window"===n?window:"document"===n?r:"body"===n?r.body:null}getBaseHref(r){const n=(Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null);return null==n?null:function(i){cn=cn||document.createElement("a"),cn.setAttribute("href",i);const r=cn.pathname;return"/"===r.charAt(0)?r:`/${r}`}(n)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(i,r){r=encodeURIComponent(r);for(const n of i.split(";")){const s=n.indexOf("="),[l,u]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(l.trim()===r)return decodeURIComponent(u)}return null}(document.cookie,r)}}let cn,Fs=null;const Tm=new d.OlP("TRANSITION_ID"),Mr=[{provide:d.ip1,useFactory:function(i,r,n){return()=>{n.get(d.CZH).donePromise.then(()=>{const s=H(),l=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let u=0;u<l.length;u++)s.remove(l[u])})}},deps:[Tm,X,d.zs3],multi:!0}];class bc{static init(){(0,d.VLi)(new bc)}addToWindow(r){d.dqk.getAngularTestability=(s,l=!0)=>{const u=r.findTestabilityInTree(s,l);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(s=>{const l=d.dqk.getAllAngularTestabilities();let u=l.length,p=!1;const _=function(E){p=p||E,u--,0==u&&s(p)};l.forEach(function(E){E.whenStable(_)})})}findTestabilityInTree(r,n,s){if(null==n)return null;const l=r.getTestability(n);return null!=l?l:s?H().isShadowRoot(n)?this.findTestabilityInTree(r,n.host,!0):this.findTestabilityInTree(r,n.parentElement,!0):null}}let Xu=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const sa=new d.OlP("EventManagerPlugins");let Ie=(()=>{class i{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(l=>l.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,l){return this._findPluginFor(s).addEventListener(n,s,l)}addGlobalEventListener(n,s,l){return this._findPluginFor(s).addGlobalEventListener(n,s,l)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const l=this._plugins;for(let u=0;u<l.length;u++){const p=l[u];if(p.supports(n))return this._eventNameToPlugin.set(n,p),p}throw new Error(`No event manager plugin found for event ${n}`)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(sa),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Ot{constructor(r){this._doc=r}addGlobalEventListener(r,n,s){const l=H().getGlobalEventTarget(this._doc,r);if(!l)throw new Error(`Unsupported event target ${l} for event ${n}`);return this.addEventListener(l,n,s)}}let vf=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),sn=(()=>{class i extends vf{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,l){n.forEach(u=>{const p=this._doc.createElement("style");p.textContent=u,l.push(s.appendChild(p))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(bf),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(n,l,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(bf))}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function bf(i){H().remove(i)}const Ls={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ei=/%COMP%/g;function kn(i,r,n){for(let s=0;s<r.length;s++){let l=r[s];Array.isArray(l)?kn(i,l,n):(l=l.replace(Ei,i),n.push(l))}return n}function Wi(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let Vs=(()=>{class i{constructor(n,s,l){this.eventManager=n,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new ni(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case d.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new Ef(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(n),l}case 1:case d.ifc.ShadowDom:return new Cf(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const l=kn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ie),d.LFG(sn),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class ni{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,n){return n?document.createElementNS(Ls[n]||n,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,n){r.appendChild(n)}insertBefore(r,n,s){r&&r.insertBefore(n,s)}removeChild(r,n){r&&r.removeChild(n)}selectRootElement(r,n){let s="string"==typeof r?document.querySelector(r):r;if(!s)throw new Error(`The selector "${r}" did not match any elements`);return n||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,n,s,l){if(l){n=l+":"+n;const u=Ls[l];u?r.setAttributeNS(u,n,s):r.setAttribute(n,s)}else r.setAttribute(n,s)}removeAttribute(r,n,s){if(s){const l=Ls[s];l?r.removeAttributeNS(l,n):r.removeAttribute(`${s}:${n}`)}else r.removeAttribute(n)}addClass(r,n){r.classList.add(n)}removeClass(r,n){r.classList.remove(n)}setStyle(r,n,s,l){l&(d.JOm.DashCase|d.JOm.Important)?r.style.setProperty(n,s,l&d.JOm.Important?"important":""):r.style[n]=s}removeStyle(r,n,s){s&d.JOm.DashCase?r.style.removeProperty(n):r.style[n]=""}setProperty(r,n,s){r[n]=s}setValue(r,n){r.nodeValue=n}listen(r,n,s){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,n,Wi(s)):this.eventManager.addEventListener(r,n,Wi(s))}}class Ef extends ni{constructor(r,n,s,l){super(r),this.component=s;const u=kn(l+"-"+s.id,s.styles,[]);n.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Ei,l+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Ei,i)}(l+"-"+s.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,n){const s=super.createElement(r,n);return super.setAttribute(s,this.contentAttr,""),s}}class Cf extends ni{constructor(r,n,s,l){super(r),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=kn(l.id,l.styles,[]);for(let p=0;p<u.length;p++){const _=document.createElement("style");_.textContent=u[p],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,n){return super.appendChild(this.nodeOrShadowRoot(r),n)}insertBefore(r,n,s){return super.insertBefore(this.nodeOrShadowRoot(r),n,s)}removeChild(r,n){return super.removeChild(this.nodeOrShadowRoot(r),n)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let wc=(()=>{class i extends Ot{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,l){return n.addEventListener(s,l,!1),()=>this.removeEventListener(n,s,l)}removeEventListener(n,s,l){return n.removeEventListener(s,l)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Cc=["alt","control","meta","shift"],zv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qv={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let hC=(()=>{class i extends Ot{constructor(n){super(n)}supports(n){return null!=i.parseEventName(n)}addEventListener(n,s,l){const u=i.parseEventName(s),p=i.eventCallback(u.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(n,u.domEventName,p))}static parseEventName(n){const s=n.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const u=i._normalizeKey(s.pop());let p="";if(Cc.forEach(E=>{const D=s.indexOf(E);D>-1&&(s.splice(D,1),p+=E+".")}),p+=u,0!=s.length||0===u.length)return null;const _={};return _.domEventName=l,_.fullKey=p,_}static getEventFullKey(n){let s="",l=function(i){let r=i.key;if(null==r){if(r=i.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===i.location&&xr.hasOwnProperty(r)&&(r=xr[r]))}return zv[r]||r}(n);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Cc.forEach(u=>{u!=l&&qv[u](n)&&(s+=u+".")}),s+=l,s}static eventCallback(n,s,l){return u=>{i.getEventFullKey(u)===n&&l.runGuarded(()=>s(u))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Tc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){Ju.makeCurrent(),bc.init()},multi:!0},{provide:X,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Mf=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:sa,useClass:wc,multi:!0,deps:[X,d.R0b,d.Lbi]},{provide:sa,useClass:hC,multi:!0,deps:[X]},[],{provide:Vs,useClass:Vs,deps:[Ie,sn,d.AFp]},{provide:d.FYo,useExisting:Vs},{provide:vf,useExisting:sn},{provide:sn,useClass:sn,deps:[X]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Ie,useClass:Ie,deps:[sa,d.R0b]},{provide:class{},useClass:Xu,deps:[]},[]];let xf=(()=>{class i{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:i,providers:[{provide:d.AFp,useValue:n.appId},{provide:Tm,useExisting:d.AFp},Mr]}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:Mf,imports:[zi,d.hGG]}),i})();"undefined"!=typeof window&&window;var un=F(4402),je=F(5917),ft=F(9765),dd=F(7971);class ri extends ft.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const n=super._subscribe(r);return n&&!n.closed&&r.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dd.N;return this._value}next(r){super.next(this._value=r)}}var la=F(4869),ul=F(9796),Or=F(7393);class Zv extends Or.L{notifyNext(r,n,s,l,u){this.destination.next(n)}notifyError(r,n){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class fC extends Or.L{constructor(r,n,s){super(),this.parent=r,this.outerValue=n,this.outerIndex=s,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var So=F(7444),on=F(7574);function Kv(i,r,n,s,l=new fC(i,n,s)){if(!l.closed)return r instanceof on.y?r.subscribe(l):(0,So.s)(r)(l)}var Pm=F(6693);const Sc={};class Nf{constructor(r){this.resultSelector=r}call(r,n){return n.subscribe(new hd(r,this.resultSelector))}}class hd extends Zv{constructor(r,n){super(r),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(Sc),this.observables.push(r)}_complete(){const r=this.observables,n=r.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(Kv(this,r[s],void 0,s))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,n,s){const l=this.values,p=this.toRespond?l[s]===Sc?--this.toRespond:this.toRespond:0;l[s]=n,0===p&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(r){let n;try{n=this.resultSelector.apply(this,r)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const Us=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Ti=F(3282);function Ao(...i){return(0,Ti.J)(1)((0,je.of)(...i))}var gs=F(9193);function Yi(i){return new on.y(r=>{let n;try{n=i()}catch(l){return void r.error(l)}return(n?(0,un.D)(n):(0,gs.c)()).subscribe(r)})}var pC=F(2441),rt=F(8002),Ii=F(5345);function Wn(i,r){return"function"==typeof r?n=>n.pipe(Wn((s,l)=>(0,un.D)(i(s,l)).pipe((0,rt.U)((u,p)=>r(s,u,l,p))))):n=>n.lift(new Qv(i))}class Qv{constructor(r){this.project=r}call(r,n){return n.subscribe(new hn(r,this.project))}}class hn extends Ii.Ds{constructor(r,n){super(r),this.project=n,this.index=0}_next(r){let n;const s=this.index++;try{n=this.project(r,s)}catch(l){return void this.destination.error(l)}this._innerSub(n)}_innerSub(r){const n=this.innerSubscription;n&&n.unsubscribe();const s=new Ii.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,Ii.ft)(r,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const Pf=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Zi(i){return r=>0===i?(0,gs.c)():r.lift(new Lm(i))}class Lm{constructor(r){if(this.total=r,this.total<0)throw new Pf}call(r,n){return n.subscribe(new mC(r,this.total))}}class mC extends Or.L{constructor(r,n){super(r),this.total=n,this.count=0}_next(r){const n=this.total,s=++this.count;s<=n&&(this.destination.next(r),s===n&&(this.destination.complete(),this.unsubscribe()))}}function ur(...i){const r=i[i.length-1];return(0,la.K)(r)?(i.pop(),n=>Ao(i,n,r)):n=>Ao(i,n)}function fd(i,r){let n=!1;return arguments.length>=2&&(n=!0),function(l){return l.lift(new Vm(i,r,n))}}class Vm{constructor(r,n,s=!1){this.accumulator=r,this.seed=n,this.hasSeed=s}call(r,n){return n.subscribe(new _C(r,this.accumulator,this.seed,this.hasSeed))}}class _C extends Or.L{constructor(r,n,s,l){super(r),this.accumulator=n,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const n=this.index++;let s;try{s=this.accumulator(this.seed,r,n)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}function dr(i,r){return function(s){return s.lift(new Ff(i,r))}}class Ff{constructor(r,n){this.predicate=r,this.thisArg=n}call(r,n){return n.subscribe(new ua(r,this.predicate,this.thisArg))}}class ua extends Or.L{constructor(r,n,s){super(r),this.predicate=n,this.thisArg=s,this.count=0}_next(r){let n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(r)}}function da(i){return function(n){const s=new Cn(i),l=n.lift(s);return s.caught=l}}class Cn{constructor(r){this.selector=r}call(r,n){return n.subscribe(new Mo(r,this.selector,this.caught))}}class Mo extends Ii.Ds{constructor(r,n,s){super(r),this.selector=n,this.caught=s}error(r){if(!this.isStopped){let n;try{n=this.selector(r,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const s=new Ii.IY(this);this.add(s);const l=(0,Ii.ft)(n,s);l!==s&&this.add(l)}}}var dn=F(9773);function ha(i,r){return(0,dn.zg)(i,r,1)}function Lf(i){return function(n){return 0===i?(0,gs.c)():n.lift(new Di(i))}}class Di{constructor(r){if(this.total=r,this.total<0)throw new Pf}call(r,n){return n.subscribe(new ms(r,this.total))}}class ms extends Or.L{constructor(r,n){super(r),this.total=n,this.ring=new Array,this.count=0}_next(r){const n=this.ring,s=this.total,l=this.count++;n.length<s?n.push(r):n[l%s]=r}_complete(){const r=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,l=this.ring;for(let u=0;u<s;u++){const p=n++%s;r.next(l[p])}}r.complete()}}function fa(i=Bm){return r=>r.lift(new xo(i))}class xo{constructor(r){this.errorFactory=r}call(r,n){return n.subscribe(new Oo(r,this.errorFactory))}}class Oo extends Or.L{constructor(r,n){super(r),this.errorFactory=n,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)}}}function Bm(){return new Us}function pd(i=null){return r=>r.lift(new Jv(i))}class Jv{constructor(r){this.defaultValue=r}call(r,n){return n.subscribe(new Um(r,this.defaultValue))}}class Um extends Or.L{constructor(r,n){super(r),this.defaultValue=n,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Xv=F(4487);function Tn(i,r){const n=arguments.length>=2;return s=>s.pipe(i?dr((l,u)=>i(l,u,s)):Xv.y,Zi(1),n?pd(r):fa(()=>new Us))}var Gn=F(3342),Ro=F(1307),hr=F(5319);class Bf{constructor(r){this.callback=r}call(r,n){return n.subscribe(new Uf(r,this.callback))}}class Uf extends Or.L{constructor(r,n){super(r),this.add(new hr.w(n))}}class Ki{constructor(r,n){this.id=r,this.url=n}}class jf extends Ki{constructor(r,n,s="imperative",l=null){super(r,n),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pa extends Ki{constructor(r,n,s){super(r,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ga extends Ki{constructor(r,n,s){super(r,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hf extends Ki{constructor(r,n,s){super(r,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class md extends Ki{constructor(r,n,s,l){super(r,n),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jm extends Ki{constructor(r,n,s,l){super(r,n),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ac extends Ki{constructor(r,n,s,l,u){super(r,n),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gf extends Ki{constructor(r,n,s,l){super(r,n),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends Ki{constructor(r,n,s,l){super(r,n),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hm{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gm{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $f{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zf{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $m{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hl{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(r,n,s){this.routerEvent=r,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vt="primary";class qf{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const n=this.params[r];return Array.isArray(n)?n[0]:n}return null}getAll(r){if(this.has(r)){const n=this.params[r];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function nn(i){return new qf(i)}const _d="ngNavigationCancelingError";function yd(i){const r=Error("NavigationCancelingError: "+i);return r[_d]=!0,r}function Mc(i,r,n){const s=n.path.split("/");if(s.length>i.length||"full"===n.pathMatch&&(r.hasChildren()||s.length<i.length))return null;const l={};for(let u=0;u<s.length;u++){const p=s[u],_=i[u];if(p.startsWith(":"))l[p.substring(1)]=_;else if(p!==_.path)return null}return{consumed:i.slice(0,s.length),posParams:l}}function ii(i,r){const n=i?Object.keys(i):void 0,s=r?Object.keys(r):void 0;if(!n||!s||n.length!=s.length)return!1;let l;for(let u=0;u<n.length;u++)if(l=n[u],!Wf(i[l],r[l]))return!1;return!0}function Wf(i,r){if(Array.isArray(i)&&Array.isArray(r)){if(i.length!==r.length)return!1;const n=[...i].sort(),s=[...r].sort();return n.every((l,u)=>s[u]===l)}return i===r}function eb(i){return Array.prototype.concat.apply([],i)}function ma(i){return i.length>0?i[i.length-1]:null}function Pn(i,r){for(const n in i)i.hasOwnProperty(n)&&r(i[n],n)}function ir(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,un.D)(Promise.resolve(i)):(0,je.of)(i)}const Wm={exact:function Zm(i,r,n){if(!va(i.segments,r.segments)||!vd(i.segments,r.segments,n)||i.numberOfChildren!==r.numberOfChildren)return!1;for(const s in r.children)if(!i.children[s]||!Zm(i.children[s],r.children[s],n))return!1;return!0},subset:ya},_a={exact:function(i,r){return ii(i,r)},subset:function(i,r){return Object.keys(r).length<=Object.keys(i).length&&Object.keys(r).every(n=>Wf(i[n],r[n]))},ignored:()=>!0};function xc(i,r,n){return Wm[n.paths](i.root,r.root,n.matrixParams)&&_a[n.queryParams](i.queryParams,r.queryParams)&&!("exact"===n.fragment&&i.fragment!==r.fragment)}function ya(i,r,n){return fl(i,r,r.segments,n)}function fl(i,r,n,s){if(i.segments.length>n.length){const l=i.segments.slice(0,n.length);return!(!va(l,n)||r.hasChildren()||!vd(l,n,s))}if(i.segments.length===n.length){if(!va(i.segments,n)||!vd(i.segments,n,s))return!1;for(const l in r.children)if(!i.children[l]||!ya(i.children[l],r.children[l],s))return!1;return!0}{const l=n.slice(0,i.segments.length),u=n.slice(i.segments.length);return!!(va(i.segments,l)&&vd(i.segments,l,s)&&i.children[vt])&&fl(i.children[vt],r,u,s)}}function vd(i,r,n){return r.every((s,l)=>_a[n](i[l].parameters,s.parameters))}class pl{constructor(r,n,s){this.root=r,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return Zf.serialize(this)}}class Mt{constructor(r,n){this.segments=r,this.children=n,this.parent=null,Pn(n,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return js(this)}}class Oc{constructor(r,n){this.path=r,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=nn(this.parameters)),this._parameterMap}toString(){return Kf(this)}}function va(i,r){return i.length===r.length&&i.every((n,s)=>n.path===r[s].path)}class Yf{}class gl{parse(r){const n=new Fo(r);return new pl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(r){var i;return`${`/${Rc(r.root,!0)}`}${function(i){const r=Object.keys(i).map(n=>{const s=i[n];return Array.isArray(s)?s.map(l=>`${kc(n)}=${kc(l)}`).join("&"):`${kc(n)}=${kc(s)}`}).filter(n=>!!n);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${i=r.fragment,encodeURI(i)}`:""}`}}const Zf=new gl;function js(i){return i.segments.map(r=>Kf(r)).join("/")}function Rc(i,r){if(!i.hasChildren())return js(i);if(r){const n=i.children[vt]?Rc(i.children[vt],!1):"",s=[];return Pn(i.children,(l,u)=>{u!==vt&&s.push(`${u}:${Rc(l,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(i,r){let n=[];return Pn(i.children,(s,l)=>{l===vt&&(n=n.concat(r(s,l)))}),Pn(i.children,(s,l)=>{l!==vt&&(n=n.concat(r(s,l)))}),n}(i,(s,l)=>l===vt?[Rc(i.children[vt],!1)]:[`${l}:${Rc(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[vt]?`${js(i)}/${n[0]}`:`${js(i)}/(${n.join("//")})`}}function Km(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kc(i){return Km(i).replace(/%3B/gi,";")}function ba(i){return Km(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nc(i){return decodeURIComponent(i)}function wd(i){return Nc(i.replace(/\+/g,"%20"))}function Kf(i){return`${ba(i.path)}${function(i){return Object.keys(i).map(r=>`;${ba(r)}=${ba(i[r])}`).join("")}(i.parameters)}`}const ib=/^[^\/()?;=#]+/;function Ed(i){const r=i.match(ib);return r?r[0]:""}const sb=/^[^=?&#]+/,Gs=/^[^?&#]+/;class Fo{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(n).length>0)&&(s[vt]=new Mt(r,n)),s}parseSegment(){const r=Ed(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Oc(Nc(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const n=Ed(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const l=Ed(this.remaining);l&&(s=l,this.capture(s))}r[Nc(n)]=Nc(s)}parseQueryParam(r){const n=function(i){const r=i.match(sb);return r?r[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const p=function(i){const r=i.match(Gs);return r?r[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const l=wd(n),u=wd(s);if(r.hasOwnProperty(l)){let p=r[l];Array.isArray(p)||(p=[p],r[l]=p),p.push(u)}else r[l]=u}parseParens(r){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Ed(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):r&&(u=vt);const p=this.parseChildren();n[u]=1===Object.keys(p).length?p[vt]:new Mt([],p),this.consumeOptional("//")}return n}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Qm{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const n=this.pathFromRoot(r);return n.length>1?n[n.length-2]:null}children(r){const n=Qf(r,this._root);return n?n.children.map(s=>s.value):[]}firstChild(r){const n=Qf(r,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(r){const n=Fc(r,this._root);return n.length<2?[]:n[n.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return Fc(r,this._root).map(n=>n.value)}}function Qf(i,r){if(i===r.value)return r;for(const n of r.children){const s=Qf(i,n);if(s)return s}return null}function Fc(i,r){if(i===r.value)return[r];for(const n of r.children){const s=Fc(i,n);if(s.length)return s.unshift(r),s}return[]}class $s{constructor(r,n){this.value=r,this.children=n}toString(){return`TreeNode(${this.value})`}}function wa(i){const r={};return i&&i.children.forEach(n=>r[n.value.outlet]=n),r}class Jf extends Qm{constructor(r,n){super(r),this.snapshot=n,Td(this,r)}toString(){return this.snapshot.toString()}}function Jm(i,r){const n=function(i,r){const p=new Cd([],{},{},"",{},vt,r,null,i.root,-1,{});return new _l("",new $s(p,[]))}(i,r),s=new ri([new Oc("",{})]),l=new ri({}),u=new ri({}),p=new ri({}),_=new ri(""),E=new ml(s,l,p,_,u,vt,r,n.root);return E.snapshot=n.root,new Jf(new $s(E,[]),n)}class ml{constructor(r,n,s,l,u,p,_,E){this.url=r,this.params=n,this.queryParams=s,this.fragment=l,this.data=u,this.outlet=p,this.component=_,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(r=>nn(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(r=>nn(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xm(i,r="emptyOnly"){const n=i.pathFromRoot;let s=0;if("always"!==r)for(s=n.length-1;s>=1;){const l=n[s],u=n[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(u.component)break;s--}}return function(i){return i.reduce((r,n)=>({params:Object.assign(Object.assign({},r.params),n.params),data:Object.assign(Object.assign({},r.data),n.data),resolve:Object.assign(Object.assign({},r.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class Cd{constructor(r,n,s,l,u,p,_,E,D,A,O){this.url=r,this.params=n,this.queryParams=s,this.fragment=l,this.data=u,this.outlet=p,this.component=_,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=A,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _l extends Qm{constructor(r,n){super(n),this.url=r,Td(this,n)}toString(){return Qi(this._root)}}function Td(i,r){r.value._routerState=i,r.children.forEach(n=>Td(i,n))}function Qi(i){const r=i.children.length>0?` { ${i.children.map(Qi).join(", ")} } `:"";return`${i.value}${r}`}function Ea(i){if(i.snapshot){const r=i.snapshot,n=i._futureSnapshot;i.snapshot=n,ii(r.queryParams,n.queryParams)||i.queryParams.next(n.queryParams),r.fragment!==n.fragment&&i.fragment.next(n.fragment),ii(r.params,n.params)||i.params.next(n.params),function(i,r){if(i.length!==r.length)return!1;for(let n=0;n<i.length;++n)if(!ii(i[n],r[n]))return!1;return!0}(r.url,n.url)||i.url.next(n.url),ii(r.data,n.data)||i.data.next(n.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Lc(i,r){return ii(i.params,r.params)&&function(i,r){return va(i,r)&&i.every((n,s)=>ii(n.parameters,r[s].parameters))}(i.url,r.url)&&!(!i.parent!=!r.parent)&&(!i.parent||Lc(i.parent,r.parent))}function Vc(i,r,n){if(n&&i.shouldReuseRoute(r.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=r.value;const l=function(i,r,n){return r.children.map(s=>{for(const l of n.children)if(i.shouldReuseRoute(s.value,l.value.snapshot))return Vc(i,s,l);return Vc(i,s)})}(i,r,n);return new $s(s,l)}{if(i.shouldAttach(r.value)){const u=i.retrieve(r.value);if(null!==u){const p=u.route;return ab(r,p),p}}const s=function(i){return new ml(new ri(i.url),new ri(i.params),new ri(i.queryParams),new ri(i.fragment),new ri(i.data),i.outlet,i.component,i)}(r.value),l=r.children.map(u=>Vc(i,u));return new $s(s,l)}}function ab(i,r){if(i.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=i.value;for(let n=0;n<i.children.length;++n)ab(i.children[n],r.children[n])}function yl(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function ys(i){return"object"==typeof i&&null!=i&&i.outlets}function r_(i,r,n,s,l){let u={};return s&&Pn(s,(p,_)=>{u[_]=Array.isArray(p)?p.map(E=>`${E}`):`${p}`}),new pl(n.root===i?r:lb(n.root,i,r),u,l)}function lb(i,r,n){const s={};return Pn(i.children,(l,u)=>{s[u]=l===r?n:lb(l,r,n)}),new Mt(i.segments,s)}class tp{constructor(r,n,s){if(this.isAbsolute=r,this.numberOfDoubleDots=n,this.commands=s,r&&s.length>0&&yl(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(ys);if(l&&l!==ma(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class np{constructor(r,n,s){this.segmentGroup=r,this.processChildren=n,this.index=s}}function Lo(i,r,n){if(i||(i=new Mt([],{})),0===i.segments.length&&i.hasChildren())return Bc(i,r,n);const s=function(i,r,n){let s=0,l=r;const u={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(s>=n.length)return u;const p=i.segments[l],_=n[s];if(ys(_))break;const E=`${_}`,D=s<n.length-1?n[s+1]:null;if(l>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!a_(E,D,p))return u;s+=2}else{if(!a_(E,{},p))return u;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(i,r,n),l=n.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const u=new Mt(i.segments.slice(0,s.pathIndex),{});return u.children[vt]=new Mt(i.segments.slice(s.pathIndex),i.children),Bc(u,0,l)}return s.match&&0===l.length?new Mt(i.segments,{}):s.match&&!i.hasChildren()?rp(i,r,n):s.match?Bc(i,0,l):rp(i,r,n)}function Bc(i,r,n){if(0===n.length)return new Mt(i.segments,{});{const s=function(i){return ys(i[0])?i[0].outlets:{[vt]:i}}(n),l={};return Pn(s,(u,p)=>{"string"==typeof u&&(u=[u]),null!==u&&(l[p]=Lo(i.children[p],r,u))}),Pn(i.children,(u,p)=>{void 0===s[p]&&(l[p]=u)}),new Mt(i.segments,l)}}function rp(i,r,n){const s=i.segments.slice(0,r);let l=0;for(;l<n.length;){const u=n[l];if(ys(u)){const E=vn(u.outlets);return new Mt(s,E)}if(0===l&&yl(n[0])){s.push(new Oc(i.segments[r].path,o_(n[0]))),l++;continue}const p=ys(u)?u.outlets[vt]:`${u}`,_=l<n.length-1?n[l+1]:null;p&&_&&yl(_)?(s.push(new Oc(p,o_(_))),l+=2):(s.push(new Oc(p,{})),l++)}return new Mt(s,{})}function vn(i){const r={};return Pn(i,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[s]=rp(new Mt([],{}),0,n))}),r}function o_(i){const r={};return Pn(i,(n,s)=>r[s]=`${n}`),r}function a_(i,r,n){return i==n.path&&ii(r,n.parameters)}class Ad{constructor(r,n,s,l){this.routeReuseStrategy=r,this.futureState=n,this.currState=s,this.forwardEvent=l}activate(r){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,r),Ea(this.futureState.root),this.activateChildRoutes(n,s,r)}deactivateChildRoutes(r,n,s){const l=wa(n);r.children.forEach(u=>{const p=u.value.outlet;this.deactivateRoutes(u,l[p],s),delete l[p]}),Pn(l,(u,p)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(r,n,s){const l=r.value,u=n?n.value:null;if(l===u)if(l.component){const p=s.getContext(l.outlet);p&&this.deactivateChildRoutes(r,n,p.children)}else this.deactivateChildRoutes(r,n,s);else u&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(r,n){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,n):this.deactivateRouteAndOutlet(r,n)}detachAndStoreRouteSubtree(r,n){const s=n.getContext(r.value.outlet);if(s&&s.outlet){const l=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:l,route:r,contexts:u})}}deactivateRouteAndOutlet(r,n){const s=n.getContext(r.value.outlet),l=s&&r.value.component?s.children:n,u=wa(r);for(const p of Object.keys(u))this.deactivateRouteAndItsChildren(u[p],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(r,n,s){const l=wa(n);r.children.forEach(u=>{this.activateRoutes(u,l[u.value.outlet],s),this.forwardEvent(new hl(u.value.snapshot))}),r.children.length&&this.forwardEvent(new zf(r.value.snapshot))}activateRoutes(r,n,s){const l=r.value,u=n?n.value:null;if(Ea(l),l===u)if(l.component){const p=s.getOrCreateContext(l.outlet);this.activateChildRoutes(r,n,p.children)}else this.activateChildRoutes(r,n,s);else if(l.component){const p=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const _=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(_.contexts),p.attachRef=_.componentRef,p.route=_.route.value,p.outlet&&p.outlet.attach(_.componentRef,_.route.value),Md(_.route)}else{const _=function(i){for(let r=i.parent;r;r=r.parent){const n=r.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(l.snapshot),E=_?_.module.componentFactoryResolver:null;p.attachRef=null,p.route=l,p.resolver=E,p.outlet&&p.outlet.activateWith(l,E),this.activateChildRoutes(r,null,p.children)}}else this.activateChildRoutes(r,null,s)}}function Md(i){Ea(i.value),i.children.forEach(Md)}class ip{constructor(r,n){this.routes=r,this.module=n}}function vs(i){return"function"==typeof i}function bs(i){return i instanceof pl}const vl=Symbol("INITIAL_VALUE");function Ca(){return Wn(i=>function(...i){let r,n;return(0,la.K)(i[i.length-1])&&(n=i.pop()),"function"==typeof i[i.length-1]&&(r=i.pop()),1===i.length&&(0,ul.k)(i[0])&&(i=i[0]),(0,Pm.n)(i,n).lift(new Nf(r))}(i.map(r=>r.pipe(Zi(1),ur(vl)))).pipe(fd((r,n)=>{let s=!1;return n.reduce((l,u,p)=>l!==vl?l:(u===vl&&(s=!0),s||!1!==u&&p!==n.length-1&&!bs(u)?l:u),r)},vl),dr(r=>r!==vl),(0,rt.U)(r=>bs(r)?r:!0===r),Zi(1)))}let or=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&d._UZ(0,"router-outlet")},directives:function(){return[up]},encapsulation:2}),i})();function oi(i,r=""){for(let n=0;n<i.length;n++){const s=i[n];xd(s,hb(r,s))}}function xd(i,r){i.children&&oi(i.children,r)}function hb(i,r){return r?i||r.path?i&&!r.path?`${i}/`:!i&&r.path?r.path:`${i}/${r.path}`:"":i}function sp(i){const r=i.children&&i.children.map(sp),n=r?Object.assign(Object.assign({},i),{children:r}):Object.assign({},i);return!n.component&&(r||n.loadChildren)&&n.outlet&&n.outlet!==vt&&(n.component=or),n}function ai(i){return i.outlet||vt}function op(i,r){const n=i.filter(s=>ai(s)===r);return n.push(...i.filter(s=>ai(s)!==r)),n}const fr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bl(i,r,n){var s;if(""===r.path)return"full"===r.pathMatch&&(i.hasChildren()||n.length>0)?Object.assign({},fr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(r.matcher||Mc)(n,i,r);if(!u)return Object.assign({},fr);const p={};Pn(u.posParams,(E,D)=>{p[D]=E.path});const _=u.consumed.length>0?Object.assign(Object.assign({},p),u.consumed[u.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:_,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function Ta(i,r,n,s,l="corrected"){if(n.length>0&&function(i,r,n){return n.some(s=>Ia(i,r,s)&&ai(s)!==vt)}(i,n,s)){const p=new Mt(r,function(i,r,n,s){const l={};l[vt]=s,s._sourceSegment=i,s._segmentIndexShift=r.length;for(const u of n)if(""===u.path&&ai(u)!==vt){const p=new Mt([],{});p._sourceSegment=i,p._segmentIndexShift=r.length,l[ai(u)]=p}return l}(i,r,s,new Mt(n,i.children)));return p._sourceSegment=i,p._segmentIndexShift=r.length,{segmentGroup:p,slicedSegments:[]}}if(0===n.length&&function(i,r,n){return n.some(s=>Ia(i,r,s))}(i,n,s)){const p=new Mt(i.segments,function(i,r,n,s,l,u){const p={};for(const _ of s)if(Ia(i,n,_)&&!l[ai(_)]){const E=new Mt([],{});E._sourceSegment=i,E._segmentIndexShift="legacy"===u?i.segments.length:r.length,p[ai(_)]=E}return Object.assign(Object.assign({},l),p)}(i,r,n,s,i.children,l));return p._sourceSegment=i,p._segmentIndexShift=r.length,{segmentGroup:p,slicedSegments:n}}const u=new Mt(i.segments,i.children);return u._sourceSegment=i,u._segmentIndexShift=r.length,{segmentGroup:u,slicedSegments:n}}function Ia(i,r,n){return(!(i.hasChildren()||r.length>0)||"full"!==n.pathMatch)&&""===n.path}function Od(i,r,n,s){return!!(ai(i)===s||s!==vt&&Ia(r,n,i))&&("**"===i.path||bl(r,i,n).matched)}function Rd(i,r,n){return 0===r.length&&!i.children[n]}class kd{constructor(r){this.segmentGroup=r||null}}class lp{constructor(r){this.urlTree=r}}function Da(i){return new on.y(r=>r.error(new kd(i)))}function c_(i){return new on.y(r=>r.error(new lp(i)))}function C(i){return new on.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class T{constructor(r,n,s,l,u){this.configLoader=n,this.urlSerializer=s,this.urlTree=l,this.config=u,this.allowRedirects=!0,this.ngModule=r.get(d.h0i)}apply(){const r=Ta(this.urlTree.root,[],[],this.config).segmentGroup,n=new Mt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,n,vt).pipe((0,rt.U)(u=>this.createUrlTree(k(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(da(u=>{if(u instanceof lp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof kd?this.noMatchError(u):u}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,vt).pipe((0,rt.U)(l=>this.createUrlTree(k(l),r.queryParams,r.fragment))).pipe(da(l=>{throw l instanceof kd?this.noMatchError(l):l}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,n,s){const l=r.segments.length>0?new Mt([],{[vt]:r}):r;return new pl(l,n,s)}expandSegmentGroup(r,n,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(r,n,s).pipe((0,rt.U)(u=>new Mt([],u))):this.expandSegment(r,s,n,s.segments,l,!0)}expandChildren(r,n,s){const l=[];for(const u of Object.keys(s.children))"primary"===u?l.unshift(u):l.push(u);return(0,un.D)(l).pipe(ha(u=>{const p=s.children[u],_=op(n,u);return this.expandSegmentGroup(r,_,p,u).pipe((0,rt.U)(E=>({segment:E,outlet:u})))}),fd((u,p)=>(u[p.outlet]=p.segment,u),{}),function(i,r){const n=arguments.length>=2;return s=>s.pipe(i?dr((l,u)=>i(l,u,s)):Xv.y,Lf(1),n?pd(r):fa(()=>new Us))}())}expandSegment(r,n,s,l,u,p){return(0,un.D)(s).pipe(ha(_=>this.expandSegmentAgainstRoute(r,n,s,_,l,u,p).pipe(da(D=>{if(D instanceof kd)return(0,je.of)(null);throw D}))),Tn(_=>!!_),da((_,E)=>{if(_ instanceof Us||"EmptyError"===_.name){if(Rd(n,l,u))return(0,je.of)(new Mt([],{}));throw new kd(n)}throw _}))}expandSegmentAgainstRoute(r,n,s,l,u,p,_){return Od(l,n,u,p)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(r,n,l,u,p):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,n,s,l,u,p):Da(n):Da(n)}expandSegmentAgainstRouteUsingRedirect(r,n,s,l,u,p){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,s,l,p):this.expandRegularSegmentAgainstRouteUsingRedirect(r,n,s,l,u,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,n,s,l){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?c_(u):this.lineralizeSegments(s,u).pipe((0,dn.zg)(p=>{const _=new Mt(p,{});return this.expandSegment(r,_,n,p,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,n,s,l,u,p){const{matched:_,consumedSegments:E,lastChild:D,positionalParamSegments:A}=bl(n,l,u);if(!_)return Da(n);const O=this.applyRedirectCommands(E,l.redirectTo,A);return l.redirectTo.startsWith("/")?c_(O):this.lineralizeSegments(l,O).pipe((0,dn.zg)(V=>this.expandSegment(r,n,s,V.concat(u.slice(D)),p,!1)))}matchSegmentAgainstRoute(r,n,s,l,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,je.of)(s._loadedConfig):this.configLoader.load(r.injector,s)).pipe((0,rt.U)(V=>(s._loadedConfig=V,new Mt(l,{})))):(0,je.of)(new Mt(l,{}));const{matched:p,consumedSegments:_,lastChild:E}=bl(n,s,l);if(!p)return Da(n);const D=l.slice(E);return this.getChildConfig(r,s,l).pipe((0,dn.zg)(O=>{const V=O.module,B=O.routes,{segmentGroup:W,slicedSegments:pe}=Ta(n,_,D,B),Te=new Mt(W.segments,W.children);if(0===pe.length&&Te.hasChildren())return this.expandChildren(V,B,Te).pipe((0,rt.U)(ut=>new Mt(_,ut)));if(0===B.length&&0===pe.length)return(0,je.of)(new Mt(_,{}));const Ve=ai(s)===u;return this.expandSegment(V,Te,B,pe,Ve?vt:u,!0).pipe((0,rt.U)(Ue=>new Mt(_.concat(Ue.segments),Ue.children)))}))}getChildConfig(r,n,s){return n.children?(0,je.of)(new ip(n.children,r)):n.loadChildren?void 0!==n._loadedConfig?(0,je.of)(n._loadedConfig):this.runCanLoadGuards(r.injector,n,s).pipe((0,dn.zg)(l=>{return l?this.configLoader.load(r.injector,n).pipe((0,rt.U)(u=>(n._loadedConfig=u,u))):(i=n,new on.y(r=>r.error(yd(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,je.of)(new ip([],r))}runCanLoadGuards(r,n,s){const l=n.canLoad;if(!l||0===l.length)return(0,je.of)(!0);const u=l.map(p=>{const _=r.get(p);let E;if((i=_)&&vs(i.canLoad))E=_.canLoad(n,s);else{if(!vs(_))throw new Error("Invalid CanLoad guard");E=_(n,s)}var i;return ir(E)});return(0,je.of)(u).pipe(Ca(),(0,Gn.b)(p=>{if(!bs(p))return;const _=yd(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw _.url=p,_}),(0,rt.U)(p=>!0===p))}lineralizeSegments(r,n){let s=[],l=n.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return(0,je.of)(s);if(l.numberOfChildren>1||!l.children[vt])return C(r.redirectTo);l=l.children[vt]}}applyRedirectCommands(r,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),r,s)}applyRedirectCreatreUrlTree(r,n,s,l){const u=this.createSegmentGroup(r,n.root,s,l);return new pl(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(r,n){const s={};return Pn(r,(l,u)=>{if("string"==typeof l&&l.startsWith(":")){const _=l.substring(1);s[u]=n[_]}else s[u]=l}),s}createSegmentGroup(r,n,s,l){const u=this.createSegments(r,n.segments,s,l);let p={};return Pn(n.children,(_,E)=>{p[E]=this.createSegmentGroup(r,_,s,l)}),new Mt(u,p)}createSegments(r,n,s,l){return n.map(u=>u.path.startsWith(":")?this.findPosParam(r,u,l):this.findOrReturn(u,s))}findPosParam(r,n,s){const l=s[n.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${r}'. Cannot find '${n.path}'.`);return l}findOrReturn(r,n){let s=0;for(const l of n){if(l.path===r.path)return n.splice(s),l;s++}return r}}function k(i){const r={};for(const s of Object.keys(i.children)){const u=k(i.children[s]);(u.segments.length>0||u.hasChildren())&&(r[s]=u)}return function(i){if(1===i.numberOfChildren&&i.children[vt]){const r=i.children[vt];return new Mt(i.segments.concat(r.segments),r.children)}return i}(new Mt(i.segments,r))}class _e{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Oe{constructor(r,n){this.component=r,this.route=n}}function Ge(i,r,n){const s=i._root;return $r(s,r?r._root:null,n,[s.value])}function Xe(i,r,n){const s=function(i){if(!i)return null;for(let r=i.parent;r;r=r.parent){const n=r.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(r);return(s?s.module.injector:n).get(i)}function $r(i,r,n,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const u=wa(r);return i.children.forEach(p=>{(function(i,r,n,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const u=i.value,p=r?r.value:null,_=n?n.getContext(i.value.outlet):null;if(p&&u.routeConfig===p.routeConfig){const E=function(i,r,n){if("function"==typeof n)return n(i,r);switch(n){case"pathParamsChange":return!va(i.url,r.url);case"pathParamsOrQueryParamsChange":return!va(i.url,r.url)||!ii(i.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lc(i,r)||!ii(i.queryParams,r.queryParams);case"paramsChange":default:return!Lc(i,r)}}(p,u,u.routeConfig.runGuardsAndResolvers);E?l.canActivateChecks.push(new _e(s)):(u.data=p.data,u._resolvedData=p._resolvedData),$r(i,r,u.component?_?_.children:null:n,s,l),E&&_&&_.outlet&&_.outlet.isActivated&&l.canDeactivateChecks.push(new Oe(_.outlet.component,p))}else p&&Sa(r,_,l),l.canActivateChecks.push(new _e(s)),$r(i,null,u.component?_?_.children:null:n,s,l)})(p,u[p.value.outlet],n,s.concat([p.value]),l),delete u[p.value.outlet]}),Pn(u,(p,_)=>Sa(p,n.getContext(_),l)),l}function Sa(i,r,n){const s=wa(i),l=i.value;Pn(s,(u,p)=>{Sa(u,l.component?r?r.children.getContext(p):null:r,n)}),n.canDeactivateChecks.push(new Oe(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}class Gc{}function Pd(i){return new on.y(r=>r.error(i))}class vC{constructor(r,n,s,l,u,p){this.rootComponentType=r,this.config=n,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=p}recognize(){const r=Ta(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,r,vt);if(null===n)return null;const s=new Cd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new $s(s,n),u=new _l(this.url,l);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(r){const n=r.value,s=Xm(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(r,n):this.processSegment(r,n,n.segments,s)}processChildren(r,n){const s=[];for(const u of Object.keys(n.children)){const p=n.children[u],_=op(r,u),E=this.processSegmentGroup(_,p,u);if(null===E)return null;s.push(...E)}const l=h_(s);return l.sort((r,n)=>r.value.outlet===vt?-1:n.value.outlet===vt?1:r.value.outlet.localeCompare(n.value.outlet)),l}processSegment(r,n,s,l){for(const u of r){const p=this.processSegmentAgainstRoute(u,n,s,l);if(null!==p)return p}return Rd(n,s,l)?[]:null}processSegmentAgainstRoute(r,n,s,l){if(r.redirectTo||!Od(r,n,s,l))return null;let u,p=[],_=[];if("**"===r.path){const B=s.length>0?ma(s).parameters:{};u=new Cd(s,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$c(r),ai(r),r.component,r,_b(n),SA(n)+s.length,f_(r))}else{const B=bl(n,r,s);if(!B.matched)return null;p=B.consumedSegments,_=s.slice(B.lastChild),u=new Cd(p,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$c(r),ai(r),r.component,r,_b(n),SA(n)+p.length,f_(r))}const E=(i=r).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:A}=Ta(n,p,_,E.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var i;if(0===A.length&&D.hasChildren()){const B=this.processChildren(E,D);return null===B?null:[new $s(u,B)]}if(0===E.length&&0===A.length)return[new $s(u,[])];const O=ai(r)===l,V=this.processSegment(E,D,A,O?vt:l);return null===V?null:[new $s(u,V)]}}function wC(i){const r=i.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function h_(i){const r=[],n=new Set;for(const s of i){if(!wC(s)){r.push(s);continue}const l=r.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==l?(l.children.push(...s.children),n.add(l)):r.push(s)}for(const s of n){const l=h_(s.children);r.push(new $s(s.value,l))}return r.filter(s=>!n.has(s))}function _b(i){let r=i;for(;r._sourceSegment;)r=r._sourceSegment;return r}function SA(i){let r=i,n=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,n+=r._segmentIndexShift?r._segmentIndexShift:0;return n-1}function $c(i){return i.data||{}}function f_(i){return i.resolve||{}}function vb(i){return Wn(r=>{const n=i(r);return n?(0,un.D)(n).pipe((0,rt.U)(()=>r)):(0,je.of)(r)})}class kA extends class{shouldDetach(r){return!1}store(r,n){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,n){return r.routeConfig===n.routeConfig}}{}const p_=new d.OlP("ROUTES");class g_{constructor(r,n,s,l){this.loader=r,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=l}load(r,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const l=this.loadModuleFactory(n.loadChildren).pipe((0,rt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(n);const p=u.create(r);return new ip(eb(p.injector.get(p_,void 0,d.XFs.Self|d.XFs.Optional)).map(sp),p)}),da(u=>{throw n._loader$=void 0,u}));return n._loader$=new pC.c(l,()=>new ft.xQ).pipe((0,Ro.x)()),n._loader$}loadModuleFactory(r){return"string"==typeof r?(0,un.D)(this.loader.load(r)):ir(r()).pipe((0,dn.zg)(n=>n instanceof d.YKP?(0,je.of)(n):(0,un.D)(this.compiler.compileModuleAsync(n))))}}class TC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new El,this.attachRef=null}}class El{constructor(){this.contexts=new Map}onChildOutletCreated(r,n){const s=this.getOrCreateContext(r);s.outlet=n,this.contexts.set(r,s)}onChildOutletDestroyed(r){const n=this.getContext(r);n&&(n.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let n=this.getContext(r);return n||(n=new TC,this.contexts.set(r,n)),n}getContext(r){return this.contexts.get(r)||null}}class PA{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,n){return r}}function IC(i){throw i}function DC(i,r,n){return r.parse("/")}function Cl(i,r){return(0,je.of)(null)}const SC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class i{constructor(n,s,l,u,p,_,E,D){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=l,this.location=u,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.xQ,this.errorHandler=IC,this.malformedUriErrorHandler=DC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cl,afterPreactivation:Cl},this.urlHandlingStrategy=new PA,this.routeReuseStrategy=new kA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(d.h0i),this.console=p.get(d.c2e);const V=p.get(d.R0b);this.isNgZoneEnabled=V instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new pl(new Mt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new g_(_,E,B=>this.triggerEvent(new Hm(B)),B=>this.triggerEvent(new Gm(B))),this.routerState=Jm(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(dr(l=>0!==l.id),(0,rt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),Wn(l=>{let u=!1,p=!1;return(0,je.of)(l).pipe((0,Gn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Wn(_=>{const E=!this.navigated||_.extractedUrl.toString()!==this.browserUrlTree.toString(),D=("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl);if(__(_.source)&&(this.browserUrlTree=_.rawUrl),D)return(0,je.of)(_).pipe(Wn(A=>{const O=this.transitions.getValue();return s.next(new jf(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?gs.E:Promise.resolve(A)}),function(i,r,n,s){return Wn(l=>function(i,r,n,s,l){return new T(i,r,n,s,l).apply()}(i,r,n,l.extractedUrl,s).pipe((0,rt.U)(u=>Object.assign(Object.assign({},l),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gn.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function(i,r,n,s,l){return(0,dn.zg)(u=>function(i,r,n,s,l="emptyOnly",u="legacy"){try{const p=new vC(i,r,n,s,l,u).recognize();return null===p?Pd(new Gc):(0,je.of)(p)}catch(p){return Pd(p)}}(i,r,u.urlAfterRedirects,n(u.urlAfterRedirects),s,l).pipe((0,rt.U)(p=>Object.assign(Object.assign({},u),{targetSnapshot:p}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gn.b)(A=>{"eager"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(A.urlAfterRedirects,A),this.browserUrlTree=A.urlAfterRedirects);const O=new md(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);s.next(O)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:V,source:B,restoredState:W,extras:pe}=_,Te=new jf(O,this.serializeUrl(V),B,W);s.next(Te);const Ve=Jm(V,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},_),{targetSnapshot:Ve,urlAfterRedirects:V,extras:Object.assign(Object.assign({},pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),gs.E}),vb(_=>{const{targetSnapshot:E,id:D,extractedUrl:A,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:B}}=_;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:A,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!B})}),(0,Gn.b)(_=>{const E=new jm(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),(0,rt.U)(_=>Object.assign(Object.assign({},_),{guards:Ge(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(i,r){return(0,dn.zg)(n=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:u,canDeactivateChecks:p}}=n;return 0===p.length&&0===u.length?(0,je.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(i,r,n,s){return(0,un.D)(i).pipe((0,dn.zg)(l=>function(i,r,n,s,l){const u=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,je.of)(!0);const p=u.map(_=>{const E=Xe(_,r,l);let D;if(function(i){return i&&vs(i.canDeactivate)}(E))D=ir(E.canDeactivate(i,r,n,s));else{if(!vs(E))throw new Error("Invalid CanDeactivate guard");D=ir(E(i,r,n,s))}return D.pipe(Tn())});return(0,je.of)(p).pipe(Ca())}(l.component,l.route,n,r,s)),Tn(l=>!0!==l,!0))}(p,s,l,i).pipe((0,dn.zg)(_=>_&&function(i){return"boolean"==typeof i}(_)?function(i,r,n,s){return(0,un.D)(r).pipe(ha(l=>Ao(function(i,r){return null!==i&&r&&r(new $f(i)),(0,je.of)(!0)}(l.route.parent,s),function(i,r){return null!==i&&r&&r(new $m(i)),(0,je.of)(!0)}(l.route,s),function(i,r,n){const s=r[r.length-1],u=r.slice(0,r.length-1).reverse().map(p=>function(i){const r=i.routeConfig?i.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:i,guards:r}:null}(p)).filter(p=>null!==p).map(p=>Yi(()=>{const _=p.guards.map(E=>{const D=Xe(E,p.node,n);let A;if(function(i){return i&&vs(i.canActivateChild)}(D))A=ir(D.canActivateChild(s,i));else{if(!vs(D))throw new Error("Invalid CanActivateChild guard");A=ir(D(s,i))}return A.pipe(Tn())});return(0,je.of)(_).pipe(Ca())}));return(0,je.of)(u).pipe(Ca())}(i,l.path,n),function(i,r,n){const s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||0===s.length)return(0,je.of)(!0);const l=s.map(u=>Yi(()=>{const p=Xe(u,r,n);let _;if(function(i){return i&&vs(i.canActivate)}(p))_=ir(p.canActivate(r,i));else{if(!vs(p))throw new Error("Invalid CanActivate guard");_=ir(p(r,i))}return _.pipe(Tn())}));return(0,je.of)(l).pipe(Ca())}(i,l.route,n))),Tn(l=>!0!==l,!0))}(s,u,i,r):(0,je.of)(_)),(0,rt.U)(_=>Object.assign(Object.assign({},n),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Gn.b)(_=>{if(bs(_.guardsResult)){const D=yd(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw D.url=_.guardsResult,D}const E=new Ac(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(E)}),dr(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),vb(_=>{if(_.guards.canActivateChecks.length)return(0,je.of)(_).pipe((0,Gn.b)(E=>{const D=new Gf(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),Wn(E=>{let D=!1;return(0,je.of)(E).pipe(function(i,r){return(0,dn.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=n;if(!l.length)return(0,je.of)(n);let u=0;return(0,un.D)(l).pipe(ha(p=>function(i,r,n,s){return function(i,r,n,s){const l=Object.keys(i);if(0===l.length)return(0,je.of)({});const u={};return(0,un.D)(l).pipe((0,dn.zg)(p=>function(i,r,n,s){const l=Xe(i,r,s);return ir(l.resolve?l.resolve(r,n):l(r,n))}(i[p],r,n,s).pipe((0,Gn.b)(_=>{u[p]=_}))),Lf(1),(0,dn.zg)(()=>Object.keys(u).length===l.length?(0,je.of)(u):gs.E))}(i._resolve,i,r,s).pipe((0,rt.U)(u=>(i._resolvedData=u,i.data=Object.assign(Object.assign({},i.data),Xm(i,n).resolve),null)))}(p.route,s,i,r)),(0,Gn.b)(()=>u++),Lf(1),(0,dn.zg)(p=>u===l.length?(0,je.of)(n):gs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Gn.b)(E=>{const D=new ko(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),vb(_=>{const{targetSnapshot:E,id:D,extractedUrl:A,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:B}}=_;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:A,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!B})}),(0,rt.U)(_=>{const E=function(i,r,n){const s=Vc(i,r._root,n?n._root:void 0);return new Jf(s,r)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:E})}),(0,Gn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((i,r,n)=>(0,rt.U)(s=>(new Ad(r,s.targetRouterState,s.currentRouterState,n).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Gn.b)({next(){u=!0},complete(){u=!0}}),function(i){return r=>r.lift(new Bf(i))}(()=>{if(!u&&!p){const _=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,_)):this.cancelNavigationTransition(l,_)}this.currentNavigation=null}),da(_=>{if(p=!0,function(i){return i&&i[_d]}(_)){const E=bs(_.url);E||(this.navigated=!0,this.restoreHistory(l,!0));const D=new ga(l.id,this.serializeUrl(l.extractedUrl),_.message);s.next(D),E?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),O={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||__(l.source)};this.scheduleNavigation(A,"imperative",null,O,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const E=new Hf(l.id,this.serializeUrl(l.extractedUrl),_);s.next(E);try{l.resolve(this.errorHandler(_))}catch(D){l.reject(D)}}return gs.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:l,state:u,urlTree:p}=s,_={replaceUrl:!0};if(u){const E=Object.assign({},u);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(_.state=E)}this.scheduleNavigation(p,l,u,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const l=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!l||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){oi(n),this.config=n.map(sp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:l,queryParams:u,fragment:p,queryParamsHandling:_,preserveFragment:E}=s,D=l||this.routerState.root,A=E?this.currentUrlTree.fragment:p;let O=null;switch(_){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function(i,r,n,s,l){if(0===n.length)return r_(r.root,r.root,r,s,l);const u=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new tp(!0,0,i);let r=0,n=!1;const s=i.reduce((l,u,p)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return Pn(u.outlets,(E,D)=>{_[D]="string"==typeof E?E.split("/"):E}),[...l,{outlets:_}]}if(u.segmentPath)return[...l,u.segmentPath]}return"string"!=typeof u?[...l,u]:0===p?(u.split("/").forEach((_,E)=>{0==E&&"."===_||(0==E&&""===_?n=!0:".."===_?r++:""!=_&&l.push(_))}),l):[...l,u]},[]);return new tp(n,r,s)}(n);if(u.toRoot())return r_(r.root,new Mt([],{}),r,s,l);const p=function(i,r,n){if(i.isAbsolute)return new np(r.root,!0,0);if(-1===n.snapshot._lastPathIndex){const u=n.snapshot._urlSegment;return new np(u,u===r.root,0)}const s=yl(i.commands[0])?0:1;return function(i,r,n){let s=i,l=r,u=n;for(;u>l;){if(u-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new np(s,!1,l-u)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(u,r,i),_=p.processChildren?Bc(p.segmentGroup,p.index,u.commands):Lo(p.segmentGroup,p.index,u.commands);return r_(p.segmentGroup,_,r,s,l)}(D,this.currentUrlTree,n,O,null!=A?A:null)}navigateByUrl(n,s={skipLocationChange:!1}){const l=bs(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(i){for(let r=0;r<i.length;r++){const n=i[r];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${r}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,n)}return s}isActive(n,s){let l;if(l=!0===s?Object.assign({},SC):!1===s?Object.assign({},AC):s,bs(n))return xc(this.currentUrlTree,n,l);const u=this.parseUrl(n);return xc(this.currentUrlTree,u,l)}removeEmptyProps(n){return Object.keys(n).reduce((s,l)=>{const u=n[l];return null!=u&&(s[l]=u),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new pa(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,l,u,p){var _,E;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),A=__(s)&&D&&!__(D.source),B=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===n.toString();if(A&&B)return Promise.resolve(!0);let W,pe,Te;p?(W=p.resolve,pe=p.reject,Te=p.promise):Te=new Promise((Ue,ut)=>{W=Ue,pe=ut});const Ve=++this.navigationId;let qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),qe=l&&l.\u0275routerPageId?l.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):qe=0,this.setTransition({id:Ve,targetPageId:qe,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:u,resolve:W,reject:pe,promise:Te,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Te.catch(Ue=>Promise.reject(Ue))}setBrowserUrl(n,s){const l=this.urlSerializer.serialize(n),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",u):this.location.go(l,"",u)}restoreHistory(n,s=!1){var l,u;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===p?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===p&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const l=new ga(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(l),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.DyG),d.LFG(Yf),d.LFG(El),d.LFG(it),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function __(i){return"imperative"!==i}let up=(()=>{class i{constructor(n,s,l,u,p){this.parentContexts=n,this.location=s,this.resolver=l,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=u||vt,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const p=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,E=new b_(n,_,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(n){return new(n||i)(d.Y36(El),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class b_{constructor(r,n,s){this.route=r,this.childContexts=n,this.parent=s}get(r,n){return r===ml?this.route:r===El?this.childContexts:this.parent.get(r,n)}}class wb{}class Cb{preload(r,n){return(0,je.of)(null)}}let w_=(()=>{class i{constructor(n,s,l,u,p){this.router=n,this.injector=u,this.preloadingStrategy=p,this.loader=new g_(s,l,D=>n.triggerEvent(new Hm(D)),D=>n.triggerEvent(new Gm(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(dr(n=>n instanceof pa),ha(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(d.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const l=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const p=u._loadedConfig;l.push(this.processRoutes(p.module,p.routes))}else u.loadChildren&&!u.canLoad?l.push(this.preloadConfig(n,u)):u.children&&l.push(this.processRoutes(n,u.children));return(0,un.D)(l).pipe((0,Ti.J)(),(0,rt.U)(u=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,je.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,dn.zg)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ai),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(wb))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),qc=(()=>{class i{constructor(n,s,l={}){this.router=n,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof jf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof pa&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof No&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new No(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ai),d.LFG(_c),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Tl=new d.OlP("ROUTER_CONFIGURATION"),xC=new d.OlP("ROUTER_FORROOT_GUARD"),OC=[it,{provide:Yf,useClass:gl},{provide:Ai,useFactory:function(i,r,n,s,l,u,p,_={},E,D){const A=new Ai(null,i,r,n,s,l,u,eb(p));return E&&(A.urlHandlingStrategy=E),D&&(A.routeReuseStrategy=D),function(i,r){i.errorHandler&&(r.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(r.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(r.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(r.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(r.urlUpdateStrategy=i.urlUpdateStrategy)}(_,A),_.enableTracing&&A.events.subscribe(O=>{var V,B;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(B=console.groupEnd)||void 0===B||B.call(console)}),A},deps:[Yf,El,it,d.zs3,d.v3s,d.Sil,p_,Tl,[class{},new d.FiY],[class{},new d.FiY]]},El,{provide:ml,useFactory:function(i){return i.routerState.root},deps:[Ai]},{provide:d.v3s,useClass:d.EAV},w_,Cb,class{preload(r,n){return n().pipe(da(()=>(0,je.of)(null)))}},{provide:Tl,useValue:{enableTracing:!1}}];function Tb(){return new d.PXZ("Router",Ai)}let Ib=(()=>{class i{constructor(n,s){}static forRoot(n,s){return{ngModule:i,providers:[OC,Db(n),{provide:xC,useFactory:LA,deps:[[Ai,new d.FiY,new d.tp0]]},{provide:Tl,useValue:s||{}},{provide:De,useFactory:RC,deps:[J,[new d.tBr(Ae),new d.FiY],Tl]},{provide:qc,useFactory:$R,deps:[Ai,_c,Tl]},{provide:wb,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Cb},{provide:d.PXZ,multi:!0,useFactory:Tb},[Sb,{provide:d.ip1,multi:!0,useFactory:kC,deps:[Sb]},{provide:NC,useFactory:UA,deps:[Sb]},{provide:d.tb,multi:!0,useExisting:NC}]]}}static forChild(n){return{ngModule:i,providers:[Db(n)]}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(xC,8),d.LFG(Ai,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function $R(i,r,n){return n.scrollOffset&&r.setOffset(n.scrollOffset),new qc(i,r,n)}function RC(i,r,n={}){return n.useHash?new Qe(i,r):new lt(i,r)}function LA(i){return"guarded"}function Db(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:p_,multi:!0,useValue:i}]}let Sb=(()=>{class i{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ft.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(_=>s=_),u=this.injector.get(Ai),p=this.injector.get(Tl);return"disabled"===p.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),l})}bootstrapListener(n){const s=this.injector.get(Tl),l=this.injector.get(w_),u=this.injector.get(qc),p=this.injector.get(Ai),_=this.injector.get(d.z2F);n===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),l.setUpPreloading(),u.init(),p.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function kC(i){return i.appInitializer.bind(i)}function UA(i){return i.bootstrapListener.bind(i)}const NC=new d.OlP("Router Initializer"),PC=[];let HA=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Ib.forRoot(PC)],Ib]}),i})();var E_=F(3637),zr=F(9126);function mt(){return i=>i.lift(new FC)}class FC{call(r,n){return n.subscribe(new LC(r))}}class LC extends Or.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)}}class Ws{constructor(r,n){this.compare=r,this.keySelector=n}call(r,n){return n.subscribe(new VC(r,this.compare,this.keySelector))}}class VC extends Or.L{constructor(r,n,s){super(r),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(r,n){return r===n}_next(r){let n;try{const{keySelector:l}=this;n=l?l(r):r}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,n)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))}}var Ma=F(8939),xa=(F(6780),F(4486)),Ee=F(8239),C_=F(5452),T_=F(6034),Fd=F(300),$t=F(4685),UC=function(i,r){return(UC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])})(i,r)};function dp(i){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&i[r],s=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Be,I_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jC=jC||{},Ct=I_||self;function hp(){}function HC(i){var r=typeof i;return"array"==(r="object"!=r?r:i?Array.isArray(i)?"array":r:"null")||"object"==r&&"number"==typeof i.length}function fp(i){var r=typeof i;return"object"==r&&null!=i||"function"==r}var D_="closure_uid_"+(1e9*Math.random()>>>0),GC=0;function GA(i,r,n){return i.call.apply(i.bind,arguments)}function Ab(i,r,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(r,l)}}return function(){return i.apply(r,arguments)}}function qr(i,r,n){return(qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GA:Ab).apply(null,arguments)}function Mb(i,r){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Wr(i,r){function n(){}n.prototype=r.prototype,i.Z=r.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(s,l,u){for(var p=Array(arguments.length-2),_=2;_<arguments.length;_++)p[_-2]=arguments[_];return r.prototype[l].apply(s,p)}}function Wc(){this.s=this.s,this.o=this.o}var YR={};Wc.prototype.s=!1,Wc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,D_)&&i[D_]||(i[D_]=++GC)}(this);delete YR[i]}},Wc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $A=Array.prototype.indexOf?function(i,r){return Array.prototype.indexOf.call(i,r,void 0)}:function(i,r){if("string"==typeof i)return"string"!=typeof r||1!=r.length?-1:i.indexOf(r,0);for(var n=0;n<i.length;n++)if(n in i&&i[n]===r)return n;return-1},zA=Array.prototype.forEach?function(i,r,n){Array.prototype.forEach.call(i,r,n)}:function(i,r,n){for(var s=i.length,l="string"==typeof i?i.split(""):i,u=0;u<s;u++)u in l&&r.call(n,l[u],u,i)};function qA(i){return Array.prototype.concat.apply([],arguments)}function $C(i){var r=i.length;if(0<r){for(var n=Array(r),s=0;s<r;s++)n[s]=i[s];return n}return[]}function Ys(i){return/^[\s\xa0]*$/.test(i)}var Rr,S_=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function li(i,r){return-1!=i.indexOf(r)}function A_(i,r){return i<r?-1:i>r?1:0}e:{var xb=Ct.navigator;if(xb){var M_=xb.userAgent;if(M_){Rr=M_;break e}}Rr=""}function Ob(i,r,n){for(var s in i)r.call(n,i[s],s,i)}function Ra(i){var r={};for(var n in i)r[n]=i[n];return r}var Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zC(i,r){for(var n,s,l=1;l<arguments.length;l++){for(n in s=arguments[l])i[n]=s[n];for(var u=0;u<Rb.length;u++)n=Rb[u],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function qC(i){return qC[" "](i),i}qC[" "]=hp;var ka,i,WA=li(Rr,"Opera"),Yc=li(Rr,"Trident")||li(Rr,"MSIE"),WC=li(Rr,"Edge"),Nb=WC||Yc,Ld=li(Rr,"Gecko")&&!(li(Rr.toLowerCase(),"webkit")&&!li(Rr,"Edge"))&&!(li(Rr,"Trident")||li(Rr,"MSIE"))&&!li(Rr,"Edge"),Vd=li(Rr.toLowerCase(),"webkit")&&!li(Rr,"Edge");function x_(){var i=Ct.document;return i?i.documentMode:void 0}e:{var Zc="",Dl=(i=Rr,Ld?/rv:([^\);]+)(\)|;)/.exec(i):WC?/Edge\/([\d\.]+)/.exec(i):Yc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Vd?/WebKit\/(\S+)/.exec(i):WA?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Dl&&(Zc=Dl?Dl[1]:""),Yc){var Pb=x_();if(null!=Pb&&Pb>parseFloat(Zc)){ka=String(Pb);break e}}ka=Zc}var YC={};function ZC(){return r=YC,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var i=0,r=S_(String(ka)).split("."),n=S_("9").split("."),s=Math.max(r.length,n.length),l=0;0==i&&l<s;l++){var u=r[l]||"",p=n[l]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;i=A_(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||A_(0==u[2].length,0==p[2].length)||A_(u[2],p[2]),u=u[3],p=p[3]}while(0==i)}return 0<=i}();var r}var KC=Ct.document&&Yc&&(x_()||parseInt(ka,10))||void 0,R_=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var i=!1,r=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ct.addEventListener("test",hp,r),Ct.removeEventListener("test",hp,r)}catch(n){}return i}();function Yr(i,r){this.type=i,this.g=this.target=r,this.defaultPrevented=!1}function Bd(i,r){if(Yr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=r,r=i.relatedTarget){if(Ld){e:{try{qC(r.nodeName);var l=!0;break e}catch(u){}l=!1}l||(r=null)}}else"mouseover"==n?r=i.fromElement:"mouseout"==n&&(r=i.toElement);this.relatedTarget=r,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:KR[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Bd.Z.h.call(this)}}Yr.prototype.h=function(){this.defaultPrevented=!0},Wr(Bd,Yr);var KR={2:"touch",3:"pen",4:"mouse"};Bd.prototype.h=function(){Bd.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),QC=0;function YA(i,r,n,s,l){this.listener=i,this.proxy=null,this.src=r,this.type=n,this.capture=!!s,this.ia=l,this.key=++QC,this.ca=this.fa=!1}function gp(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function k_(i){this.src=i,this.g={},this.h=0}function Fb(i,r){var n=r.type;if(n in i.g){var u,s=i.g[n],l=$A(s,r);(u=0<=l)&&Array.prototype.splice.call(s,l,1),u&&(gp(r),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ci(i,r,n,s){for(var l=0;l<i.length;++l){var u=i[l];if(!u.ca&&u.listener==r&&u.capture==!!n&&u.ia==s)return l}return-1}k_.prototype.add=function(i,r,n,s,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var p=ci(i,r,s,l);return-1<p?(r=i[p],n||(r.fa=!1)):((r=new YA(r,this.src,u,!!s,l)).fa=n,i.push(r)),r};var Lb="closure_lm_"+(1e6*Math.random()|0),Vb={};function ZA(i,r,n,s,l){if(s&&s.once)return QA(i,r,n,s,l);if(Array.isArray(r)){for(var u=0;u<r.length;u++)ZA(i,r[u],n,s,l);return null}return n=N_(n),i&&i[Ud]?i.N(r,n,fp(s)?!!s.capture:!!s,l):KA(i,r,n,!1,s,l)}function KA(i,r,n,s,l,u){if(!r)throw Error("Invalid event type");var p=fp(l)?!!l.capture:!!l,_=Ub(i);if(_||(i[Lb]=_=new k_(i)),(n=_.add(r,n,s,p,u)).proxy)return n;if(s=function(){var r=JA;return function i(n){return r.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)R_||(l=p),void 0===l&&(l=!1),i.addEventListener(r.toString(),s,l);else if(i.attachEvent)i.attachEvent(Bb(r.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function QA(i,r,n,s,l){if(Array.isArray(r)){for(var u=0;u<r.length;u++)QA(i,r[u],n,s,l);return null}return n=N_(n),i&&i[Ud]?i.O(r,n,fp(s)?!!s.capture:!!s,l):KA(i,r,n,!0,s,l)}function XC(i,r,n,s,l){if(Array.isArray(r))for(var u=0;u<r.length;u++)XC(i,r[u],n,s,l);else s=fp(s)?!!s.capture:!!s,n=N_(n),i&&i[Ud]?(i=i.i,(r=String(r).toString())in i.g&&-1<(n=ci(u=i.g[r],n,s,l))&&(gp(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete i.g[r],i.h--))):i&&(i=Ub(i))&&(r=i.g[r.toString()],i=-1,r&&(i=ci(r,n,s,l)),(n=-1<i?r[i]:null)&&mp(n))}function mp(i){if("number"!=typeof i&&i&&!i.ca){var r=i.src;if(r&&r[Ud])Fb(r.i,i);else{var n=i.type,s=i.proxy;r.removeEventListener?r.removeEventListener(n,s,i.capture):r.detachEvent?r.detachEvent(Bb(n),s):r.addListener&&r.removeListener&&r.removeListener(s),(n=Ub(r))?(Fb(n,i),0==n.h&&(n.src=null,r[Lb]=null)):gp(i)}}}function Bb(i){return i in Vb?Vb[i]:Vb[i]="on"+i}function JA(i,r){if(i.ca)i=!0;else{r=new Bd(r,this);var n=i.listener,s=i.ia||i.src;i.fa&&mp(i),i=n.call(s,r)}return i}function Ub(i){return(i=i[Lb])instanceof k_?i:null}var jb="__closure_events_fn_"+(1e9*Math.random()>>>0);function N_(i){return"function"==typeof i?i:(i[jb]||(i[jb]=function(r){return i.handleEvent(r)}),i[jb])}function pr(){Wc.call(this),this.i=new k_(this),this.P=this,this.I=null}function gr(i,r){var n,s=i.I;if(s)for(n=[];s;s=s.I)n.push(s);if(i=i.P,s=r.type||r,"string"==typeof r)r=new Yr(r,i);else if(r instanceof Yr)r.target=r.target||i;else{var l=r;zC(r=new Yr(s,i),l)}if(l=!0,n)for(var u=n.length-1;0<=u;u--){var p=r.g=n[u];l=P_(p,s,!0,r)&&l}if(l=P_(p=r.g=i,s,!0,r)&&l,l=P_(p,s,!1,r)&&l,n)for(u=0;u<n.length;u++)l=P_(p=r.g=n[u],s,!1,r)&&l}function P_(i,r,n,s){if(!(r=i.i.g[String(r)]))return!0;r=r.concat();for(var l=!0,u=0;u<r.length;++u){var p=r[u];if(p&&!p.ca&&p.capture==n){var _=p.listener,E=p.ia||p.src;p.fa&&Fb(i.i,p),l=!1!==_.call(E,s)&&l}}return l&&!s.defaultPrevented}Wr(pr,Wc),pr.prototype[Ud]=!0,pr.prototype.removeEventListener=function(i,r,n,s){XC(this,i,r,n,s)},pr.prototype.M=function(){if(pr.Z.M.call(this),this.i){var r,i=this.i;for(r in i.g){for(var n=i.g[r],s=0;s<n.length;s++)gp(n[s]);delete i.g[r],i.h--}}this.I=null},pr.prototype.N=function(i,r,n,s){return this.i.add(String(i),r,!1,n,s)},pr.prototype.O=function(i,r,n,s){return this.i.add(String(i),r,!0,n,s)};var Hb=Ct.JSON.stringify;function eT(){var i=rT,r=null;return i.g&&(r=i.g,i.g=i.g.next,i.g||(i.h=null),r.next=null),r}var zb,tT=function(){function i(){this.h=this.g=null}return i.prototype.add=function(r,n){var s=nT.get();s.set(r,n),this.h?this.h.next=s:this.g=s,this.h=s},i}(),nT=new(function(){function i(r,n){this.i=r,this.j=n,this.h=0,this.g=null}return i.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},i}())(function(){return new Vo},function(i){return i.reset()}),Vo=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(r,n){this.h=r,this.g=n,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function Gb(i){Ct.setTimeout(function(){throw i},0)}function $b(i,r){zb||function(){var i=Ct.Promise.resolve(void 0);zb=function(){i.then(XA)}}(),F_||(zb(),F_=!0),rT.add(i,r)}var F_=!1,rT=new tT;function XA(){for(var i;i=eT();){try{i.h.call(i.g)}catch(n){Gb(n)}var r=nT;r.j(i),100>r.h&&(r.h++,i.next=r.g,r.g=i)}F_=!1}function L_(i,r){pr.call(this),this.h=i||1,this.g=r||Ct,this.j=qr(this.kb,this),this.l=Date.now()}function _p(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function qb(i,r,n){if("function"==typeof i)n&&(i=qr(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=qr(i.handleEvent,i)}return 2147483647<Number(r)?-1:Ct.setTimeout(i,r||0)}function iT(i){i.g=qb(function(){i.g=null,i.i&&(i.i=!1,iT(i))},i.j);var r=i.h;i.h=null,i.m.apply(null,r)}Wr(L_,pr),(Be=L_.prototype).da=!1,Be.S=null,Be.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gr(this,"tick"),this.da&&(_p(this),this.start()))}},Be.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Be.M=function(){L_.Z.M.call(this),_p(this),delete this.g};var V_=function(i){function r(n,s){var l=i.call(this)||this;return l.m=n,l.j=s,l.h=null,l.i=!1,l.g=null,l}return function(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=i}UC(i,r),i.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}(r,i),r.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:iT(this)},r.prototype.M=function(){i.prototype.M.call(this),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Wc);function Kc(i){Wc.call(this),this.h=i,this.g={}}Wr(Kc,Wc);var sT=[];function B_(i,r,n,s){Array.isArray(n)||(n&&(sT[0]=n.toString()),n=sT);for(var l=0;l<n.length;l++){var u=ZA(r,n[l],s||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function U_(i){Ob(i.g,function(r,n){this.g.hasOwnProperty(n)&&mp(r)},i),i.g={}}function yp(){this.g=!0}function Sl(i,r,n,s){i.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(i,r){if(!i.g)return r;if(!r)return null;try{var n=JSON.parse(r);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var p=1;p<l.length;p++)l[p]=""}}}return Hb(n)}catch(_){return r}}(i,n)+(s?" "+s:"")})}Kc.prototype.M=function(){Kc.Z.M.call(this),U_(this)},Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yp.prototype.Aa=function(){this.g=!1},yp.prototype.info=function(){};var Al={},Wb=null;function vp(){return Wb=Wb||new pr}function Yb(i){Yr.call(this,Al.Ma,i)}function jd(i){var r=vp();gr(r,new Yb(r,i))}function Bo(i,r){Yr.call(this,Al.STAT_EVENT,i),this.stat=r}function mr(i){var r=vp();gr(r,new Bo(r,i))}function oT(i,r){Yr.call(this,Al.Na,i),this.size=r}function bp(i,r){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){i()},r)}Al.Ma="serverreachability",Wr(Yb,Yr),Al.STAT_EVENT="statevent",Wr(Bo,Yr),Al.Na="timingevent",Wr(oT,Yr);var Zb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function j_(){}function Gd(){}j_.prototype.h=null;var Kb,wp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ep(){Yr.call(this,"d")}function H_(){Yr.call(this,"c")}function Cp(){}function Tp(i,r,n,s){this.l=i,this.j=r,this.m=n,this.X=s||1,this.V=new Kc(this),this.P=rM,this.W=new L_(i=Nb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new G_}function G_(){this.i=null,this.g="",this.h=!1}Wr(Ep,Yr),Wr(H_,Yr),Wr(Cp,j_),Cp.prototype.g=function(){return new XMLHttpRequest},Cp.prototype.i=function(){return{}},Kb=new Cp;var rM=45e3,Qb={},Ip={};function Ml(i,r,n){i.K=1,i.v=W_(Na(r)),i.s=n,i.U=!0,Jb(i,null)}function Jb(i,r){i.F=Date.now(),Dp(i),i.A=Na(i.v);var n=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),pT(n.h,"t",s),i.C=0,n=i.l.H,i.h=new G_,i.g=hw(i.l,n?r:null,!i.s),0<i.O&&(i.L=new V_(qr(i.Ia,i,i.g),i.O)),B_(i.V,i.g,"readystatechange",i.gb),r=i.H?Ra(i.H):{},i.s?(i.u||(i.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,r)):(i.u="GET",i.g.ea(i.A,i.u,null,r)),jd(1),function(i,r,n,s,l,u){i.info(function(){if(i.g)if(u)for(var p="",_=u.split("&"),E=0;E<_.length;E++){var D=_[E].split("=");if(1<D.length){var A=D[0];D=D[1];var O=A.split("_");p=2<=O.length&&"type"==O[1]?p+(A+"=")+D+"&":p+(A+"=redacted&")}}else p=null;else p=u;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+r+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.X,i.s)}function aT(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function lT(i,r,n){for(var l,s=!0;!i.I&&i.C<n.length;){if((l=$d(i,n))==Ip){4==r&&(i.o=4,mr(14),s=!1),Sl(i.j,i.m,null,"[Incomplete Response]");break}if(l==Qb){i.o=4,mr(15),Sl(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Sl(i.j,i.m,l,null),Xb(i,l)}aT(i)&&l!=Ip&&l!=Qb&&(i.h.g="",i.C=0),4!=r||0!=n.length||i.h.h||(i.o=1,mr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.aa&&(i.aa=!0,(r=i.l).g==i&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),X_(r),r.L=!0,mr(11))):(Sl(i.j,i.m,n,"[Invalid Chunked Response]"),zd(i),Sp(i))}function $d(i,r){var n=i.C,s=r.indexOf("\n",n);return-1==s?Ip:(n=Number(r.substring(n,s)),isNaN(n)?Qb:(s+=1)+n>r.length?Ip:(r=r.substr(s,n),i.C=s+n,r))}function Dp(i){i.Y=Date.now()+i.P,cT(i,i.P)}function cT(i,r){if(null!=i.B)throw Error("WatchDog timer not null");i.B=bp(qr(i.eb,i),r)}function $_(i){i.B&&(Ct.clearTimeout(i.B),i.B=null)}function Sp(i){0==i.l.G||i.I||lw(i.l,i)}function zd(i){$_(i);var r=i.L;r&&"function"==typeof r.na&&r.na(),i.L=null,_p(i.W),U_(i.V),i.g&&(r=i.g,i.g=null,r.abort(),r.na())}function Xb(i,r){try{var n=i.l;if(0!=n.G&&(n.g==i||gT(n.i,i)))if(n.I=i.N,!i.J&&gT(n.i,i)&&3==n.G){try{var s=n.Ca.g.parse(r)}catch(Te){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(n.u)n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=bp(qr(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;Lp(n),Qd(n)}Rl(n),mr(18)}if(1>=sw(n.i)&&n.ka){try{n.ka()}catch(Te){}n.ka=void 0}}else kl(n,11)}else if((i.J||n.g==i)&&Lp(n),!Ys(r))for(l=n.Ca.g.parse(r),r=0;r<l.length;r++){var u=l[r];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];var p=u[3];null!=p&&(n.ma=p,n.h.info("VER="+n.ma));var _=u[4];null!=_&&(n.za=_,n.h.info("SVER="+n.za));var E=u[5];null!=E&&"number"==typeof E&&0<E&&(n.K=s=1.5*E,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var D=i.g;if(D){var A=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var O=s.i;!O.g&&(li(A,"spdy")||li(A,"quic")||li(A,"h2"))&&(O.j=O.l,O.g=new Set,O.h&&(Ji(O,O.h),O.h=null))}if(s.D){var V=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(s.sa=V,fn(s.F,s.D,V))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var B=i;if((s=n).oa=dw(s,s.H?s.la:null,s.W),B.J){uM(s.i,B);var W=B,pe=s.K;pe&&W.setTimeout(pe),W.B&&($_(W),Dp(W)),s.g=B}else ru(s);0<n.l.length&&Fa(n)}else"stop"!=u[0]&&"close"!=u[0]||kl(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?kl(n,7):Mi(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}jd(4)}catch(Te){}}function qt(i,r){if(i.forEach&&"function"==typeof i.forEach)i.forEach(r,void 0);else if(HC(i)||"string"==typeof i)zA(i,r,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(HC(i)||"string"==typeof i){n=[];for(var s=i.length,l=0;l<s;l++)n.push(l)}else for(l in n=[],s=0,i)n[s++]=l;l=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(HC(i)){for(var r=[],n=i.length,s=0;s<n;s++)r.push(i[s]);return r}for(s in r=[],n=0,i)r[n++]=i[s];return r}(i)).length;for(var u=0;u<l;u++)r.call(void 0,s[u],n&&n[u],i)}}function xl(i,r){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof xl)for(n=i.T(),s=0;s<n.length;s++)this.set(n[s],i.get(n[s]));else for(s in i)this.set(s,i[s])}function dT(i){if(i.i!=i.g.length){for(var r=0,n=0;r<i.g.length;){var s=i.g[r];ui(i.h,s)&&(i.g[n++]=s),r++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=r=0;r<i.g.length;)ui(l,s=i.g[r])||(i.g[n++]=s,l[s]=1),r++;i.g.length=n}}function ui(i,r){return Object.prototype.hasOwnProperty.call(i,r)}(Be=Tp.prototype).setTimeout=function(i){this.P=i},Be.gb=function(i){i=i.target;var r=this.L;r&&3==Zs(i)?r.l():this.Ia(i)},Be.Ia=function(i){try{if(i==this.g)e:{var r=Zs(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>r)&&(3!=r||Nb||this.g&&(this.h.h||this.g.ga()||Ks(this.g)))){this.I||4!=r||7==n||jd(8==n||0>=s?3:2),$_(this);var l=this.g.ba();this.N=l;t:if(aT(this)){var u=Ks(this.g);i="";var p=u.length,_=4==Zs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){zd(this),Sp(this);var E="";break t}this.h.i=new Ct.TextDecoder}for(n=0;n<p;n++)this.h.h=!0,i+=this.h.i.decode(u[n],{stream:_&&n==p-1});u.splice(0,p),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==l,function(i,r,n,s,l,u,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+r+"\n"+n+"\n"+u+" "+p})}(this.j,this.u,this.A,this.m,this.X,r,l),this.i){if(this.$&&!this.J){t:{if(this.g){var D,A=this.g;if((D=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ys(D)){var O=D;break t}}O=null}if(!(l=O)){this.i=!1,this.o=3,mr(12),zd(this),Sp(this);break e}Sl(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xb(this,l)}this.U?(lT(this,r,E),Nb&&this.i&&3==r&&(B_(this.V,this.W,"tick",this.fb),this.W.start())):(Sl(this.j,this.m,E,null),Xb(this,E)),4==r&&zd(this),this.i&&!this.I&&(4==r?lw(this.l,this):(this.i=!1,Dp(this)))}else 400==l&&0<E.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),zd(this),Sp(this)}}}catch(V){}},Be.fb=function(){if(this.g){var i=Zs(this.g),r=this.g.ga();this.C<r.length&&($_(this),lT(this,i,r),this.i&&4!=i&&Dp(this))}},Be.cancel=function(){this.I=!0,zd(this)},Be.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,r){i.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(jd(3),mr(17)),zd(this),this.o=2,Sp(this)):cT(this,this.Y-i)},(Be=xl.prototype).R=function(){dT(this);for(var i=[],r=0;r<this.g.length;r++)i.push(this.h[this.g[r]]);return i},Be.T=function(){return dT(this),this.g.concat()},Be.get=function(i,r){return ui(this.h,i)?this.h[i]:r},Be.set=function(i,r){ui(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=r},Be.forEach=function(i,r){for(var n=this.T(),s=0;s<n.length;s++){var l=n[s],u=this.get(l);i.call(r,u,l,this)}};var z_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qd(i,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof qd){this.g=void 0!==r?r:i.g,q_(this,i.j),this.s=i.s,Ap(this,i.i),Mp(this,i.m),this.l=i.l,r=i.h;var n=new Op;n.i=r.i,r.g&&(n.g=new xl(r.g),n.h=r.h),tw(this,n),this.o=i.o}else i&&(n=String(i).match(z_))?(this.g=!!r,q_(this,n[1]||"",!0),this.s=Jc(n[2]||""),Ap(this,n[3]||"",!0),Mp(this,n[4]),this.l=Jc(n[5]||"",!0),tw(this,n[6]||"",!0),this.o=Jc(n[7]||"")):(this.g=!!r,this.h=new Op(null,this.g))}function Na(i){return new qd(i)}function q_(i,r,n){i.j=n?Jc(r,!0):r,i.j&&(i.j=i.j.replace(/:$/,""))}function Ap(i,r,n){i.i=n?Jc(r,!0):r}function Mp(i,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);i.m=r}else i.m=null}function tw(i,r,n){r instanceof Op?(i.h=r,function(i,r){r&&!i.j&&(Pa(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(lM(this,s),pT(this,l,n))},i)),i.j=r}(i.h,i.g)):(n||(r=Wd(r,oM)),i.h=new Op(r,i.g))}function fn(i,r,n){i.h.set(r,n)}function W_(i){return fn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Jc(i,r){return i?r?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wd(i,r,n){return"string"==typeof i?(i=encodeURI(i).replace(r,hT),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function hT(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}qd.prototype.toString=function(){var i=[],r=this.j;r&&i.push(Wd(r,nw,!0),":");var n=this.i;return(n||"file"==r)&&(i.push("//"),(r=this.s)&&i.push(Wd(r,nw,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Wd(n,"/"==n.charAt(0)?sM:fT,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Wd(n,aM)),i.join("")};var nw=/[#\/\?@]/g,fT=/[#\?:]/g,sM=/[#\?]/g,oM=/[#\?@]/g,aM=/#/g;function Op(i,r){this.h=this.g=null,this.i=i||null,this.j=!!r}function Pa(i){i.g||(i.g=new xl,i.h=0,i.i&&function(i,r){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var u=i[n].substring(0,s);l=i[n].substring(s+1)}else u=i[n];r(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(r,n){i.add(decodeURIComponent(r.replace(/\+/g," ")),n)}))}function lM(i,r){Pa(i),r=Yd(i,r),ui(i.g.h,r)&&(i.i=null,i.h-=i.g.get(r).length,ui((i=i.g).h,r)&&(delete i.h[r],i.i--,i.g.length>2*i.i&&dT(i)))}function rw(i,r){return Pa(i),r=Yd(i,r),ui(i.g.h,r)}function pT(i,r,n){lM(i,r),0<n.length&&(i.i=null,i.g.set(Yd(i,r),$C(n)),i.h+=n.length)}function Yd(i,r){return r=String(r),i.j&&(r=r.toLowerCase()),r}(Be=Op.prototype).add=function(i,r){Pa(this),this.i=null,i=Yd(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(r),this.h+=1,this},Be.forEach=function(i,r){Pa(this),this.g.forEach(function(n,s){zA(n,function(l){i.call(r,l,s,this)},this)},this)},Be.T=function(){Pa(this);for(var i=this.g.R(),r=this.g.T(),n=[],s=0;s<r.length;s++)for(var l=i[s],u=0;u<l.length;u++)n.push(r[s]);return n},Be.R=function(i){Pa(this);var r=[];if("string"==typeof i)rw(this,i)&&(r=qA(r,this.g.get(Yd(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)r=qA(r,i[n])}return r},Be.set=function(i,r){return Pa(this),this.i=null,rw(this,i=Yd(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[r]),this.h+=1,this},Be.get=function(i,r){return i&&0<(i=this.R(i)).length?String(i[0]):r},Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],r=this.g.T(),n=0;n<r.length;n++){var s=r[n],l=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var p=l;""!==s[u]&&(p+="="+encodeURIComponent(String(s[u]))),i.push(p)}}return this.i=i.join("&")};var ek=function(r,n){this.h=r,this.g=n};function Y_(i){this.l=i||cM,i=Ct.PerformanceNavigationTiming?0<(i=Ct.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cM=10;function iw(i){return!!i.h||!!i.g&&i.g.size>=i.j}function sw(i){return i.h?1:i.g?i.g.size:0}function gT(i,r){return i.h?i.h==r:!!i.g&&i.g.has(r)}function Ji(i,r){i.g?i.g.add(r):i.h=r}function uM(i,r){i.h&&i.h==r?i.h=null:i.g&&i.g.has(r)&&i.g.delete(r)}function dM(i){var r,n;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var s=i.i;try{for(var l=dp(i.g.values()),u=l.next();!u.done;u=l.next())s=s.concat(u.value.D)}catch(_){r={error:_}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s}return $C(i.i)}function mT(){}function _T(){this.g=new mT}function yT(i,r,n){var s=n||"";try{qt(i,function(l,u){var p=l;fp(l)&&(p=Hb(l)),r.push(s+u+"="+encodeURIComponent(p))})}catch(l){throw r.push(s+"type="+encodeURIComponent("_badmap")),l}}function Z_(i,r,n,s,l){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,l(s)}catch(u){}}function K_(i){this.l=i.$b||null,this.j=i.ib||!1}function Rp(i,r){pr.call(this),this.D=i,this.u=r,this.m=void 0,this.readyState=kp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Y_.prototype.cancel=function(){var i,r;if(this.i=dM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=dp(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(u){i={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}this.g.clear()}},mT.prototype.stringify=function(i){return Ct.JSON.stringify(i,void 0)},mT.prototype.parse=function(i){return Ct.JSON.parse(i,void 0)},Wr(K_,j_),K_.prototype.g=function(){return new Rp(this.l,this.j)},K_.prototype.i=function(i){return function(){return i}}({}),Wr(Rp,pr);var kp=0;function bT(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Xc(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Np(i)}function Np(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Be=Rp.prototype).open=function(i,r){if(this.readyState!=kp)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=r,this.readyState=1,Np(this)},Be.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(r.body=i),(this.D||Ct).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xc(this)),this.readyState=kp},Be.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Np(this)),this.g&&(this.readyState=3,Np(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bT(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Be.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var r=i.value?i.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!i.done}))&&(this.response=this.responseText+=r)}i.done?Xc(this):Np(this),3==this.readyState&&bT(this)}},Be.Ua=function(i){this.g&&(this.response=this.responseText=i,Xc(this))},Be.Ta=function(i){this.g&&(this.response=i,Xc(this))},Be.ha=function(){this.g&&Xc(this)},Be.setRequestHeader=function(i,r){this.v.append(i,r)},Be.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Be.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],r=this.h.entries(),n=r.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=r.next();return i.join("\r\n")},Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var hM=Ct.JSON.parse;function Yn(i){pr.call(this),this.headers=new xl,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wT,this.K=this.L=!1}Wr(Yn,pr);var wT="",fM=/^https?$/i,pM=["POST","PUT"];function Zd(i){return"content-type"==i.toLowerCase()}function ow(i,r){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=r,i.m=5,Es(i),J_(i)}function Es(i){i.D||(i.D=!0,gr(i,"complete"),gr(i,"error"))}function Kd(i){if(i.h&&void 0!==jC&&(!i.C[1]||4!=Zs(i)||2!=i.ba()))if(i.v&&4==Zs(i))qb(i.Fa,0,i);else if(gr(i,"readystatechange"),4==Zs(i)){i.h=!1;try{var s,r=i.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var l;if(l=0===r){var u=String(i.H).match(z_)[1]||null;if(!u&&Ct.self&&Ct.self.location){var p=Ct.self.location.protocol;u=p.substr(0,p.length-1)}l=!fM.test(u?u.toLowerCase():"")}s=l}if(s)gr(i,"complete"),gr(i,"success");else{i.m=6;try{var _=2<Zs(i)?i.g.statusText:""}catch(E){_=""}i.j=_+" ["+i.ba()+"]",Es(i)}}finally{J_(i)}}}function J_(i,r){if(i.g){ET(i);var n=i.g,s=i.C[0]?hp:null;i.g=null,i.C=null,r||gr(i,"ready");try{n.onreadystatechange=s}catch(l){}}}function ET(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ct.clearTimeout(i.A),i.A=null)}function Zs(i){return i.g?i.g.readyState:0}function Ks(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case wT:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(r){return null}}function _r(i,r,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(i){var r="";return Ob(i,function(n,s){r+=s,r+=":",r+=n,r+="\r\n"}),r}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):fn(i,r,n))}function Qs(i,r,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||r}function Fp(i){this.za=0,this.l=[],this.h=new yp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qs("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qs("baseRetryDelayMs",5e3,i),this.$a=Qs("retryDelaySeedMs",1e4,i),this.Ya=Qs("forwardChannelMaxRetries",2,i),this.ra=Qs("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Y_(i&&i.concurrentRequestLimit),this.Ca=new _T,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Mi(i){if(eu(i),3==i.G){var r=i.V++,n=Na(i.F);fn(n,"SID",i.J),fn(n,"RID",r),fn(n,"TYPE","terminate"),Uo(i,n),(r=new Tp(i,i.h,r,void 0)).K=2,r.v=W_(Na(n)),n=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(n=Ct.navigator.sendBeacon(r.v.toString(),"")),!n&&Ct.Image&&((new Image).src=r.v,n=!0),n||(r.g=hw(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Dp(r)}uw(i)}function Qd(i){i.g&&(X_(i),i.g.cancel(),i.g=null)}function eu(i){Qd(i),i.u&&(Ct.clearTimeout(i.u),i.u=null),Lp(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ct.clearTimeout(i.m),i.m=null)}function Ol(i,r){i.l.push(new ek(i.Za++,r)),3==i.G&&Fa(i)}function Fa(i){iw(i.i)||i.m||(i.m=!0,$b(i.Ha,i),i.C=0)}function tu(i,r){var n;n=r?r.m:i.V++;var s=Na(i.F);fn(s,"SID",i.J),fn(s,"RID",n),fn(s,"AID",i.U),Uo(i,s),i.o&&i.s&&_r(s,i.o,i.s),n=new Tp(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),r&&(i.l=r.D.concat(i.l)),r=nu(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Ji(i.i,n),Ml(n,s,r)}function Uo(i,r){i.j&&qt({},function(n,s){fn(r,s,n)})}function nu(i,r,n){n=Math.min(i.l.length,n);var s=i.j?qr(i.j.Oa,i.j,i):null;e:for(var l=i.l,u=-1;;){var p=["count="+n];-1==u?0<n?p.push("ofs="+(u=l[0].h)):u=0:p.push("ofs="+u);for(var _=!0,E=0;E<n;E++){var D=l[E].h,A=l[E].g;if(0>(D-=u))u=Math.max(0,l[E].h-100),_=!1;else try{yT(A,p,"req"+D+"_")}catch(O){s&&s(A)}}if(_){s=p.join("&");break e}}return i=i.l.splice(0,n),r.D=i,s}function ru(i){i.g||i.u||(i.Y=1,$b(i.Ga,i),i.A=0)}function Rl(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=bp(qr(i.Ga,i),cw(i,i.A)),i.A++,0))}function X_(i){null!=i.B&&(Ct.clearTimeout(i.B),i.B=null)}function aw(i){i.g=new Tp(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var r=Na(i.oa);fn(r,"RID","rpc"),fn(r,"SID",i.J),fn(r,"CI",i.N?"0":"1"),fn(r,"AID",i.U),Uo(i,r),fn(r,"TYPE","xmlhttp"),i.o&&i.s&&_r(r,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=W_(Na(r)),n.s=null,n.U=!0,Jb(n,i)}function Lp(i){null!=i.v&&(Ct.clearTimeout(i.v),i.v=null)}function lw(i,r){var n=null;if(i.g==r){Lp(i),X_(i),i.g=null;var s=2}else{if(!gT(i.i,r))return;n=r.D,uM(i.i,r),s=1}if(i.I=r.N,0!=i.G)if(r.i)if(1==s){n=r.s?r.s.length:0,r=Date.now()-r.F;var l=i.C;gr(s=vp(),new oT(s,n,r,l)),Fa(i)}else ru(i);else if(3==(l=r.o)||0==l&&0<i.I||!(1==s&&function(i,r){return!(sw(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=r.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=bp(qr(i.Ha,i,r),cw(i,i.C)),i.C++,0)))}(i,r)||2==s&&Rl(i)))switch(n&&0<n.length&&(r=i.i,r.i=r.i.concat(n)),l){case 1:kl(i,5);break;case 4:kl(i,10);break;case 3:kl(i,6);break;default:kl(i,2)}}function cw(i,r){var n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*r}function kl(i,r){if(i.h.info("Error code "+r),2==r){var n=null;i.j&&(n=null);var s=qr(i.jb,i);n||(n=new qd("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||q_(n,"https"),W_(n)),function(i,r){var n=new yp;if(Ct.Image){var s=new Image;s.onload=Mb(Z_,n,s,"TestLoadImage: loaded",!0,r),s.onerror=Mb(Z_,n,s,"TestLoadImage: error",!1,r),s.onabort=Mb(Z_,n,s,"TestLoadImage: abort",!1,r),s.ontimeout=Mb(Z_,n,s,"TestLoadImage: timeout",!1,r),Ct.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else r(!1)}(n.toString(),s)}else mr(2);i.G=0,i.j&&i.j.va(r),uw(i),eu(i)}function uw(i){i.G=0,i.I=-1,i.j&&((0!=dM(i.i).length||0!=i.l.length)&&(i.i.i.length=0,$C(i.l),i.l.length=0),i.j.ua())}function dw(i,r,n){var s=function(i){return i instanceof qd?Na(i):new qd(i,void 0)}(n);if(""!=s.i)r&&Ap(s,r+"."+s.i),Mp(s,s.m);else{var l=Ct.location;s=function(i,r,n,s){var l=new qd(null,void 0);return i&&q_(l,i),r&&Ap(l,r),n&&Mp(l,n),s&&(l.l=s),l}(l.protocol,r?r+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&Ob(i.aa,function(u,p){fn(s,p,u)}),n=i.sa,(r=i.D)&&n&&fn(s,r,n),fn(s,"VER",i.ma),Uo(i,s),s}function hw(i,r,n){if(r&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Yn(n&&i.Ba&&!i.qa?new K_({ib:!0}):i.qa)).L=i.H,r}function CT(){}function Vp(){if(Yc&&!(10<=Number(KC)))throw Error("Environmental error: no available transport.")}function Xi(i,r){pr.call(this),this.g=new Fp(r),this.l=i,this.h=r&&r.messageUrlParams||null,i=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(i?i["X-WebChannel-Content-Type"]=r.messageContentType:i={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(i?i["X-WebChannel-Client-Profile"]=r.ya:i={"X-WebChannel-Client-Profile":r.ya}),this.g.P=i,(i=r&&r.httpHeadersOverwriteParam)&&!Ys(i)&&(this.g.o=i),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Ys(r)&&(this.g.D=r,null!==(i=this.h)&&r in i&&r in(i=this.h)&&delete i[r]),this.j=new Xd(this)}function fw(i){Ep.call(this);var r=i.__sm__;if(r){e:{for(var n in r){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,r=null!==r&&i in r?r[i]:void 0),this.data=r}else this.data=i}function pw(){H_.call(this),this.status=1}function Xd(i){this.g=i}(Be=Yn.prototype).ea=function(i,r,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);r=r?r.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kb.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Kb),this.g.onreadystatechange=qr(this.Fa,this);try{this.F=!0,this.g.open(r,String(i),!0),this.F=!1}catch(u){return void ow(this,u)}i=n||"";var l=new xl(this.headers);s&&qt(s,function(u,p){l.set(p,u)}),s=function(i){e:{for(var r=Zd,n=i.length,s="string"==typeof i?i.split(""):i,l=0;l<n;l++)if(l in s&&r.call(void 0,s[l],l,i)){r=l;break e}r=-1}return 0>r?null:"string"==typeof i?i.charAt(r):i[r]}(l.T()),n=Ct.FormData&&i instanceof Ct.FormData,!(0<=$A(pM,r))||s||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(u,p){this.g.setRequestHeader(p,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ET(this),0<this.B&&((this.K=function(i){return Yc&&ZC()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qr(this.pa,this)):this.A=qb(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){ow(this,u)}},Be.pa=function(){void 0!==jC&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gr(this,"timeout"),this.abort(8))},Be.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gr(this,"complete"),gr(this,"abort"),J_(this))},Be.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),J_(this,!0)),Yn.Z.M.call(this)},Be.Fa=function(){this.s||(this.F||this.v||this.l?Kd(this):this.cb())},Be.cb=function(){Kd(this)},Be.ba=function(){try{return 2<Zs(this)?this.g.status:-1}catch(i){return-1}},Be.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Be.Qa=function(i){if(this.g){var r=this.g.responseText;return i&&0==r.indexOf(i)&&(r=r.substring(i.length)),hM(r)}},Be.Da=function(){return this.m},Be.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Be=Fp.prototype).ma=8,Be.G=1,Be.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(r){}},Be.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var r=new Tp(this,this.h,i,void 0),n=this.s;if(this.P&&(n?zC(n=Ra(n),this.P):n=this.P),null===this.o&&(r.H=n),this.ja)e:{for(var s=0,l=0;l<this.l.length;l++){var u=this.l[l];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(s+=u)){s=l;break e}if(4096===s||l===this.l.length-1){s=l+1;break e}}s=1e3}else s=1e3;s=nu(this,r,s),fn(l=Na(this.F),"RID",i),fn(l,"CVER",22),this.D&&fn(l,"X-HTTP-Session-Id",this.D),Uo(this,l),this.o&&n&&_r(l,this.o,n),Ji(this.i,r),this.Ra&&fn(l,"TYPE","init"),this.ja?(fn(l,"$req",s),fn(l,"SID","null"),r.$=!0,Ml(r,l,null)):Ml(r,l,s),this.G=2}}else 3==this.G&&(i?tu(this,i):0==this.l.length||iw(this.i)||tu(this))},Be.Ga=function(){if(this.u=null,aw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=bp(qr(this.bb,this),i)}},Be.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mr(10),Qd(this),aw(this))},Be.ab=function(){null!=this.v&&(this.v=null,Qd(this),Rl(this),mr(19))},Be.jb=function(i){i?(this.h.info("Successfully pinged google.com"),mr(2)):(this.h.info("Failed to ping google.com"),mr(1))},(Be=CT.prototype).xa=function(){},Be.wa=function(){},Be.va=function(){},Be.ua=function(){},Be.Oa=function(){},Vp.prototype.g=function(i,r){return new Xi(i,r)},Wr(Xi,pr),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,r=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),$b(qr(i.hb,i,r))),mr(0),i.W=r,i.aa=n||{},i.N=i.X,i.F=dw(i,null,i.W),Fa(i)},Xi.prototype.close=function(){Mi(this.g)},Xi.prototype.u=function(i){if("string"==typeof i){var r={};r.__data__=i,Ol(this.g,r)}else this.v?((r={}).__data__=Hb(i),Ol(this.g,r)):Ol(this.g,i)},Xi.prototype.M=function(){this.g.j=null,delete this.j,Mi(this.g),delete this.g,Xi.Z.M.call(this)},Wr(fw,Ep),Wr(pw,H_),Wr(Xd,CT),Xd.prototype.xa=function(){gr(this.g,"a")},Xd.prototype.wa=function(i){gr(this.g,new fw(i))},Xd.prototype.va=function(i){gr(this.g,new pw(i))},Xd.prototype.ua=function(){gr(this.g,"b")},Vp.prototype.createWebChannel=Vp.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,Zb.NO_ERROR=0,Zb.TIMEOUT=8,Zb.HTTP_ERROR=6,Qc.COMPLETE="complete",Gd.EventType=wp,wp.OPEN="a",wp.CLOSE="b",wp.ERROR="c",wp.MESSAGE="d",pr.prototype.listen=pr.prototype.N,Yn.prototype.listenOnce=Yn.prototype.O,Yn.prototype.getLastError=Yn.prototype.La,Yn.prototype.getLastErrorCode=Yn.prototype.Da,Yn.prototype.getStatus=Yn.prototype.ba,Yn.prototype.getResponseJson=Yn.prototype.Qa,Yn.prototype.getResponseText=Yn.prototype.ga,Yn.prototype.send=Yn.prototype.ea;var Bp=Zb,IT=Qc,gw=Al,mw_PROXY=10,mw_NOPROXY=11,DT=K_,ey=Gd,ST=Yn;class Zr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Zr.UNAUTHENTICATED=new Zr(null),Zr.GOOGLE_CREDENTIALS=new Zr("google-credentials-uid"),Zr.FIRST_PARTY=new Zr("first-party-uid"),Zr.MOCK_USER=new Zr("mock-user");let Up="9.0.2";const Nl=new Fd.Yd("@firebase/firestore");function AT(){return Nl.logLevel}function ke(i,...r){if(Nl.logLevel<=Fd.in.DEBUG){const n=r.map(_w);Nl.debug(`Firestore (${Up}): ${i}`,...n)}}function Ln(i,...r){if(Nl.logLevel<=Fd.in.ERROR){const n=r.map(_w);Nl.error(`Firestore (${Up}): ${i}`,...n)}}function iu(i,...r){if(Nl.logLevel<=Fd.in.WARN){const n=r.map(_w);Nl.warn(`Firestore (${Up}): ${i}`,...n)}}function _w(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function Je(i="Unexpected state"){const r=`FIRESTORE (${Up}) INTERNAL ASSERTION FAILED: `+i;throw Ln(r),new Error(r)}function _t(i,r){i||Je()}function Le(i,r){return i}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Error{constructor(r,n){super(n),this.code=r,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}}class su{constructor(r,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class yM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,n){r.enqueueRetryable(()=>n(Zr.UNAUTHENTICATED))}shutdown(){}}class MT{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,n){this.changeListener=n,r.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vM{constructor(r){this.t=r,this.currentUser=Zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,n){var s=this;let l=this.i;const u=D=>this.i!==l?(l=this.i,n(D)):Promise.resolve();let p=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new yr,r.enqueueRetryable(()=>u(this.currentUser))};const _=()=>{const D=p;r.enqueueRetryable((0,Ee.Z)(function*(){yield D.promise,yield u(s.currentUser)}))},E=D=>{ke("FirebaseCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(ke("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new yr)}},0),_()}getToken(){const r=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==r?(ke("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_t("string"==typeof s.accessToken),new su(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return _t(null===r||"string"==typeof r),new Zr(r)}}class xT{constructor(r,n,s){this.h=r,this.l=n,this.m=s,this.type="FirstParty",this.user=Zr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(r.Authorization=n),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class ty{constructor(r,n,s){this.h=r,this.l=n,this.m=s}getToken(){return Promise.resolve(new xT(this.h,this.l,this.m))}start(r,n){r.enqueueRetryable(()=>n(Zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class es{constructor(r,n){this.previousValue=r,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function OT(i){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}es.T=-1;class RT{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/r.length)*r.length;let s="";for(;s.length<20;){const l=OT(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=r.charAt(l[u]%r.length))}return s}}function Lt(i,r){return i<r?-1:i>r?1:0}function eh(i,r,n){return i.length===r.length&&i.every((s,l)=>n(s,r[l]))}function kT(i){return i+"\0"}class vr{constructor(r,n){if(this.seconds=r,this.nanoseconds=n,n<0)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(r<-62135596800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return vr.fromMillis(Date.now())}static fromDate(r){return vr.fromMillis(r.getTime())}static fromMillis(r){const n=Math.floor(r/1e3),s=Math.floor(1e6*(r-1e3*n));return new vr(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Lt(this.nanoseconds,r.nanoseconds):Lt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Tt(r)}static min(){return new Tt(new vr(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function NT(i){let r=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&r++;return r}function Pl(i,r){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&r(n,i[n])}function yw(i){for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r))return!1;return!0}class ou{constructor(r,n,s){void 0===n?n=0:n>r.length&&Je(),void 0===s?s=r.length-n:s>r.length-n&&Je(),this.segments=r,this.offset=n,this.len=s}get length(){return this.len}isEqual(r){return 0===ou.comparator(this,r)}child(r){const n=this.segments.slice(this.offset,this.limit());return r instanceof ou?r.forEach(s=>{n.push(s)}):n.push(r),this.construct(n)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==r.get(n))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==r.get(n))return!1;return!0}forEach(r){for(let n=this.offset,s=this.limit();n<s;n++)r(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,n){const s=Math.min(r.length,n.length);for(let l=0;l<s;l++){const u=r.get(l),p=n.get(l);if(u<p)return-1;if(u>p)return 1}return r.length<n.length?-1:r.length>n.length?1:0}}class Kt extends ou{construct(r,n,s){return new Kt(r,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const n=[];for(const s of r){if(s.indexOf("//")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Kt(n)}static emptyPath(){return new Kt([])}}const vw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kr extends ou{construct(r,n,s){return new kr(r,n,s)}static isValidIdentifier(r){return vw.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kr(["__name__"])}static fromServerFormat(r){const n=[];let s="",l=0;const u=()=>{if(0===s.length)throw new Me(he.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let p=!1;for(;l<r.length;){const _=r[l];if("\\"===_){if(l+1===r.length)throw new Me(he.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const E=r[l+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Me(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);s+=E,l+=2}else"`"===_?(p=!p,l++):"."!==_||p?(s+=_,l++):(u(),l++)}if(u(),p)throw new Me(he.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new kr(n)}static emptyPath(){return new kr([])}}class jp{constructor(r){this.fields=r,r.sort(kr.comparator)}covers(r){for(const n of this.fields)if(n.isPrefixOf(r))return!0;return!1}isEqual(r){return eh(this.fields,r.fields,(n,s)=>n.isEqual(s))}}class br{constructor(r){this.binaryString=r}static fromBase64String(r){const n=atob(r);return new br(n)}static fromUint8Array(r){const n=function(s){let l="";for(let u=0;u<s.length;++u)l+=String.fromCharCode(s[u]);return l}(r);return new br(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Lt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}br.EMPTY_BYTE_STRING=new br("");const bw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(i){if(_t(!!i),"string"==typeof i){let r=0;const n=bw.exec(i);if(_t(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),r=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:r}}return{seconds:Zn(i.seconds),nanos:Zn(i.nanos)}}function Zn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Fl(i){return"string"==typeof i?br.fromBase64String(i):br.fromUint8Array(i)}function Gp(i){var r,n;return"server_timestamp"===(null===(n=((null===(r=null==i?void 0:i.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ww(i){const r=i.mapValue.fields.__previous_value__;return Gp(r)?ww(r):r}function ny(i){const r=jo(i.mapValue.fields.__local_write_time__.timestampValue);return new vr(r.seconds,r.nanos)}function au(i){return null==i}function th(i){return 0===i&&1/i==-1/0}function ry(i){return"number"==typeof i&&Number.isInteger(i)&&!th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ze{constructor(r){this.path=r}static fromPath(r){return new Ze(Kt.fromString(r))}static fromName(r){return new Ze(Kt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Kt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,n){return Kt.comparator(r.path,n.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Ze(new Kt(r.slice()))}}function Ll(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gp(i)?4:10:Je()}function Cs(i,r){const n=Ll(i);if(n!==Ll(r))return!1;switch(n){case 0:return!0;case 1:return i.booleanValue===r.booleanValue;case 4:return ny(i).isEqual(ny(r));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const u=jo(s.timestampValue),p=jo(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos}(i,r);case 5:return i.stringValue===r.stringValue;case 6:return l=r,Fl(i.bytesValue).isEqual(Fl(l.bytesValue));case 7:return i.referenceValue===r.referenceValue;case 8:return function(s,l){return Zn(s.geoPointValue.latitude)===Zn(l.geoPointValue.latitude)&&Zn(s.geoPointValue.longitude)===Zn(l.geoPointValue.longitude)}(i,r);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Zn(s.integerValue)===Zn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const u=Zn(s.doubleValue),p=Zn(l.doubleValue);return u===p?th(u)===th(p):isNaN(u)&&isNaN(p)}return!1}(i,r);case 9:return eh(i.arrayValue.values||[],r.arrayValue.values||[],Cs);case 10:return function(s,l){const u=s.mapValue.fields||{},p=l.mapValue.fields||{};if(NT(u)!==NT(p))return!1;for(const _ in u)if(u.hasOwnProperty(_)&&(void 0===p[_]||!Cs(u[_],p[_])))return!1;return!0}(i,r);default:return Je()}var l}function nh(i,r){return void 0!==(i.values||[]).find(n=>Cs(n,r))}function Vl(i,r){const n=Ll(i),s=Ll(r);if(n!==s)return Lt(n,s);switch(n){case 0:return 0;case 1:return Lt(i.booleanValue,r.booleanValue);case 2:return function(l,u){const p=Zn(l.integerValue||l.doubleValue),_=Zn(u.integerValue||u.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(i,r);case 3:return iy(i.timestampValue,r.timestampValue);case 4:return iy(ny(i),ny(r));case 5:return Lt(i.stringValue,r.stringValue);case 6:return function(l,u){const p=Fl(l),_=Fl(u);return p.compareTo(_)}(i.bytesValue,r.bytesValue);case 7:return function(l,u){const p=l.split("/"),_=u.split("/");for(let E=0;E<p.length&&E<_.length;E++){const D=Lt(p[E],_[E]);if(0!==D)return D}return Lt(p.length,_.length)}(i.referenceValue,r.referenceValue);case 8:return function(l,u){const p=Lt(Zn(l.latitude),Zn(u.latitude));return 0!==p?p:Lt(Zn(l.longitude),Zn(u.longitude))}(i.geoPointValue,r.geoPointValue);case 9:return function(l,u){const p=l.values||[],_=u.values||[];for(let E=0;E<p.length&&E<_.length;++E){const D=Vl(p[E],_[E]);if(D)return D}return Lt(p.length,_.length)}(i.arrayValue,r.arrayValue);case 10:return function(l,u){const p=l.fields||{},_=Object.keys(p),E=u.fields||{},D=Object.keys(E);_.sort(),D.sort();for(let A=0;A<_.length&&A<D.length;++A){const O=Lt(_[A],D[A]);if(0!==O)return O;const V=Vl(p[_[A]],E[D[A]]);if(0!==V)return V}return Lt(_.length,D.length)}(i.mapValue,r.mapValue);default:throw Je()}}function iy(i,r){if("string"==typeof i&&"string"==typeof r&&i.length===r.length)return Lt(i,r);const n=jo(i),s=jo(r),l=Lt(n.seconds,s.seconds);return 0!==l?l:Lt(n.nanos,s.nanos)}function sy(i){return Ew(i)}function Ew(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=jo(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Fl(i.bytesValue).toBase64():"referenceValue"in i?Ze.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(r=i.geoPointValue).latitude},${r.longitude})`:"arrayValue"in i?function(s){let l="[",u=!0;for(const p of s.values||[])u?u=!1:l+=",",l+=Ew(p);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let u="{",p=!0;for(const _ of l)p?p=!1:u+=",",u+=`${_}:${Ew(s.fields[_])}`;return u+"}"}(i.mapValue):Je();var r}function $p(i,r){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`}}function oy(i){return!!i&&"integerValue"in i}function zp(i){return!!i&&"arrayValue"in i}function Cw(i){return!!i&&"nullValue"in i}function PT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function qp(i){return!!i&&"mapValue"in i}function rh(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const r={mapValue:{fields:{}}};return Pl(i.mapValue.fields,(n,s)=>r.mapValue.fields[n]=rh(s)),r}if(i.arrayValue){const r={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)r.arrayValue.values[n]=rh(i.arrayValue.values[n]);return r}return Object.assign({},i)}class Nr{constructor(r){this.value=r}static empty(){return new Nr({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let n=this.value;for(let s=0;s<r.length-1;++s)if(n=(n.mapValue.fields||{})[r.get(s)],!qp(n))return null;return n=(n.mapValue.fields||{})[r.lastSegment()],n||null}}set(r,n){this.getFieldsMap(r.popLast())[r.lastSegment()]=rh(n)}setAll(r){let n=kr.emptyPath(),s={},l=[];r.forEach((p,_)=>{if(!n.isImmediateParentOf(_)){const E=this.getFieldsMap(n);this.applyChanges(E,s,l),s={},l=[],n=_.popLast()}p?s[_.lastSegment()]=rh(p):l.push(_.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(r){const n=this.field(r.popLast());qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[r.lastSegment()]}isEqual(r){return Cs(this.value,r.value)}getFieldsMap(r){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<r.length;++s){let l=n.mapValue.fields[r.get(s)];qp(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[r.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(r,n,s){Pl(n,(l,u)=>r[l]=u);for(const l of s)delete r[l]}clone(){return new Nr(rh(this.value))}}function ay(i){const r=[];return Pl(i.fields,(n,s)=>{const l=new kr([n]);if(qp(s)){const u=ay(s.mapValue).fields;if(0===u.length)r.push(l);else for(const p of u)r.push(l.child(p))}else r.push(l)}),new jp(r)}class pn{constructor(r,n,s,l,u){this.key=r,this.documentType=n,this.version=s,this.data=l,this.documentState=u}static newInvalidDocument(r){return new pn(r,0,Tt.min(),Nr.empty(),0)}static newFoundDocument(r,n,s){return new pn(r,1,n,s,0)}static newNoDocument(r,n){return new pn(r,2,n,Nr.empty(),0)}static newUnknownDocument(r,n){return new pn(r,3,n,Nr.empty(),2)}convertToFoundDocument(r,n){return this.version=r,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof pn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new pn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class FT{constructor(r,n=null,s=[],l=[],u=null,p=null,_=null){this.path=r,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=p,this.endAt=_,this.A=null}}function Tw(i,r=null,n=[],s=[],l=null,u=null,p=null){return new FT(i,r,n,s,l,u,p)}function ih(i){const r=Le(i);if(null===r.A){let n=r.path.canonicalString();null!==r.collectionGroup&&(n+="|cg:"+r.collectionGroup),n+="|f:",n+=r.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+sy(i.value)}(s)).join(","),n+="|ob:",n+=r.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),au(r.limit)||(n+="|l:",n+=r.limit),r.startAt&&(n+="|lb:",n+=ly(r.startAt)),r.endAt&&(n+="|ub:",n+=ly(r.endAt)),r.A=n}return r.A}function Wp(i,r){if(i.limit!==r.limit||i.orderBy.length!==r.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!jT(i.orderBy[l],r.orderBy[l]))return!1;if(i.filters.length!==r.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(s=r.filters[l]).op||!n.field.isEqual(s.field)||!Cs(n.value,s.value))return!1;var n,s;return i.collectionGroup===r.collectionGroup&&!!i.path.isEqual(r.path)&&!!HT(i.startAt,r.startAt)&&HT(i.endAt,r.endAt)}function Yp(i){return Ze.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Kr extends class{}{constructor(r,n,s){super(),this.field=r,this.op=n,this.value=s}static create(r,n,s){return r.isKeyField()?"in"===n||"not-in"===n?this.R(r,n,s):new bM(r,n,s):"array-contains"===n?new ar(r,s):"in"===n?new UT(r,s):"not-in"===n?new EM(r,s):"array-contains-any"===n?new CM(r,s):new Kr(r,n,s)}static R(r,n,s){return"in"===n?new wM(r,s):new VT(r,s)}matches(r){const n=r.data.field(this.field);return"!="===this.op?null!==n&&this.P(Vl(n,this.value)):null!==n&&Ll(this.value)===Ll(n)&&this.P(Vl(n,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Je()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bM extends Kr{constructor(r,n,s){super(r,n,s),this.key=Ze.fromName(s.referenceValue)}matches(r){const n=Ze.comparator(r.key,this.key);return this.P(n)}}class wM extends Kr{constructor(r,n){super(r,"in",n),this.keys=BT(0,n)}matches(r){return this.keys.some(n=>n.isEqual(r.key))}}class VT extends Kr{constructor(r,n){super(r,"not-in",n),this.keys=BT(0,n)}matches(r){return!this.keys.some(n=>n.isEqual(r.key))}}function BT(i,r){var n;return((null===(n=r.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Ze.fromName(s.referenceValue))}class ar extends Kr{constructor(r,n){super(r,"array-contains",n)}matches(r){const n=r.data.field(this.field);return zp(n)&&nh(n.arrayValue,this.value)}}class UT extends Kr{constructor(r,n){super(r,"in",n)}matches(r){const n=r.data.field(this.field);return null!==n&&nh(this.value.arrayValue,n)}}class EM extends Kr{constructor(r,n){super(r,"not-in",n)}matches(r){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=r.data.field(this.field);return null!==n&&!nh(this.value.arrayValue,n)}}class CM extends Kr{constructor(r,n){super(r,"array-contains-any",n)}matches(r){const n=r.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nh(this.value.arrayValue,s))}}class sh{constructor(r,n){this.position=r,this.before=n}}function ly(i){return`${i.before?"b":"a"}:${i.position.map(r=>sy(r)).join(",")}`}class lu{constructor(r,n="asc"){this.field=r,this.dir=n}}function jT(i,r){return i.dir===r.dir&&i.field.isEqual(r.field)}function cu(i,r,n){let s=0;for(let l=0;l<i.position.length;l++){const u=r[l],p=i.position[l];if(s=u.field.isKeyField()?Ze.comparator(Ze.fromName(p.referenceValue),n.key):Vl(p,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function HT(i,r){if(null===i)return null===r;if(null===r||i.before!==r.before||i.position.length!==r.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Cs(i.position[n],r.position[n]))return!1;return!0}class La{constructor(r,n=null,s=[],l=[],u=null,p="F",_=null,E=null){this.path=r,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=p,this.startAt=_,this.endAt=E,this.V=null,this.S=null}}function Iw(i,r,n,s,l,u,p,_){return new La(i,r,n,s,l,u,p,_)}function oh(i){return new La(i)}function Zp(i){return!au(i.limit)&&"F"===i.limitType}function Dw(i){return!au(i.limit)&&"L"===i.limitType}function Kp(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Qp(i){for(const r of i.filters)if(r.v())return r.field;return null}function Ts(i){return null!==i.collectionGroup}function ah(i){const r=Le(i);if(null===r.V){r.V=[];const n=Qp(r),s=Kp(r);if(null!==n&&null===s)n.isKeyField()||r.V.push(new lu(n)),r.V.push(new lu(kr.keyField(),"asc"));else{let l=!1;for(const u of r.explicitOrderBy)r.V.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new lu(kr.keyField(),u))}}}return r.V}function Is(i){const r=Le(i);if(!r.S)if("F"===r.limitType)r.S=Tw(r.path,r.collectionGroup,ah(r),r.filters,r.limit,r.startAt,r.endAt);else{const n=[];for(const u of ah(r))n.push(new lu(u.field,"desc"===u.dir?"asc":"desc"));const s=r.endAt?new sh(r.endAt.position,!r.endAt.before):null,l=r.startAt?new sh(r.startAt.position,!r.startAt.before):null;r.S=Tw(r.path,r.collectionGroup,n,r.filters,r.limit,s,l)}return r.S}function Js(i,r,n){return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),r,n,i.startAt,i.endAt)}function di(i,r){return Wp(Is(i),Is(r))&&i.limitType===r.limitType}function Ds(i){return`${ih(Is(i))}|lt:${i.limitType}`}function cy(i){return`Query(target=${function(i){let r=i.path.canonicalString();return null!==i.collectionGroup&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${sy(s.value)}`;var s}).join(", ")}]`),au(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(r+=", startAt: "+ly(i.startAt)),i.endAt&&(r+=", endAt: "+ly(i.endAt)),`Target(${r})`}(Is(i))}; limitType=${i.limitType})`}function lh(i,r){return r.isFoundDocument()&&function(n,s){const l=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Ze.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,r)&&function(n,s){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,r)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(i,r)&&(s=r,!((n=i).startAt&&!cu(n.startAt,ah(n),s)||n.endAt&&cu(n.endAt,ah(n),s)));var n,s}function GT(i){return(r,n)=>{let s=!1;for(const l of ah(i)){const u=TM(l,r,n);if(0!==u)return u;s=s||l.field.isKeyField()}return 0}}function TM(i,r,n){const s=i.field.isKeyField()?Ze.comparator(r.key,n.key):function(l,u,p){const _=u.data.field(l),E=p.data.field(l);return null!==_&&null!==E?Vl(_,E):Je()}(i.field,r,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Je()}}function $T(i,r){if(i.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(r)?"-0":r}}function zT(i){return{integerValue:""+i}}function uy(i,r){return ry(r)?zT(r):$T(i,r)}class Bl{constructor(){this._=void 0}}function IM(i,r,n){return i instanceof uu?function(s,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(u.fields.__previous_value__=l),{mapValue:u}}(n,r):i instanceof Ul?Jp(i,r):i instanceof du?Sw(i,r):function(s,l){const u=WT(s,l),p=dy(u)+dy(s.C);return oy(u)&&oy(s.C)?zT(p):$T(s.N,p)}(i,r)}function qT(i,r,n){return i instanceof Ul?Jp(i,r):i instanceof du?Sw(i,r):n}function WT(i,r){return i instanceof hu?oy(n=r)||(s=n)&&"doubleValue"in s?r:{integerValue:0}:null;var s,n}class uu extends Bl{}class Ul extends Bl{constructor(r){super(),this.elements=r}}function Jp(i,r){const n=Xp(r);for(const s of i.elements)n.some(l=>Cs(l,s))||n.push(s);return{arrayValue:{values:n}}}class du extends Bl{constructor(r){super(),this.elements=r}}function Sw(i,r){let n=Xp(r);for(const s of i.elements)n=n.filter(l=>!Cs(l,s));return{arrayValue:{values:n}}}class hu extends Bl{constructor(r,n){super(),this.N=r,this.C=n}}function dy(i){return Zn(i.integerValue||i.doubleValue)}function Xp(i){return zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ch{constructor(r,n){this.field=r,this.transform=n}}class ZT{constructor(r,n){this.version=r,this.transformResults=n}}class $n{constructor(r,n){this.updateTime=r,this.exists=n}static none(){return new $n}static exists(r){return new $n(void 0,r)}static updateTime(r){return new $n(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function eg(i,r){return void 0!==i.updateTime?r.isFoundDocument()&&r.version.isEqual(i.updateTime):void 0===i.exists||i.exists===r.isFoundDocument()}class tg{}function KT(i,r,n){i instanceof ng?function(s,l,u){const p=s.value.clone(),_=tI(s.fieldTransforms,l,u.transformResults);p.setAll(_),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(i,r,n):i instanceof jl?function(s,l,u){if(!eg(s.precondition,l))return void l.convertToUnknownDocument(u.version);const p=tI(s.fieldTransforms,l,u.transformResults),_=l.data;_.setAll(eI(s)),_.setAll(p),l.convertToFoundDocument(u.version,_).setHasCommittedMutations()}(i,r,n):r.convertToNoDocument(n.version).setHasCommittedMutations()}function hy(i,r,n){var l;i instanceof ng?function(s,l,u){if(!eg(s.precondition,l))return;const p=s.value.clone(),_=nI(s.fieldTransforms,u,l);p.setAll(_),l.convertToFoundDocument(XT(l),p).setHasLocalMutations()}(i,r,n):i instanceof jl?function(s,l,u){if(!eg(s.precondition,l))return;const p=nI(s.fieldTransforms,u,l),_=l.data;_.setAll(eI(s)),_.setAll(p),l.convertToFoundDocument(XT(l),_).setHasLocalMutations()}(i,r,n):eg(i.precondition,l=r)&&l.convertToNoDocument(Tt.min())}function QT(i,r){let n=null;for(const s of i.fieldTransforms){const l=r.data.field(s.field),u=WT(s.transform,l||null);null!=u&&(null==n&&(n=Nr.empty()),n.set(s.field,u))}return n||null}function JT(i,r){return i.type===r.type&&!!i.key.isEqual(r.key)&&!!i.precondition.isEqual(r.precondition)&&(s=r.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===s||n&&s&&eh(n,s,(l,u)=>function(i,r){return i.field.isEqual(r.field)&&(s=r.transform,(n=i.transform)instanceof Ul&&s instanceof Ul||n instanceof du&&s instanceof du?eh(n.elements,s.elements,Cs):n instanceof hu&&s instanceof hu?Cs(n.C,s.C):n instanceof uu&&s instanceof uu);var n,s}(l,u))))&&(0===i.type?i.value.isEqual(r.value):1!==i.type||i.data.isEqual(r.data)&&i.fieldMask.isEqual(r.fieldMask));var n,s}function XT(i){return i.isFoundDocument()?i.version:Tt.min()}class ng extends tg{constructor(r,n,s,l=[]){super(),this.key=r,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}}class jl extends tg{constructor(r,n,s,l,u=[]){super(),this.key=r,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}}function eI(i){const r=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);r.set(n,s)}}),r}function tI(i,r,n){const s=new Map;_t(i.length===n.length);for(let l=0;l<n.length;l++){const u=i[l],p=u.transform,_=r.data.field(u.field);s.set(u.field,qT(p,_,n[l]))}return s}function nI(i,r,n){const s=new Map;for(const l of i){const u=l.transform,p=n.data.field(l.field);s.set(l.field,IM(u,p,r))}return s}class rg extends tg{constructor(r,n){super(),this.key=r,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Aw extends tg{constructor(r,n){super(),this.key=r,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class DM{constructor(r){this.count=r}}var Kn,jt;function rI(i){switch(i){case he.OK:return Je();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Je()}}function iI(i){if(void 0===i)return Ln("GRPC error has no .code"),he.UNKNOWN;switch(i){case Kn.OK:return he.OK;case Kn.CANCELLED:return he.CANCELLED;case Kn.UNKNOWN:return he.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return he.INTERNAL;case Kn.UNAVAILABLE:return he.UNAVAILABLE;case Kn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Kn.NOT_FOUND:return he.NOT_FOUND;case Kn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Kn.ABORTED:return he.ABORTED;case Kn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Kn.DATA_LOSS:return he.DATA_LOSS;default:return Je()}}(jt=Kn||(Kn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class lr{constructor(r,n){this.comparator=r,this.root=n||Pr.EMPTY}insert(r,n){return new lr(this.comparator,this.root.insert(r,n,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(r){return new lr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(r){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(r,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(r){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(r,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((n,s)=>(r(n,s),!1))}toString(){const r=[];return this.inorderTraversal((n,s)=>(r.push(`${n}:${s}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new fy(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new fy(this.root,r,this.comparator,!1)}getReverseIterator(){return new fy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new fy(this.root,r,this.comparator,!0)}}class fy{constructor(r,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!r.isEmpty();)if(u=n?s(r.key,n):1,l&&(u*=-1),u<0)r=this.isReverse?r.left:r.right;else{if(0===u){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const n={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Pr{constructor(r,n,s,l,u){this.key=r,this.value=n,this.color=null!=s?s:Pr.RED,this.left=null!=l?l:Pr.EMPTY,this.right=null!=u?u:Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,n,s,l,u){return new Pr(null!=r?r:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,n,s){let l=this;const u=s(r,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(r,n,s),null):0===u?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(r,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,n){let s,l=this;if(n(r,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(r,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(r,l.key)){if(l.right.isEmpty())return Pr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(r,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,n)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const r=this.left.check();if(r!==this.right.check())throw Je();return r+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(i,r,n,s,l){return this}insert(i,r,n){return new Pr(i,r)}remove(i,r){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(r){this.comparator=r,this.data=new lr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((n,s)=>(r(n),!1))}forEachInRange(r,n){const s=this.data.getIteratorFrom(r[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,r[1])>=0)return;n(l.key)}}forEachWhile(r,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!r(s.getNext().key))return}firstAfterOrEqual(r){const n=this.data.getIteratorFrom(r);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mw(this.data.getIterator())}getIteratorFrom(r){return new Mw(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let n=this;return n.size<r.size&&(n=r,r=this),r.forEach(s=>{n=n.add(s)}),n}isEqual(r){if(!(r instanceof In)||this.size!==r.size)return!1;const n=this.data.getIterator(),s=r.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const r=[];return this.forEach(n=>{r.push(n)}),r}toString(){const r=[];return this.forEach(n=>r.push(n)),"SortedSet("+r.toString()+")"}copy(r){const n=new In(this.comparator);return n.data=r,n}}class Mw{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const sI=new lr(Ze.comparator);function ts(){return sI}const oI=new lr(Ze.comparator);function py(){return oI}const aI=new lr(Ze.comparator);function xw(){return aI}const lI=new In(Ze.comparator);function Wt(...i){let r=lI;for(const n of i)r=r.add(n);return r}const cI=new In(Lt);function Ho(){return cI}class ig{constructor(r,n,s,l,u){this.snapshotVersion=r,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(r,n){const s=new Map;return s.set(r,sg.createSynthesizedTargetChangeForCurrentChange(r,n)),new ig(Tt.min(),s,Ho(),ts(),Wt())}}class sg{constructor(r,n,s,l,u){this.resumeToken=r,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(r,n){return new sg(br.EMPTY_BYTE_STRING,n,Wt(),Wt(),Wt())}}class Va{constructor(r,n,s,l){this.k=r,this.removedTargetIds=n,this.key=s,this.$=l}}class SM{constructor(r,n){this.targetId=r,this.O=n}}class gy{constructor(r,n,s=br.EMPTY_BYTE_STRING,l=null){this.state=r,this.targetIds=n,this.resumeToken=s,this.cause=l}}class AM{constructor(){this.F=0,this.M=MM(),this.L=br.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=Wt(),n=Wt(),s=Wt();return this.M.forEach((l,u)=>{switch(u){case 0:r=r.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Je()}}),new sg(this.L,this.B,r,n,s)}G(){this.U=!1,this.M=MM()}H(r,n){this.U=!0,this.M=this.M.insert(r,n)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class uI{constructor(r){this.tt=r,this.et=new Map,this.nt=ts(),this.st=Ow(),this.it=new In(Lt)}rt(r){for(const n of r.k)r.$&&r.$.isFoundDocument()?this.ot(n,r.$):this.at(n,r.key,r.$);for(const n of r.removedTargetIds)this.at(n,r.key,r.$)}ct(r){this.forEachTarget(r,n=>{const s=this.ut(n);switch(r.state){case 0:this.ht(n)&&s.j(r.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(r.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(r.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(r.resumeToken));break;default:Je()}})}forEachTarget(r,n){r.targetIds.length>0?r.targetIds.forEach(n):this.et.forEach((s,l)=>{this.ht(l)&&n(l)})}ft(r){const n=r.targetId,s=r.O.count,l=this.dt(n);if(l){const u=l.target;if(Yp(u))if(0===s){const p=new Ze(u.path);this.at(n,p,pn.newNoDocument(p,Tt.min()))}else _t(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(r){const n=new Map;this.et.forEach((u,p)=>{const _=this.dt(p);if(_){if(u.current&&Yp(_.target)){const E=new Ze(_.target.path);null!==this.nt.get(E)||this.gt(p,E)||this.at(p,E,pn.newNoDocument(E,r))}u.K&&(n.set(p,u.W()),u.G())}});let s=Wt();this.st.forEach((u,p)=>{let _=!0;p.forEachWhile(E=>{const D=this.dt(E);return!D||2===D.purpose||(_=!1,!1)}),_&&(s=s.add(u))});const l=new ig(r,n,this.it,this.nt,s);return this.nt=ts(),this.st=Ow(),this.it=new In(Lt),l}ot(r,n){if(!this.ht(r))return;const s=this.gt(r,n.key)?2:0;this.ut(r).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(r))}at(r,n,s){if(!this.ht(r))return;const l=this.ut(r);this.gt(r,n)?l.H(n,1):l.J(n),this.st=this.st.insert(n,this.yt(n).delete(r)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(r){this.et.delete(r)}wt(r){const n=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+n.addedDocuments.size-n.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let n=this.et.get(r);return n||(n=new AM,this.et.set(r,n)),n}yt(r){let n=this.st.get(r);return n||(n=new In(Lt),this.st=this.st.insert(r,n)),n}ht(r){const n=null!==this.dt(r);return n||ke("WatchChangeAggregator","Detected inactive target",r),n}dt(r){const n=this.et.get(r);return n&&n.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new AM),this.tt.getRemoteKeysForTarget(r).forEach(n=>{this.at(r,n,null)})}gt(r,n){return this.tt.getRemoteKeysForTarget(r).has(n)}}function Ow(){return new lr(Ze.comparator)}function MM(){return new lr(Ze.comparator)}const at={asc:"ASCENDING",desc:"DESCENDING"},xM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class OM{constructor(r,n){this.databaseId=r,this.D=n}}function og(i,r){return i.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function ag(i,r){return i.D?r.toBase64():r.toUint8Array()}function RM(i,r){return og(i,r.toTimestamp())}function zn(i){return _t(!!i),Tt.fromTimestamp(function(r){const n=jo(r);return new vr(n.seconds,n.nanos)}(i))}function uh(i,r){return(n=i,new Kt(["projects",n.projectId,"databases",n.database])).child("documents").child(r).canonicalString();var n}function Dn(i){const r=Kt.fromString(i);return _t(Lw(r)),r}function my(i,r){return uh(i.databaseId,r.path)}function Xs(i,r){const n=Dn(r);if(n.get(1)!==i.databaseId.projectId)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ze(Rw(n))}function lg(i,r){return uh(i.databaseId,r)}function dI(i){const r=Dn(i);return 4===r.length?Kt.emptyPath():Rw(r)}function dh(i){return new Kt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Rw(i){return _t(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function kw(i,r,n){return{name:my(i,r),fields:n.value.mapValue.fields}}function Nw(i,r,n){const s=Xs(i,r.name),l=zn(r.updateTime),u=new Nr({mapValue:{fields:r.fields}}),p=pn.newFoundDocument(s,l,u);return n&&p.setHasCommittedMutations(),n?p.setHasCommittedMutations():p}function _y(i,r){let n;if(r instanceof ng)n={update:kw(i,r.key,r.value)};else if(r instanceof rg)n={delete:my(i,r.key)};else if(r instanceof jl)n={update:kw(i,r.key,r.data),updateMask:_I(r.fieldMask)};else{if(!(r instanceof Aw))return Je();n={verify:my(i,r.key)}}return r.fieldTransforms.length>0&&(n.updateTransforms=r.fieldTransforms.map(s=>function(l,u){const p=u.transform;if(p instanceof uu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hu)return{fieldPath:u.field.canonicalString(),increment:p.C};throw Je()}(0,s))),r.precondition.isNone||(n.currentDocument=void 0!==(l=r.precondition).updateTime?{updateTime:RM(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Je()),n;var l}function hh(i,r){const n=r.currentDocument?void 0!==(l=r.currentDocument).updateTime?$n.updateTime(zn(l.updateTime)):void 0!==l.exists?$n.exists(l.exists):$n.none():$n.none(),s=r.updateTransforms?r.updateTransforms.map(l=>function(u,p){let _=null;"setToServerValue"in p?(_t("REQUEST_TIME"===p.setToServerValue),_=new uu):"appendMissingElements"in p?_=new Ul(p.appendMissingElements.values||[]):"removeAllFromArray"in p?_=new du(p.removeAllFromArray.values||[]):"increment"in p?_=new hu(u,p.increment):Je();const E=kr.fromServerFormat(p.fieldPath);return new ch(E,_)}(i,l)):[];var l;if(r.update){const l=Xs(i,r.update.name),u=new Nr({mapValue:{fields:r.update.fields}});if(r.updateMask){const p=new jp((r.updateMask.fieldPaths||[]).map(D=>kr.fromServerFormat(D)));return new jl(l,u,p,n,s)}return new ng(l,u,n,s)}if(r.delete){const l=Xs(i,r.delete);return new rg(l,n)}if(r.verify){const l=Xs(i,r.verify);return new Aw(l,n)}return Je()}function hI(i,r){return{documents:[lg(i,r.path)]}}function fI(i,r){const n={structuredQuery:{}},s=r.path;null!==r.collectionGroup?(n.parent=lg(i,s),n.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(n.parent=lg(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(_){if(0===_.length)return;const E=_.map(D=>function(A){if("=="===A.op){if(PT(A.value))return{unaryFilter:{field:fh(A.field),op:"IS_NAN"}};if(Cw(A.value))return{unaryFilter:{field:fh(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(PT(A.value))return{unaryFilter:{field:fh(A.field),op:"IS_NOT_NAN"}};if(Cw(A.value))return{unaryFilter:{field:fh(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fh(A.field),op:dg(A.op),value:A.value}}}(D));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(r.filters);l&&(n.structuredQuery.where=l);const u=function(_){if(0!==_.length)return _.map(E=>{return{field:fh((D=E).field),direction:ug(D.dir)};var D})}(r.orderBy);u&&(n.structuredQuery.orderBy=u);const p=(E=r.limit,i.D||au(E)?E:{value:E});var E;return null!==p&&(n.structuredQuery.limit=p),r.startAt&&(n.structuredQuery.startAt=Fw(r.startAt)),r.endAt&&(n.structuredQuery.endAt=Fw(r.endAt)),n}function cg(i){let r=dI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){_t(1===s);const A=n.from[0];A.allDescendants?l=A.collectionId:r=r.child(A.collectionId)}let u=[];n.where&&(u=Pw(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(A=>{return new lu(ph((O=A).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let _=null;n.limit&&(_=function(A){let O;return O="object"==typeof A?A.value:A,au(O)?null:O}(n.limit));let E=null;n.startAt&&(E=gI(n.startAt));let D=null;return n.endAt&&(D=gI(n.endAt)),Iw(r,l,p,u,_,"F",E,D)}function Pw(i){return i?void 0!==i.unaryFilter?[mI(i)]:void 0!==i.fieldFilter?[FM(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(r=>Pw(r)).reduce((r,n)=>r.concat(n)):Je():[]}function Fw(i){return{before:i.before,values:i.position}}function gI(i){return new sh(i.values||[],!!i.before)}function ug(i){return at[i]}function dg(i){return xM[i]}function fh(i){return{fieldPath:i.canonicalString()}}function ph(i){return kr.fromServerFormat(i.fieldPath)}function FM(i){return Kr.create(ph(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Je()}}(i.fieldFilter.op),i.fieldFilter.value)}function mI(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ph(i.unaryFilter.field);return Kr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const n=ph(i.unaryFilter.field);return Kr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ph(i.unaryFilter.field);return Kr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ph(i.unaryFilter.field);return Kr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Je()}}function _I(i){const r=[];return i.fields.forEach(n=>r.push(n.canonicalString())),{fieldPaths:r}}function Lw(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function eo(i){let r="";for(let n=0;n<i.length;n++)r.length>0&&(r=vI(r)),r=yI(i.get(n),r);return vI(r)}function yI(i,r){let n=r;const s=i.length;for(let l=0;l<s;l++){const u=i.charAt(l);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function vI(i){return i+"\x01\x01"}function Ba(i){const r=i.length;if(_t(r>=2),2===r)return _t("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Kt.emptyPath();const n=r-2,s=[];let l="";for(let u=0;u<r;){const p=i.indexOf("\x01",u);switch((p<0||p>n)&&Je(),i.charAt(p+1)){case"\x01":const _=i.substring(u,p);let E;0===l.length?E=_:(l+=_,E=l,l=""),s.push(E);break;case"\x10":l+=i.substring(u,p),l+="\0";break;case"\x11":l+=i.substring(u,p+1);break;default:Je()}u=p+2}return new Kt(s)}class rk{constructor(r,n){this.seconds=r,this.nanoseconds=n}}class Ss{constructor(r,n,s){this.ownerId=r,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}Ss.store="owner",Ss.key="owner";class fu{constructor(r,n,s){this.userId=r,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}fu.store="mutationQueues",fu.keyPath="userId";class bn{constructor(r,n,s,l,u){this.userId=r,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=u}}bn.store="mutations",bn.keyPath="batchId",bn.userMutationsIndex="userMutationsIndex",bn.userMutationsKeyPath=["userId","batchId"];class Fr{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,n){return[r,eo(n)]}static key(r,n,s){return[r,eo(n),s]}}Fr.store="documentMutations",Fr.PLACEHOLDER=new Fr;class yy{constructor(r,n){this.path=r,this.readTime=n}}class LM{constructor(r,n){this.path=r,this.version=n}}class Vn{constructor(r,n,s,l,u,p){this.unknownDocument=r,this.noDocument=n,this.document=s,this.hasCommittedMutations=l,this.readTime=u,this.parentPath=p}}Vn.store="remoteDocuments",Vn.readTimeIndex="readTimeIndex",Vn.readTimeIndexPath="readTime",Vn.collectionReadTimeIndex="collectionReadTimeIndex",Vn.collectionReadTimeIndexPath=["parentPath","readTime"];class to{constructor(r){this.byteSize=r}}to.store="remoteDocumentGlobal",to.key="remoteDocumentGlobalKey";class wr{constructor(r,n,s,l,u,p,_){this.targetId=r,this.canonicalId=n,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=p,this.query=_}}wr.store="targets",wr.keyPath="targetId",wr.queryTargetsIndexName="queryTargetsIndex",wr.queryTargetsKeyPath=["canonicalId","targetId"];class Lr{constructor(r,n,s){this.targetId=r,this.path=n,this.sequenceNumber=s}}Lr.store="targetDocuments",Lr.keyPath=["targetId","path"],Lr.documentTargetsIndex="documentTargetsIndex",Lr.documentTargetsKeyPath=["path","targetId"];class ns{constructor(r,n,s,l){this.highestTargetId=r,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}ns.key="targetGlobalKey",ns.store="targetGlobal";class pu{constructor(r,n){this.collectionId=r,this.parent=n}}pu.store="collectionParents",pu.keyPath=["collectionId","parent"];class Ua{constructor(r,n,s,l){this.clientId=r,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=l}}Ua.store="clientMetadata",Ua.keyPath="clientId";class gh{constructor(r,n,s){this.bundleId=r,this.createTime=n,this.version=s}}gh.store="bundles",gh.keyPath="bundleId";class gu{constructor(r,n,s){this.name=r,this.readTime=n,this.bundledQuery=s}}gu.store="namedQueries",gu.keyPath="name";const VM=[fu.store,bn.store,Fr.store,Vn.store,wr.store,Ss.store,ns.store,Lr.store,Ua.store,to.store,pu.store,gh.store,gu.store],bI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Se{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(r){return this.next(void 0,r)}next(r,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(r,this.result):new Se((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(r,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((r,n)=>{this.next(r,n)})}wrapUserFunction(r){try{const n=r();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(r,n){return r?this.wrapUserFunction(()=>r(n)):Se.resolve(n)}wrapFailure(r,n){return r?this.wrapUserFunction(()=>r(n)):Se.reject(n)}static resolve(r){return new Se((n,s)=>{n(r)})}static reject(r){return new Se((n,s)=>{s(r)})}static waitFor(r){return new Se((n,s)=>{let l=0,u=0,p=!1;r.forEach(_=>{++l,_.next(()=>{++u,p&&u===l&&n()},E=>s(E))}),p=!0,u===l&&n()})}static or(r){let n=Se.resolve(!1);for(const s of r)n=n.next(l=>l?Se.resolve(l):s());return n}static forEach(r,n){const s=[];return r.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}}class hg{constructor(r,n){this.action=r,this.transaction=n,this.aborted=!1,this.Tt=new yr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new fg(r,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=vy(s.target.error);this.Tt.reject(new fg(r,l))}}static open(r,n,s,l){try{return new hg(n,r.transaction(l,s))}catch(u){throw new fg(n,u)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(ke("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const n=this.transaction.objectStore(r);return new BM(n)}}class no{constructor(r,n,s){this.name=r,this.version=n,this.At=s,12.2===no.Rt((0,$t.z$)())&&Ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return ke("SimpleDb","Removing database:",r),ja(window.indexedDB.deleteDatabase(r)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(no.Pt())return!0;const r=(0,$t.z$)(),n=no.Rt(r),s=0<n&&n<10,l=no.vt(r),u=0<l&&l<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||s||u)}static Pt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,n){return r.store(n)}static Rt(r){const n=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(r){const n=r.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(r){var n=this;return(0,Ee.Z)(function*(){return n.db||(ke("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=p=>{s(p.target.result)},u.onblocked=()=>{l(new fg(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=p=>{const _=p.target.error;l("VersionError"===_.name?new Me(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Me(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new fg(r,_))},u.onupgradeneeded=p=>{ke("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',p.oldVersion),n.At.Ct(p.target.result,u.transaction,p.oldVersion,n.version).next(()=>{ke("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=n=>r(n))}runTransaction(r,n,s,l){var u=this;return(0,Ee.Z)(function*(){const p="readonly"===n;let _=0;for(;;){++_;try{u.db=yield u.Dt(r);const E=hg.open(u.db,r,p?"readonly":"readwrite",s),D=l(E).catch(A=>(E.abort(A),Se.reject(A))).toPromise();return D.catch(()=>{}),yield E.It,D}catch(E){const D="FirebaseError"!==E.name&&_<3;if(ke("SimpleDb","Transaction failed with error:",E.message,"Retrying:",D),u.close(),!D)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wI{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return ja(this.kt.delete())}}class fg extends Me{constructor(r,n){super(he.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Hl(i){return"IndexedDbTransactionError"===i.name}class BM{constructor(r){this.store=r}put(r,n){let s;return void 0!==n?(ke("SimpleDb","PUT",this.store.name,r,n),s=this.store.put(n,r)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",r),s=this.store.put(r)),ja(s)}add(r){return ke("SimpleDb","ADD",this.store.name,r,r),ja(this.store.add(r))}get(r){return ja(this.store.get(r)).next(n=>(void 0===n&&(n=null),ke("SimpleDb","GET",this.store.name,r,n),n))}delete(r){return ke("SimpleDb","DELETE",this.store.name,r),ja(this.store.delete(r))}count(){return ke("SimpleDb","COUNT",this.store.name),ja(this.store.count())}Lt(r,n){const s=this.cursor(this.options(r,n)),l=[];return this.Bt(s,(u,p)=>{l.push(p)}).next(()=>l)}Ut(r,n){ke("SimpleDb","DELETE ALL",this.store.name);const s=this.options(r,n);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(u,p,_)=>_.delete())}Kt(r,n){let s;n?s=r:(s={},n=r);const l=this.cursor(s);return this.Bt(l,n)}jt(r){const n=this.cursor({});return new Se((s,l)=>{n.onerror=u=>{const p=vy(u.target.error);l(p)},n.onsuccess=u=>{const p=u.target.result;p?r(p.primaryKey,p.value).next(_=>{_?p.continue():s()}):s()}})}Bt(r,n){const s=[];return new Se((l,u)=>{r.onerror=p=>{u(p.target.error)},r.onsuccess=p=>{const _=p.target.result;if(!_)return void l();const E=new wI(_),D=n(_.primaryKey,_.value,E);if(D instanceof Se){const A=D.catch(O=>(E.done(),Se.reject(O)));s.push(A)}E.isDone?l():null===E.Ft?_.continue():_.continue(E.Ft)}}).next(()=>Se.waitFor(s))}options(r,n){let s;return void 0!==r&&("string"==typeof r?s=r:n=r),{index:s,range:n}}cursor(r){let n="next";if(r.reverse&&(n="prev"),r.index){const s=this.store.index(r.index);return r.qt?s.openKeyCursor(r.range,n):s.openCursor(r.range,n)}return this.store.openCursor(r.range,n)}}function ja(i){return new Se((r,n)=>{i.onsuccess=s=>{r(s.target.result)},i.onerror=s=>{const l=vy(s.target.error);n(l)}})}let EI=!1;function vy(i){const r=no.Rt((0,$t.z$)());if(r>=12.2&&r<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return EI||(EI=!0,setTimeout(()=>{throw s},0)),s}}return i}class Vw extends mu{constructor(r,n){super(),this.Qt=r,this.currentSequenceNumber=n}}function xi(i,r){const n=Le(i);return no.St(n.Qt,r)}class Bw{constructor(r,n,s,l){this.batchId=r,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(r,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(r.key)&&KT(u,r,s[l])}}applyToLocalView(r){for(const n of this.baseMutations)n.key.isEqual(r.key)&&hy(n,r,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(r.key)&&hy(n,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(n=>{const s=r.get(n.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(Tt.min())})}keys(){return this.mutations.reduce((r,n)=>r.add(n.key),Wt())}isEqual(r){return this.batchId===r.batchId&&eh(this.mutations,r.mutations,(n,s)=>JT(n,s))&&eh(this.baseMutations,r.baseMutations,(n,s)=>JT(n,s))}}class Uw{constructor(r,n,s,l){this.batch=r,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(r,n,s){_t(r.mutations.length===s.length);let l=xw();const u=r.mutations;for(let p=0;p<u.length;p++)l=l.insert(u[p].key,s[p].version);return new Uw(r,n,s,l)}}class Go{constructor(r,n,s,l,u=Tt.min(),p=Tt.min(),_=br.EMPTY_BYTE_STRING){this.target=r,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=_}withSequenceNumber(r){return new Go(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,n){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class CI{constructor(r){this.Wt=r}}function by(i,r){if(r.document)return Nw(i.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const n=Ze.fromSegments(r.noDocument.path),s=_h(r.noDocument.readTime),l=pn.newNoDocument(n,s);return r.hasCommittedMutations?l.setHasCommittedMutations():l}if(r.unknownDocument){const n=Ze.fromSegments(r.unknownDocument.path),s=_h(r.unknownDocument.version);return pn.newUnknownDocument(n,s)}return Je()}function TI(i,r,n){const s=jw(n),l=r.key.path.popLast().toArray();if(r.isFoundDocument()){const u={name:my(_=i.Wt,(E=r).key),fields:E.data.value.mapValue.fields,updateTime:og(_,E.version.toTimestamp())};return new Vn(null,null,u,r.hasCommittedMutations,s,l)}var _,E;if(r.isNoDocument()){const u=r.key.path.toArray(),p=mh(r.version),_=r.hasCommittedMutations;return new Vn(null,new yy(u,p),null,_,s,l)}if(r.isUnknownDocument()){const u=r.key.path.toArray(),p=mh(r.version);return new Vn(new LM(u,p),null,null,!0,s,l)}return Je()}function jw(i){const r=i.toTimestamp();return[r.seconds,r.nanoseconds]}function II(i){const r=new vr(i[0],i[1]);return Tt.fromTimestamp(r)}function mh(i){const r=i.toTimestamp();return new rk(r.seconds,r.nanoseconds)}function _h(i){const r=new vr(i.seconds,i.nanoseconds);return Tt.fromTimestamp(r)}function yh(i,r){const n=(r.baseMutations||[]).map(u=>hh(i.Wt,u));for(let u=0;u<r.mutations.length-1;++u){const p=r.mutations[u];u+1<r.mutations.length&&void 0!==r.mutations[u+1].transform&&(p.updateTransforms=r.mutations[u+1].transform.fieldTransforms,r.mutations.splice(u+1,1),++u)}const s=r.mutations.map(u=>hh(i.Wt,u)),l=vr.fromMillis(r.localWriteTimeMs);return new Bw(r.batchId,l,n,s)}function pg(i){const r=_h(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?_h(i.lastLimboFreeSnapshotVersion):Tt.min();let s;var l;return void 0!==i.query.documents?(_t(1===(l=i.query).documents.length),s=Is(oh(dI(l.documents[0])))):s=Is(cg(i.query)),new Go(s,i.targetId,0,i.lastListenSequenceNumber,r,n,br.fromBase64String(i.resumeToken))}function DI(i,r){const n=mh(r.snapshotVersion),s=mh(r.lastLimboFreeSnapshotVersion);let l;l=Yp(r.target)?hI(i.Wt,r.target):fI(i.Wt,r.target);const u=r.resumeToken.toBase64();return new wr(r.targetId,ih(r.target),n,u,r.sequenceNumber,s,l)}function wy(i){const r=cg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Js(r,r.limit,"L"):r}class SI{getBundleMetadata(r,n){return AI(r).get(n).next(s=>{if(s)return{id:(l=s).bundleId,createTime:_h(l.createTime),version:l.version};var l})}saveBundleMetadata(r,n){return AI(r).put({bundleId:(s=n).id,createTime:mh(zn(s.createTime)),version:s.version});var s}getNamedQuery(r,n){return MI(r).get(n).next(s=>{if(s)return{name:(l=s).name,query:wy(l.bundledQuery),readTime:_h(l.readTime)};var l})}saveNamedQuery(r,n){return MI(r).put({name:(s=n).name,readTime:mh(zn(s.readTime)),bundledQuery:s.bundledQuery});var s}}function AI(i){return xi(i,gh.store)}function MI(i){return xi(i,gu.store)}class xI{constructor(){this.Gt=new Hw}addToCollectionParentIndex(r,n){return this.Gt.add(n),Se.resolve()}getCollectionParents(r,n){return Se.resolve(this.Gt.getEntries(n))}}class Hw{constructor(){this.index={}}add(r){const n=r.lastSegment(),s=r.popLast(),l=this.index[n]||new In(Kt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(r){const n=r.lastSegment(),s=r.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(r){return(this.index[r]||new In(Kt.comparator)).toArray()}}class UM{constructor(){this.zt=new Hw}addToCollectionParentIndex(r,n){if(!this.zt.has(n)){const s=n.lastSegment(),l=n.popLast();r.addOnCommittedListener(()=>{this.zt.add(n)});const u={collectionId:s,parent:eo(l)};return OI(r).put(u)}return Se.resolve()}getCollectionParents(r,n){const s=[],l=IDBKeyRange.bound([n,""],[kT(n),""],!1,!0);return OI(r).Lt(l).next(u=>{for(const p of u){if(p.collectionId!==n)break;s.push(Ba(p.parent))}return s})}}function OI(i){return xi(i,pu.store)}const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qr{constructor(r,n,s){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(r){return new Qr(r,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Gw(i,r,n){const s=i.store(bn.store),l=i.store(Fr.store),u=[],p=IDBKeyRange.only(n.batchId);let _=0;const E=s.Kt({range:p},(A,O,V)=>(_++,V.delete()));u.push(E.next(()=>{_t(1===_)}));const D=[];for(const A of n.mutations){const O=Fr.key(r,A.key.path,n.batchId);u.push(l.delete(O)),D.push(A.key)}return Se.waitFor(u).next(()=>D)}function vh(i){if(!i)return 0;let r;if(i.document)r=i.document;else if(i.unknownDocument)r=i.unknownDocument;else{if(!i.noDocument)throw Je();r=i.noDocument}return JSON.stringify(r).length}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);class $w{constructor(r,n,s,l){this.userId=r,this.N=n,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(r,n,s,l){_t(""!==r.uid);const u=r.isAuthenticated()?r.uid:"";return new $w(u,n,s,l)}checkEmpty(r){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $o(r).Kt({index:bn.userMutationsIndex,range:s},(l,u,p)=>{n=!1,p.done()}).next(()=>n)}addMutationBatch(r,n,s,l){const u=bh(r),p=$o(r);return p.add({}).next(_=>{_t("number"==typeof _);const E=new Bw(_,n,s,l),D=function(V,B,W){const pe=W.baseMutations.map(Ve=>_y(V.Wt,Ve)),Te=W.mutations.map(Ve=>_y(V.Wt,Ve));return new bn(B,W.batchId,W.localWriteTime.toMillis(),pe,Te)}(this.N,this.userId,E),A=[];let O=new In((V,B)=>Lt(V.canonicalString(),B.canonicalString()));for(const V of l){const B=Fr.key(this.userId,V.key.path,_);O=O.add(V.key.path.popLast()),A.push(p.put(D)),A.push(u.put(B,Fr.PLACEHOLDER))}return O.forEach(V=>{A.push(this.Ht.addToCollectionParentIndex(r,V))}),r.addOnCommittedListener(()=>{this.Jt[_]=E.keys()}),Se.waitFor(A).next(()=>E)})}lookupMutationBatch(r,n){return $o(r).get(n).next(s=>s?(_t(s.userId===this.userId),yh(this.N,s)):null)}Xt(r,n){return this.Jt[n]?Se.resolve(this.Jt[n]):this.lookupMutationBatch(r,n).next(s=>{if(s){const l=s.keys();return this.Jt[n]=l,l}return null})}getNextMutationBatchAfterBatchId(r,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return $o(r).Kt({index:bn.userMutationsIndex,range:l},(p,_,E)=>{_.userId===this.userId&&(_t(_.batchId>=s),u=yh(this.N,_)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(r){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return $o(r).Kt({index:bn.userMutationsIndex,range:n,reverse:!0},(l,u,p)=>{s=u.batchId,p.done()}).next(()=>s)}getAllMutationBatches(r){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $o(r).Lt(bn.userMutationsIndex,n).next(s=>s.map(l=>yh(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(r,n){const s=Fr.prefixForPath(this.userId,n.path),l=IDBKeyRange.lowerBound(s),u=[];return bh(r).Kt({range:l},(p,_,E)=>{const[D,A,O]=p,V=Ba(A);if(D===this.userId&&n.path.isEqual(V))return $o(r).get(O).next(B=>{if(!B)throw Je();_t(B.userId===this.userId),u.push(yh(this.N,B))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(r,n){let s=new In(Lt);const l=[];return n.forEach(u=>{const p=Fr.prefixForPath(this.userId,u.path),_=IDBKeyRange.lowerBound(p),E=bh(r).Kt({range:_},(D,A,O)=>{const[V,B,W]=D,pe=Ba(B);V===this.userId&&u.path.isEqual(pe)?s=s.add(W):O.done()});l.push(E)}),Se.waitFor(l).next(()=>this.Zt(r,s))}getAllMutationBatchesAffectingQuery(r,n){const s=n.path,l=s.length+1,u=Fr.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(u);let _=new In(Lt);return bh(r).Kt({range:p},(E,D,A)=>{const[O,V,B]=E,W=Ba(V);O===this.userId&&s.isPrefixOf(W)?W.length===l&&(_=_.add(B)):A.done()}).next(()=>this.Zt(r,_))}Zt(r,n){const s=[],l=[];return n.forEach(u=>{l.push($o(r).get(u).next(p=>{if(null===p)throw Je();_t(p.userId===this.userId),s.push(yh(this.N,p))}))}),Se.waitFor(l).next(()=>s)}removeMutationBatch(r,n){return Gw(r.Qt,this.userId,n).next(s=>(r.addOnCommittedListener(()=>{this.te(n.batchId)}),Se.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(r,l))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(n=>{if(!n)return Se.resolve();const s=IDBKeyRange.lowerBound(Fr.prefixForUser(this.userId)),l=[];return bh(r).Kt({range:s},(u,p,_)=>{if(u[0]===this.userId){const E=Ba(u[1]);l.push(E)}else _.done()}).next(()=>{_t(0===l.length)})})}containsKey(r,n){return RI(r,this.userId,n)}ee(r){return zw(r).get(this.userId).next(n=>n||new fu(this.userId,-1,""))}}function RI(i,r,n){const s=Fr.prefixForPath(r,n.path),l=s[1],u=IDBKeyRange.lowerBound(s);let p=!1;return bh(i).Kt({range:u,qt:!0},(_,E,D)=>{const[A,O,V]=_;A===r&&O===l&&(p=!0),D.done()}).next(()=>p)}function $o(i){return xi(i,bn.store)}function bh(i){return xi(i,Fr.store)}function zw(i){return xi(i,fu.store)}class _u{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new _u(0)}static ie(){return new _u(-1)}}class kI{constructor(r,n){this.referenceDelegate=r,this.N=n}allocateTargetId(r){return this.re(r).next(n=>{const s=new _u(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(r,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(n=>Tt.fromTimestamp(new vr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(r,n,s){return this.re(r).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.oe(r,l)))}addTargetData(r,n){return this.ae(r,n).next(()=>this.re(r).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(r,s))))}updateTargetData(r,n){return this.ae(r,n)}removeTargetData(r,n){return this.removeMatchingKeysForTargetId(r,n.targetId).next(()=>yu(r).delete(n.targetId)).next(()=>this.re(r)).next(s=>(_t(s.targetCount>0),s.targetCount-=1,this.oe(r,s)))}removeTargets(r,n,s){let l=0;const u=[];return yu(r).Kt((p,_)=>{const E=pg(_);E.sequenceNumber<=n&&null===s.get(E.targetId)&&(l++,u.push(this.removeTargetData(r,E)))}).next(()=>Se.waitFor(u)).next(()=>l)}forEachTarget(r,n){return yu(r).Kt((s,l)=>{const u=pg(l);n(u)})}re(r){return qw(r).get(ns.key).next(n=>(_t(null!==n),n))}oe(r,n){return qw(r).put(ns.key,n)}ae(r,n){return yu(r).put(DI(this.N,n))}ce(r,n){let s=!1;return r.targetId>n.highestTargetId&&(n.highestTargetId=r.targetId,s=!0),r.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=r.sequenceNumber,s=!0),s}getTargetCount(r){return this.re(r).next(n=>n.targetCount)}getTargetData(r,n){const s=ih(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return yu(r).Kt({range:l,index:wr.queryTargetsIndexName},(p,_,E)=>{const D=pg(_);Wp(n,D.target)&&(u=D,E.done())}).next(()=>u)}addMatchingKeys(r,n,s){const l=[],u=vu(r);return n.forEach(p=>{const _=eo(p.path);l.push(u.put(new Lr(s,_))),l.push(this.referenceDelegate.addReference(r,s,p))}),Se.waitFor(l)}removeMatchingKeys(r,n,s){const l=vu(r);return Se.forEach(n,u=>{const p=eo(u.path);return Se.waitFor([l.delete([s,p]),this.referenceDelegate.removeReference(r,s,u)])})}removeMatchingKeysForTargetId(r,n){const s=vu(r),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(r,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=vu(r);let u=Wt();return l.Kt({range:s,qt:!0},(p,_,E)=>{const D=Ba(p[1]),A=new Ze(D);u=u.add(A)}).next(()=>u)}containsKey(r,n){const s=eo(n.path),l=IDBKeyRange.bound([s],[kT(s)],!1,!0);let u=0;return vu(r).Kt({index:Lr.documentTargetsIndex,qt:!0,range:l},([p,_],E,D)=>{0!==p&&(u++,D.done())}).next(()=>u>0)}Et(r,n){return yu(r).get(n).next(s=>s?pg(s):null)}}function yu(i){return xi(i,wr.store)}function qw(i){return xi(i,ns.store)}function vu(i){return xi(i,Lr.store)}function bu(i){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,Ee.Z)(function*(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==bI)throw i;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function jM([i,r],[n,s]){const l=Lt(i,n);return 0===l?Lt(r,s):l}class Ww{constructor(r){this.ue=r,this.buffer=new In(jM),this.he=0}le(){return++this.he}fe(r){const n=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jM(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Cy{constructor(r,n){this.garbageCollector=r,this.asyncQueue=n,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var n=this;const s=this.de?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Ee.Z)(function*(){n.we=null,n.de=!0;try{yield r.collectGarbage(n.garbageCollector)}catch(l){Hl(l)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield bu(l)}yield n._e(r)}))}}class HM{constructor(r,n){this.me=r,this.params=n}calculateTargetCount(r,n){return this.me.ge(r).next(s=>Math.floor(n/100*s))}nthSequenceNumber(r,n){if(0===n)return Se.resolve(es.T);const s=new Ww(n);return this.me.forEachTarget(r,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(r,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(r,n,s){return this.me.removeTargets(r,n,s)}removeOrphanedDocuments(r,n){return this.me.removeOrphanedDocuments(r,n)}collect(r,n){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(Ey)):this.getCacheSize(r).next(s=>s<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ey):this.pe(r,n))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,n){let s,l,u,p,_,E,D;const A=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(r,l))).next(O=>(s=O,_=Date.now(),this.removeTargets(r,s,n))).next(O=>(u=O,E=Date.now(),this.removeOrphanedDocuments(r,s))).next(O=>(D=Date.now(),AT()<=Fd.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-A}ms\n\tDetermined least recently used ${l} in `+(_-p)+`ms\n\tRemoved ${u} targets in `+(E-_)+`ms\n\tRemoved ${O} documents in `+(D-E)+`ms\nTotal Duration: ${D-A}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:O})))}}class wh{constructor(r,n){this.db=r,this.garbageCollector=new HM(this,n)}ge(r){const n=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(s=>n.next(l=>s+l))}Ee(r){let n=0;return this.ye(r,s=>{n++}).next(()=>n)}forEachTarget(r,n){return this.db.getTargetCache().forEachTarget(r,n)}ye(r,n){return this.Te(r,(s,l)=>n(l))}addReference(r,n,s){return Ty(r,s)}removeReference(r,n,s){return Ty(r,s)}removeTargets(r,n,s){return this.db.getTargetCache().removeTargets(r,n,s)}markPotentiallyOrphaned(r,n){return Ty(r,n)}Ie(r,n){return function(s,l){let u=!1;return zw(s).jt(p=>RI(s,p,l).next(_=>(_&&(u=!0),Se.resolve(!_)))).next(()=>u)}(r,n)}removeOrphanedDocuments(r,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Te(r,(p,_)=>{if(_<=n){const E=this.Ie(r,p).next(D=>{if(!D)return u++,s.getEntry(r,p).next(()=>(s.removeEntry(p),vu(r).delete([0,eo(p.path)])))});l.push(E)}}).next(()=>Se.waitFor(l)).next(()=>s.apply(r)).next(()=>u)}removeTarget(r,n){const s=n.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,s)}updateLimboDocument(r,n){return Ty(r,n)}Te(r,n){const s=vu(r);let l,u=es.T;return s.Kt({index:Lr.documentTargetsIndex},([p,_],{path:E,sequenceNumber:D})=>{0===p?(u!==es.T&&n(new Ze(Ba(l)),u),u=D,l=E):u=es.T}).next(()=>{u!==es.T&&n(new Ze(Ba(l)),u)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function Ty(i,r){return vu(i).put((s=i.currentSequenceNumber,new Lr(0,eo(r.path),s)));var s}class gg{constructor(r,n){this.mapKeyFn=r,this.equalsFn=n,this.inner={}}get(r){const n=this.mapKeyFn(r),s=this.inner[n];if(void 0!==s)for(const[l,u]of s)if(this.equalsFn(l,r))return u}has(r){return void 0!==this.get(r)}set(r,n){const s=this.mapKeyFn(r),l=this.inner[s];if(void 0!==l){for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],r))return void(l[u]=[r,n]);l.push([r,n])}else this.inner[s]=[[r,n]]}delete(r){const n=this.mapKeyFn(r),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],r))return 1===s.length?delete this.inner[n]:s.splice(l,1),!0;return!1}forEach(r){Pl(this.inner,(n,s)=>{for(const[l,u]of s)r(l,u)})}isEmpty(){return yw(this.inner)}}class NI{constructor(){this.changes=new gg(r=>r.toString(),(r,n)=>r.isEqual(n)),this.changesApplied=!1}getReadTime(r){const n=this.changes.get(r);return n?n.readTime:Tt.min()}addEntry(r,n){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:n})}removeEntry(r,n=null){this.assertNotApplied(),this.changes.set(r,{document:pn.newInvalidDocument(r),readTime:n})}getEntry(r,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Se.resolve(s.document):this.getFromCache(r,n)}getEntries(r,n){return this.getAllFromCache(r,n)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class zo{constructor(r,n){this.N=r,this.Ht=n}addEntry(r,n,s){return ro(r).put(Iy(n),s)}removeEntry(r,n){const s=ro(r),l=Iy(n);return s.delete(l)}updateMetadata(r,n){return this.getMetadata(r).next(s=>(s.byteSize+=n,this.Ae(r,s)))}getEntry(r,n){return ro(r).get(Iy(n)).next(s=>this.Re(n,s))}be(r,n){return ro(r).get(Iy(n)).next(s=>({document:this.Re(n,s),size:vh(s)}))}getEntries(r,n){let s=ts();return this.Pe(r,n,(l,u)=>{const p=this.Re(l,u);s=s.insert(l,p)}).next(()=>s)}ve(r,n){let s=ts(),l=new lr(Ze.comparator);return this.Pe(r,n,(u,p)=>{const _=this.Re(u,p);s=s.insert(u,_),l=l.insert(u,vh(p))}).next(()=>({documents:s,Ve:l}))}Pe(r,n,s){if(n.isEmpty())return Se.resolve();const l=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator();let p=u.getNext();return ro(r).Kt({range:l},(_,E,D)=>{const A=Ze.fromSegments(_);for(;p&&Ze.comparator(p,A)<0;)s(p,null),p=u.getNext();p&&p.isEqual(A)&&(s(p,E),p=u.hasNext()?u.getNext():null),p?D.Mt(p.path.toArray()):D.done()}).next(()=>{for(;p;)s(p,null),p=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(r,n,s){let l=ts();const u=n.path.length+1,p={};if(s.isEqual(Tt.min())){const _=n.path.toArray();p.range=IDBKeyRange.lowerBound(_)}else{const _=n.path.toArray(),E=jw(s);p.range=IDBKeyRange.lowerBound([_,E],!0),p.index=Vn.collectionReadTimeIndex}return ro(r).Kt(p,(_,E,D)=>{if(_.length!==u)return;const A=by(this.N,E);n.path.isPrefixOf(A.key.path)?lh(n,A)&&(l=l.insert(A.key,A)):D.done()}).next(()=>l)}newChangeBuffer(r){return new PI(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(n=>n.byteSize)}getMetadata(r){return GM(r).get(to.key).next(n=>(_t(!!n),n))}Ae(r,n){return GM(r).put(to.key,n)}Re(r,n){if(n){const s=by(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Tt.min()))return s}return pn.newInvalidDocument(r)}}class PI extends NI{constructor(r,n){super(),this.Se=r,this.trackRemovals=n,this.De=new gg(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(r){const n=[];let s=0,l=new In((u,p)=>Lt(u.canonicalString(),p.canonicalString()));return this.changes.forEach((u,p)=>{const _=this.De.get(u);if(p.document.isValidDocument()){const E=TI(this.Se.N,p.document,this.getReadTime(u));l=l.add(u.path.popLast()),s+=vh(E)-_,n.push(this.Se.addEntry(r,u,E))}else if(s-=_,this.trackRemovals){const E=TI(this.Se.N,pn.newNoDocument(u,Tt.min()),this.getReadTime(u));n.push(this.Se.addEntry(r,u,E))}else n.push(this.Se.removeEntry(r,u))}),l.forEach(u=>{n.push(this.Se.Ht.addToCollectionParentIndex(r,u))}),n.push(this.Se.updateMetadata(r,s)),Se.waitFor(n)}getFromCache(r,n){return this.Se.be(r,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(r,n){return this.Se.ve(r,n).next(({documents:s,Ve:l})=>(l.forEach((u,p)=>{this.De.set(u,p)}),s))}}function GM(i){return xi(i,to.store)}function ro(i){return xi(i,Vn.store)}function Iy(i){return i.path.toArray()}class $M{constructor(r){this.N=r}Ct(r,n,s,l){_t(s<l&&s>=0&&l<=11);const u=new hg("createOrUpgrade",n);var _;s<1&&l>=1&&(r.createObjectStore(Ss.store),(_=r).createObjectStore(fu.store,{keyPath:fu.keyPath}),_.createObjectStore(bn.store,{keyPath:bn.keyPath,autoIncrement:!0}).createIndex(bn.userMutationsIndex,bn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(Fr.store),zM(r),function(_){_.createObjectStore(Vn.store)}(r));let p=Se.resolve();return s<3&&l>=3&&(0!==s&&(function(_){_.deleteObjectStore(Lr.store),_.deleteObjectStore(wr.store),_.deleteObjectStore(ns.store)}(r),zM(r)),p=p.next(()=>function(_){const E=_.store(ns.store),D=new ns(0,0,Tt.min().toTimestamp(),0);return E.put(ns.key,D)}(u))),s<4&&l>=4&&(0!==s&&(p=p.next(()=>function(_,E){return E.store(bn.store).Lt().next(D=>{_.deleteObjectStore(bn.store),_.createObjectStore(bn.store,{keyPath:bn.keyPath,autoIncrement:!0}).createIndex(bn.userMutationsIndex,bn.userMutationsKeyPath,{unique:!0});const A=E.store(bn.store),O=D.map(V=>A.put(V));return Se.waitFor(O)})}(r,u))),p=p.next(()=>{!function(_){_.createObjectStore(Ua.store,{keyPath:Ua.keyPath})}(r)})),s<5&&l>=5&&(p=p.next(()=>this.Ce(u))),s<6&&l>=6&&(p=p.next(()=>(function(_){_.createObjectStore(to.store)}(r),this.Ne(u)))),s<7&&l>=7&&(p=p.next(()=>this.xe(u))),s<8&&l>=8&&(p=p.next(()=>this.ke(r,u))),s<9&&l>=9&&(p=p.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(r),function(_){const E=_.objectStore(Vn.store);E.createIndex(Vn.readTimeIndex,Vn.readTimeIndexPath,{unique:!1}),E.createIndex(Vn.collectionReadTimeIndex,Vn.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&l>=10&&(p=p.next(()=>this.$e(u))),s<11&&l>=11&&(p=p.next(()=>{(function(_){_.createObjectStore(gh.store,{keyPath:gh.keyPath})})(r),function(_){_.createObjectStore(gu.store,{keyPath:gu.keyPath})}(r)})),p}Ne(r){let n=0;return r.store(Vn.store).Kt((s,l)=>{n+=vh(l)}).next(()=>{const s=new to(n);return r.store(to.store).put(to.key,s)})}Ce(r){const n=r.store(fu.store),s=r.store(bn.store);return n.Lt().next(l=>Se.forEach(l,u=>{const p=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.Lt(bn.userMutationsIndex,p).next(_=>Se.forEach(_,E=>{_t(E.userId===u.userId);const D=yh(this.N,E);return Gw(r,u.userId,D).next(()=>{})}))}))}xe(r){const n=r.store(Lr.store),s=r.store(Vn.store);return r.store(ns.store).get(ns.key).next(l=>{const u=[];return s.Kt((p,_)=>{const E=new Kt(p),D=[0,eo(E)];u.push(n.get(D).next(A=>A?Se.resolve():n.put(new Lr(0,eo(E),l.highestListenSequenceNumber))))}).next(()=>Se.waitFor(u))})}ke(r,n){r.createObjectStore(pu.store,{keyPath:pu.keyPath});const s=n.store(pu.store),l=new Hw,u=p=>{if(l.add(p)){const _=p.lastSegment(),E=p.popLast();return s.put({collectionId:_,parent:eo(E)})}};return n.store(Vn.store).Kt({qt:!0},(p,_)=>{const E=new Kt(p);return u(E.popLast())}).next(()=>n.store(Fr.store).Kt({qt:!0},([p,_,E],D)=>{const A=Ba(_);return u(A.popLast())}))}$e(r){const n=r.store(wr.store);return n.Kt((s,l)=>{const u=pg(l),p=DI(this.N,u);return n.put(p)})}}function zM(i){i.createObjectStore(Lr.store,{keyPath:Lr.keyPath}).createIndex(Lr.documentTargetsIndex,Lr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.queryTargetsIndexName,wr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(ns.store)}const Yw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zw{constructor(r,n,s,l,u,p,_,E,D,A){if(this.allowTabSynchronization=r,this.persistenceKey=n,this.clientId=s,this.Oe=u,this.window=p,this.document=_,this.Fe=D,this.Me=A,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=O=>Promise.resolve(),!Zw.bt())throw new Me(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wh(this,l),this.We=n+"main",this.N=new CI(E),this.Ge=new no(this.We,11,new $M(this.N)),this.ze=new kI(this.referenceDelegate,this.N),this.Ht=new UM,this.He=new zo(this.N,this.Ht),this.Je=new SI,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===A&&Ln("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(he.FAILED_PRECONDITION,Yw);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new es(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var n=this;return this.Qe=function(){var s=(0,Ee.Z)(function*(l){if(n.started)return r(l)});return function(l){return s.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var n=(0,Ee.Z)(function*(s){null===s.newVersion&&(yield r())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(r){var n=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Ee.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Eh(r).put(new Ua(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(n=>this.isPrimary&&!n?this.on(r).next(()=>!1):!!n&&this.an(r).next(()=>!0))).catch(r=>{if(Hl(r))return ke("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return mg(r).get(Ss.key).next(n=>Se.resolve(this.cn(n)))}un(r){return Eh(r).delete(this.clientId)}hn(){var r=this;return(0,Ee.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const n=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=xi(s,Ua.store);return l.Lt().next(u=>{const p=r.fn(u,18e5),_=u.filter(E=>-1===p.indexOf(E));return Se.forEach(_,E=>l.delete(E.clientId)).next(()=>_)})}).catch(()=>[]);if(r.Ye)for(const s of n)r.Ye.removeItem(r.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Se.resolve(!0):mg(r).get(Ss.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Me(he.FAILED_PRECONDITION,Yw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Eh(r).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const p=!this.inForeground&&l.inForeground,_=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||p&&_)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&ke("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var r=this;return(0,Ee.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[Ss.store,Ua.store],n=>{const s=new Vw(n,es.T);return r.on(s).next(()=>r.un(s))}),r.Ge.close(),r.yn()})()}fn(r,n){return r.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>Eh(r).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(r){return $w.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,n,s){let u;return ke("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===n?"readonly":"readwrite",VM,p=>(u=new Vw(p,this.Le?this.Le.next():es.T),"readwrite-primary"===n?this.sn(u).next(_=>!!_||this.rn(u)).next(_=>{if(!_)throw Ln(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Me(he.FAILED_PRECONDITION,bI);return s(u)}).next(_=>this.an(u).next(()=>_)):this.En(u).next(()=>s(u)))).then(p=>(u.raiseOnCommittedEvent(),p))}En(r){return mg(r).get(Ss.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Me(he.FAILED_PRECONDITION,Yw)})}an(r){const n=new Ss(this.clientId,this.allowTabSynchronization,Date.now());return mg(r).put(Ss.key,n)}static bt(){return no.bt()}on(r){const n=mg(r);return n.get(Ss.key).next(s=>this.cn(s)?(ke("IndexedDbPersistence","Releasing primary lease."),n.delete(Ss.key)):Se.resolve())}ln(r,n){const s=Date.now();return!(r<s-n||r>s&&(Ln(`Detected an update time that is in the future: ${r} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,$t.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(r)));return ke("IndexedDbPersistence",`Client '${r}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ln("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Ln("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function mg(i){return xi(i,Ss.store)}function Eh(i){return xi(i,Ua.store)}function Dy(i,r){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+r+"/"+n+"/"}class Kw{constructor(r,n){this.progress=r,this.Tn=n}}class Qw{constructor(r,n,s){this.He=r,this.In=n,this.Ht=s}An(r,n){return this.In.getAllMutationBatchesAffectingDocumentKey(r,n).next(s=>this.Rn(r,n,s))}Rn(r,n,s){return this.He.getEntry(r,n).next(l=>{for(const u of s)u.applyToLocalView(l);return l})}bn(r,n){r.forEach((s,l)=>{for(const u of n)u.applyToLocalView(l)})}Pn(r,n){return this.He.getEntries(r,n).next(s=>this.vn(r,s).next(()=>s))}vn(r,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(r,n,s){return Ze.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(r,n.path):Ts(n)?this.Sn(r,n,s):this.Dn(r,n,s);var l}Vn(r,n){return this.An(r,new Ze(n)).next(s=>{let l=py();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(r,n,s){const l=n.collectionGroup;let u=py();return this.Ht.getCollectionParents(r,l).next(p=>Se.forEach(p,_=>{const E=(D=n,A=_.child(l),new La(A,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,A;return this.Dn(r,E,s).next(D=>{D.forEach((A,O)=>{u=u.insert(A,O)})})}).next(()=>u))}Dn(r,n,s){let l,u;return this.He.getDocumentsMatchingQuery(r,n,s).next(p=>(l=p,this.In.getAllMutationBatchesAffectingQuery(r,n))).next(p=>(u=p,this.Cn(r,u,l).next(_=>{l=_;for(const E of u)for(const D of E.mutations){const A=D.key;let O=l.get(A);null==O&&(O=pn.newInvalidDocument(A),l=l.insert(A,O)),hy(D,O,E.localWriteTime),O.isFoundDocument()||(l=l.remove(A))}}))).next(()=>(l.forEach((p,_)=>{lh(n,_)||(l=l.remove(p))}),l))}Cn(r,n,s){let l=Wt();for(const p of n)for(const _ of p.mutations)_ instanceof jl&&null===s.get(_.key)&&(l=l.add(_.key));let u=s;return this.He.getEntries(r,l).next(p=>(p.forEach((_,E)=>{E.isFoundDocument()&&(u=u.insert(_,E))}),u))}}class Jw{constructor(r,n,s,l){this.targetId=r,this.fromCache=n,this.Nn=s,this.xn=l}static kn(r,n){let s=Wt(),l=Wt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Jw(r,n.fromCache,s,l)}}class qM{$n(r){this.On=r}getDocumentsMatchingQuery(r,n,s,l){return 0===(u=n).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||s.isEqual(Tt.min())?this.Fn(r,n):this.On.Pn(r,l).next(u=>{const p=this.Mn(n,u);return(Zp(n)||Dw(n))&&this.Ln(n.limitType,p,l,s)?this.Fn(r,n):(AT()<=Fd.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cy(n)),this.On.getDocumentsMatchingQuery(r,n,s).next(_=>(p.forEach(E=>{_=_.insert(E.key,E)}),_)))});var u}Mn(r,n){let s=new In(GT(r));return n.forEach((l,u)=>{lh(r,u)&&(s=s.add(u))}),s}Ln(r,n,s,l){if(s.size!==n.size)return!0;const u="F"===r?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Fn(r,n){return AT()<=Fd.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",cy(n)),this.On.getDocumentsMatchingQuery(r,n,Tt.min())}}class WM{constructor(r,n,s,l){this.persistence=r,this.Bn=n,this.N=l,this.Un=new lr(Lt),this.qn=new gg(u=>ih(u),Wp),this.Kn=Tt.min(),this.In=r.getMutationQueue(s),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new Qw(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>r.collect(n,this.Un))}}function FI(i,r,n,s){return new WM(i,r,n,s)}function LI(i,r){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,Ee.Z)(function*(i,r){const n=Le(i);let s=n.In,l=n.Qn;const u=yield n.persistence.runTransaction("Handle user change","readonly",p=>{let _;return n.In.getAllMutationBatches(p).next(E=>(_=E,s=n.persistence.getMutationQueue(r),l=new Qw(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(E=>{const D=[],A=[];let O=Wt();for(const V of _){D.push(V.batchId);for(const B of V.mutations)O=O.add(B.key)}for(const V of E){A.push(V.batchId);for(const B of V.mutations)O=O.add(B.key)}return l.Pn(p,O).next(V=>({Wn:V,removedBatchIds:D,addedBatchIds:A}))})});return n.In=s,n.Qn=l,n.Bn.$n(n.Qn),u})).apply(this,arguments)}function VI(i,r){const n=Le(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=r.batch.keys(),u=n.jn.newChangeBuffer({trackRemovals:!0});return function(p,_,E,D){const A=E.batch,O=A.keys();let V=Se.resolve();return O.forEach(B=>{V=V.next(()=>D.getEntry(_,B)).next(W=>{const pe=E.docVersions.get(B);_t(null!==pe),W.version.compareTo(pe)<0&&(A.applyToRemoteDocument(W,E),W.isValidDocument()&&D.addEntry(W,E.commitVersion))})}),V.next(()=>p.In.removeMutationBatch(_,A))}(n,s,r,u).next(()=>u.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,l))})}function Xw(i){const r=Le(i);return r.persistence.runTransaction("Get last remote snapshot version","readonly",n=>r.ze.getLastRemoteSnapshotVersion(n))}function YM(i,r){const n=Le(i),s=r.snapshotVersion;let l=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const p=n.jn.newChangeBuffer({trackRemovals:!0});l=n.Un;const _=[];r.targetChanges.forEach((D,A)=>{const O=l.get(A);if(!O)return;_.push(n.ze.removeMatchingKeys(u,D.removedDocuments,A).next(()=>n.ze.addMatchingKeys(u,D.addedDocuments,A)));const V=D.resumeToken;if(V.approximateByteSize()>0){const B=O.withResumeToken(V,s).withSequenceNumber(u.currentSequenceNumber);l=l.insert(A,B),W=O,Te=D,_t((pe=B).resumeToken.approximateByteSize()>0),(0===W.resumeToken.approximateByteSize()||pe.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&_.push(n.ze.updateTargetData(u,B))}var W,pe,Te});let E=ts();if(r.documentUpdates.forEach((D,A)=>{r.resolvedLimboDocuments.has(D)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(u,D))}),_.push(BI(u,p,r.documentUpdates,s,void 0).next(D=>{E=D})),!s.isEqual(Tt.min())){const D=n.ze.getLastRemoteSnapshotVersion(u).next(A=>n.ze.setTargetsMetadata(u,u.currentSequenceNumber,s));_.push(D)}return Se.waitFor(_).next(()=>p.apply(u)).next(()=>n.Qn.vn(u,E)).next(()=>E)}).then(u=>(n.Un=l,u))}function BI(i,r,n,s,l){let u=Wt();return n.forEach(p=>u=u.add(p)),r.getEntries(i,u).next(p=>{let _=ts();return n.forEach((E,D)=>{const A=p.get(E),O=(null==l?void 0:l.get(E))||s;D.isNoDocument()&&D.version.isEqual(Tt.min())?(r.removeEntry(E,O),_=_.insert(E,D)):!A.isValidDocument()||D.version.compareTo(A.version)>0||0===D.version.compareTo(A.version)&&A.hasPendingWrites?(r.addEntry(D,O),_=_.insert(E,D)):ke("LocalStore","Ignoring outdated watch update for ",E,". Current version:",A.version," Watch version:",D.version)}),_})}function UI(i,r){const n=Le(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===r&&(r=-1),n.In.getNextMutationBatchAfterBatchId(s,r)))}function Ga(i,r){const n=Le(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.ze.getTargetData(s,r).next(u=>u?(l=u,Se.resolve(l)):n.ze.allocateTargetId(s).next(p=>(l=new Go(r,p,0,s.currentSequenceNumber),n.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(r,s.targetId)),s})}function Ch(i,r,n){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,Ee.Z)(function*(i,r,n){const s=Le(i),l=s.Un.get(r),u=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",u,p=>s.persistence.referenceDelegate.removeTarget(p,l)))}catch(p){if(!Hl(p))throw p;ke("LocalStore",`Failed to update sequence numbers for target ${r}: ${p}`)}s.Un=s.Un.remove(r),s.qn.delete(l.target)})).apply(this,arguments)}function wu(i,r,n){const s=Le(i);let l=Tt.min(),u=Wt();return s.persistence.runTransaction("Execute query","readonly",p=>function(_,E,D){const A=Le(_),O=A.qn.get(D);return void 0!==O?Se.resolve(A.Un.get(O)):A.ze.getTargetData(E,D)}(s,p,Is(r)).next(_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,_.targetId).next(E=>{u=E})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,r,n?l:Tt.min(),n?u:Wt())).next(_=>({documents:_,Gn:u})))}function _g(i,r){const n=Le(i),s=Le(n.ze),l=n.Un.get(r);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",u=>s.Et(u,r).next(p=>p?p.target:null))}function Th(i){const r=Le(i);return r.persistence.runTransaction("Get new document changes","readonly",n=>function(s,l,u){const p=Le(s);let _=ts(),E=jw(u);const D=ro(l),A=IDBKeyRange.lowerBound(E,!0);return D.Kt({index:Vn.readTimeIndex,range:A},(O,V)=>{const B=by(p.N,V);_=_.insert(B.key,B),E=V.readTime}).next(()=>({Tn:_,readTime:II(E)}))}(r.jn,n,r.Kn)).then(({Tn:n,readTime:s})=>(r.Kn=s,n))}function eE(){return(eE=(0,Ee.Z)(function*(i){const r=Le(i);return r.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const l=ro(s);let u=Tt.min();return l.Kt({index:Vn.readTimeIndex,reverse:!0},(p,_,E)=>{_.readTime&&(u=II(_.readTime)),E.done()}).next(()=>u)}(n)).then(n=>{r.Kn=n})})).apply(this,arguments)}function tE(){return(tE=(0,Ee.Z)(function*(i,r,n,s){const l=Le(i);let u=Wt(),p=ts(),_=xw();for(const A of n){const O=r.zn(A.metadata.name);A.document&&(u=u.add(O)),p=p.insert(O,r.Hn(A)),_=_.insert(O,r.Jn(A.metadata.readTime))}const E=l.jn.newChangeBuffer({trackRemovals:!0}),D=yield Ga(l,(A=s,Is(oh(Kt.fromString(`__bundle__/docs/${A}`)))));var A;return l.persistence.runTransaction("Apply bundle documents","readwrite",A=>BI(A,E,p,Tt.min(),_).next(O=>(E.apply(A),O)).next(O=>l.ze.removeMatchingKeysForTargetId(A,D.targetId).next(()=>l.ze.addMatchingKeys(A,u,D.targetId)).next(()=>l.Qn.vn(A,O)).next(()=>O)))})).apply(this,arguments)}function KM(i,r){return nE.apply(this,arguments)}function nE(){return(nE=(0,Ee.Z)(function*(i,r,n=Wt()){const s=yield Ga(i,Is(wy(r.bundledQuery))),l=Le(i);return l.persistence.runTransaction("Save named query","readwrite",u=>{const p=zn(r.readTime);if(s.snapshotVersion.compareTo(p)>=0)return l.Je.saveNamedQuery(u,r);const _=s.withResumeToken(br.EMPTY_BYTE_STRING,p);return l.Un=l.Un.insert(_.targetId,_),l.ze.updateTargetData(u,_).next(()=>l.ze.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>l.ze.addMatchingKeys(u,n,s.targetId)).next(()=>l.Je.saveNamedQuery(u,r))})})).apply(this,arguments)}class QM{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,n){return Se.resolve(this.Yn.get(n))}saveBundleMetadata(r,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:zn(s.createTime)}),Se.resolve()}getNamedQuery(r,n){return Se.resolve(this.Xn.get(n))}saveNamedQuery(r,n){return this.Xn.set(n.name,{name:(s=n).name,query:wy(s.bundledQuery),readTime:zn(s.readTime)}),Se.resolve();var s}}class rE{constructor(){this.Zn=new In(Er.ts),this.es=new In(Er.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,n){const s=new Er(r,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(r,n){r.forEach(s=>this.addReference(s,n))}removeReference(r,n){this.rs(new Er(r,n))}os(r,n){r.forEach(s=>this.removeReference(s,n))}cs(r){const n=new Ze(new Kt([])),s=new Er(n,r),l=new Er(n,r+1),u=[];return this.es.forEachInRange([s,l],p=>{this.rs(p),u.push(p.key)}),u}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const n=new Ze(new Kt([])),s=new Er(n,r),l=new Er(n,r+1);let u=Wt();return this.es.forEachInRange([s,l],p=>{u=u.add(p.key)}),u}containsKey(r){const n=new Er(r,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&r.isEqual(s.key)}}class Er{constructor(r,n){this.key=r,this.ls=n}static ts(r,n){return Ze.comparator(r.key,n.key)||Lt(r.ls,n.ls)}static ns(r,n){return Lt(r.ls,n.ls)||Ze.comparator(r.key,n.key)}}class JM{constructor(r,n){this.Ht=r,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new In(Er.ts)}checkEmpty(r){return Se.resolve(0===this.In.length)}addMutationBatch(r,n,s,l){const u=this.fs;this.fs++;const p=new Bw(u,n,s,l);this.In.push(p);for(const _ of l)this.ds=this.ds.add(new Er(_.key,u)),this.Ht.addToCollectionParentIndex(r,_.key.path.popLast());return Se.resolve(p)}lookupMutationBatch(r,n){return Se.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(r,n){const l=this._s(n+1),u=l<0?0:l;return Se.resolve(this.In.length>u?this.In[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Se.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,n){const s=new Er(n,0),l=new Er(n,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([s,l],p=>{const _=this.ws(p.ls);u.push(_)}),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(r,n){let s=new In(Lt);return n.forEach(l=>{const u=new Er(l,0),p=new Er(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,p],_=>{s=s.add(_.ls)})}),Se.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(r,n){const s=n.path,l=s.length+1;let u=s;Ze.isDocumentKey(u)||(u=u.child(""));const p=new Er(new Ze(u),0);let _=new In(Lt);return this.ds.forEachWhile(E=>{const D=E.key.path;return!!s.isPrefixOf(D)&&(D.length===l&&(_=_.add(E.ls)),!0)},p),Se.resolve(this.gs(_))}gs(r){const n=[];return r.forEach(s=>{const l=this.ws(s);null!==l&&n.push(l)}),n}removeMutationBatch(r,n){_t(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Se.forEach(n.mutations,l=>{const u=new Er(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(r,l.key)}).next(()=>{this.ds=s})}te(r){}containsKey(r,n){const s=new Er(n,0),l=this.ds.firstAfterOrEqual(s);return Se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(r){return Se.resolve()}ys(r,n){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const n=this._s(r);return n<0||n>=this.In.length?null:this.In[n]}}class XM{constructor(r,n){this.Ht=r,this.ps=n,this.docs=new lr(Ze.comparator),this.size=0}addEntry(r,n,s){const l=n.key,u=this.docs.get(l),p=u?u.size:0,_=this.ps(n);return this.docs=this.docs.insert(l,{document:n.clone(),size:_,readTime:s}),this.size+=_-p,this.Ht.addToCollectionParentIndex(r,l.path.popLast())}removeEntry(r){const n=this.docs.get(r);n&&(this.docs=this.docs.remove(r),this.size-=n.size)}getEntry(r,n){const s=this.docs.get(n);return Se.resolve(s?s.document.clone():pn.newInvalidDocument(n))}getEntries(r,n){let s=ts();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.clone():pn.newInvalidDocument(l))}),Se.resolve(s)}getDocumentsMatchingQuery(r,n,s){let l=ts();const u=new Ze(n.path.child("")),p=this.docs.getIteratorFrom(u);for(;p.hasNext();){const{key:_,value:{document:E,readTime:D}}=p.getNext();if(!n.path.isPrefixOf(_.path))break;D.compareTo(s)<=0||lh(n,E)&&(l=l.insert(E.key,E.clone()))}return Se.resolve(l)}Es(r,n){return Se.forEach(this.docs,s=>n(s))}newChangeBuffer(r){return new ex(this)}getSize(r){return Se.resolve(this.size)}}class ex extends NI{constructor(r){super(),this.Se=r}applyChanges(r){const n=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?n.push(this.Se.addEntry(r,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Se.waitFor(n)}getFromCache(r,n){return this.Se.getEntry(r,n)}getAllFromCache(r,n){return this.Se.getEntries(r,n)}}class sk{constructor(r){this.persistence=r,this.Ts=new gg(n=>ih(n),Wp),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Is=0,this.As=new rE,this.targetCount=0,this.Rs=_u.se()}forEachTarget(r,n){return this.Ts.forEach((s,l)=>n(l)),Se.resolve()}getLastRemoteSnapshotVersion(r){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Se.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(r,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Se.resolve()}ae(r){this.Ts.set(r.target,r);const n=r.targetId;n>this.highestTargetId&&(this.Rs=new _u(n),this.highestTargetId=n),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,n){return this.ae(n),this.targetCount+=1,Se.resolve()}updateTargetData(r,n){return this.ae(n),Se.resolve()}removeTargetData(r,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(r,n,s){let l=0;const u=[];return this.Ts.forEach((p,_)=>{_.sequenceNumber<=n&&null===s.get(_.targetId)&&(this.Ts.delete(p),u.push(this.removeMatchingKeysForTargetId(r,_.targetId)),l++)}),Se.waitFor(u).next(()=>l)}getTargetCount(r){return Se.resolve(this.targetCount)}getTargetData(r,n){const s=this.Ts.get(n)||null;return Se.resolve(s)}addMatchingKeys(r,n,s){return this.As.ss(n,s),Se.resolve()}removeMatchingKeys(r,n,s){this.As.os(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(p=>{u.push(l.markPotentiallyOrphaned(r,p))}),Se.waitFor(u)}removeMatchingKeysForTargetId(r,n){return this.As.cs(n),Se.resolve()}getMatchingKeysForTargetId(r,n){const s=this.As.hs(n);return Se.resolve(s)}containsKey(r,n){return Se.resolve(this.As.containsKey(n))}}class tx{constructor(r,n){this.bs={},this.Le=new es(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new sk(this),this.Ht=new xI,this.He=new XM(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new CI(n),this.Je=new QM(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let n=this.bs[r.toKey()];return n||(n=new JM(this.Ht,this.referenceDelegate),this.bs[r.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,n,s){ke("MemoryPersistence","Starting transaction:",r);const l=new yg(this.Le.next());return this.referenceDelegate.vs(),s(l).next(u=>this.referenceDelegate.Vs(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Ss(r,n){return Se.or(Object.values(this.bs).map(s=>()=>s.containsKey(r,n)))}}class yg extends mu{constructor(r){super(),this.currentSequenceNumber=r}}class iE{constructor(r){this.persistence=r,this.Ds=new rE,this.Cs=null}static Ns(r){return new iE(r)}get xs(){if(this.Cs)return this.Cs;throw Je()}addReference(r,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Se.resolve()}removeReference(r,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Se.resolve()}markPotentiallyOrphaned(r,n){return this.xs.add(n.toString()),Se.resolve()}removeTarget(r,n){this.Ds.cs(n.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(r,n.targetId).next(l=>{l.forEach(u=>this.xs.add(u.toString()))}).next(()=>s.removeTargetData(r,n))}vs(){this.Cs=new Set}Vs(r){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.xs,s=>{const l=Ze.fromPath(s);return this.ks(r,l).next(u=>{u||n.removeEntry(l)})}).next(()=>(this.Cs=null,n.apply(r)))}updateLimboDocument(r,n){return this.ks(r,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(r){return 0}ks(r,n){return Se.or([()=>Se.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(r,n),()=>this.persistence.Ss(r,n)])}}function jI(i,r){return`firestore_clients_${i}_${r}`}function HI(i,r,n){let s=`firestore_mutations_${i}_${n}`;return r.isAuthenticated()&&(s+=`_${r.uid}`),s}function Ih(i,r){return`firestore_targets_${i}_${r}`}class qo{constructor(r,n,s,l){this.user=r,this.batchId=n,this.state=s,this.error=l}static $s(r,n,s){const l=JSON.parse(s);let u,p="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return p&&l.error&&(p="string"==typeof l.error.message&&"string"==typeof l.error.code,p&&(u=new Me(l.error.code,l.error.message))),p?new qo(r,n,l.state,u):(Ln("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Dh{constructor(r,n,s){this.targetId=r,this.state=n,this.error=s}static $s(r,n){const s=JSON.parse(n);let l,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(l=new Me(s.error.code,s.error.message))),u?new Dh(r,s.state,l):(Ln("SharedClientState",`Failed to parse target state for ID '${r}': ${n}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class My{constructor(r,n){this.clientId=r,this.activeTargetIds=n}static $s(r,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,u=Ho();for(let p=0;l&&p<s.activeTargetIds.length;++p)l=ry(s.activeTargetIds[p]),u=u.add(s.activeTargetIds[p]);return l?new My(r,u):(Ln("SharedClientState",`Failed to parse client data for instance '${r}': ${n}`),null)}}class GI{constructor(r,n){this.clientId=r,this.onlineState=n}static $s(r){const n=JSON.parse(r);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new GI(n.clientId,n.onlineState):(Ln("SharedClientState",`Failed to parse online state: ${r}`),null)}}class sE{constructor(){this.activeTargetIds=Ho()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Sh{constructor(r,n,s,l,u){this.window=r,this.Oe=n,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new lr(Lt),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.js=jI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new sE),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ee.Z)(function*(){const n=yield r.syncEngine.pn();for(const l of n){if(l===r.Ls)continue;const u=r.getItem(jI(r.persistenceKey,l));if(u){const p=My.$s(l,u);p&&(r.qs=r.qs.insert(p.clientId,p))}}r.Ys();const s=r.storage.getItem(r.Hs);if(s){const l=r.Xs(s);l&&r.Zs(l)}for(const l of r.Ks)r.Us(l);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let n=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(r)&&(n=!0)}),n}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,n,s){this.ei(r,n,s),this.ni(r)}addLocalQueryTarget(r){let n="not-current";if(this.isActiveQueryTarget(r)){const s=this.storage.getItem(Ih(this.persistenceKey,r));if(s){const l=Dh.$s(r,s);l&&(n=l.state)}}return this.si.Fs(r),this.Ys(),n}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(Ih(this.persistenceKey,r))}updateQueryState(r,n,s){this.ii(r,n,s)}handleUserChange(r,n,s){n.forEach(l=>{this.ni(l)}),this.currentUser=r,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const n=this.storage.getItem(r);return ke("SharedClientState","READ",r,n),n}setItem(r,n){ke("SharedClientState","SET",r,n),this.storage.setItem(r,n)}removeItem(r){ke("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var n=this;const s=r;if(s.storageArea===this.storage){if(ke("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Ln("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ee.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const l=n.ai(s.key);return n.ci(l,null)}{const l=n.ui(s.key,s.newValue);if(l)return n.ci(l.clientId,l)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const l=n.hi(s.key,s.newValue);if(l)return n.li(l)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const l=n.fi(s.key,s.newValue);if(l)return n.di(l)}}else if(s.key===n.Hs){if(null!==s.newValue){const l=n.Xs(s.newValue);if(l)return n.Zs(l)}}else if(s.key===n.Qs){const l=function(u){let p=es.T;if(null!=u)try{const _=JSON.parse(u);_t("number"==typeof _),p=_}catch(_){Ln("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(s.newValue);l!==es.T&&n.sequenceNumberHandler(l)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,n,s){const l=new qo(this.currentUser,r,n,s),u=HI(this.persistenceKey,this.currentUser,r);this.setItem(u,l.Os())}ni(r){const n=HI(this.persistenceKey,this.currentUser,r);this.removeItem(n)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,n,s){const l=Ih(this.persistenceKey,r),u=new Dh(r,n,s);this.setItem(l,u.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const n=this.Ws.exec(r);return n?n[1]:null}ui(r,n){const s=this.ai(r);return My.$s(s,n)}hi(r,n){const s=this.Gs.exec(r),l=Number(s[1]);return qo.$s(new Zr(void 0!==s[2]?s[2]:null),l,n)}fi(r,n){const s=this.zs.exec(r),l=Number(s[1]);return Dh.$s(l,n)}Xs(r){return GI.$s(r)}li(r){var n=this;return(0,Ee.Z)(function*(){if(r.user.uid===n.currentUser.uid)return n.syncEngine._i(r.batchId,r.state,r.error);ke("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,n){const s=n?this.qs.insert(r,n):this.qs.remove(r),l=this.ti(this.qs),u=this.ti(s),p=[],_=[];return u.forEach(E=>{l.has(E)||p.push(E)}),l.forEach(E=>{u.has(E)||_.push(E)}),this.syncEngine.gi(p,_).then(()=>{this.qs=s})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let n=Ho();return r.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class $I{constructor(){this.yi=new sE,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,n,s){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,n,s){this.pi[r]=n}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new sE,Promise.resolve()}handleUserChange(r,n,s){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class nx{Ei(r){}shutdown(){}}class oE{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(r){this.bi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.bi)r(0)}Ri(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.bi)r(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class aE{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class qI extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,n,s,l){const u=this.Bi(r,n);ke("RestConnection","Sending: ",u,s);const p={};return this.Ui(p,l),this.qi(r,u,p,s).then(_=>(ke("RestConnection","Received: ",_),_),_=>{throw iu("RestConnection",`${r} failed with error: `,_,"url: ",u,"request:",s),_})}Ki(r,n,s,l){return this.Li(r,n,s,l)}Ui(r,n){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+Up,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(r[s]=n.authHeaders[s])}Bi(r,n){return`${this.Fi}/v1/${n}:${zI[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,n,s,l){return new Promise((u,p)=>{const _=new ST;_.listenOnce(IT.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bp.NO_ERROR:const D=_.getResponseJson();ke("Connection","XHR received:",JSON.stringify(D)),u(D);break;case Bp.TIMEOUT:ke("Connection",'RPC "'+r+'" timed out'),p(new Me(he.DEADLINE_EXCEEDED,"Request time out"));break;case Bp.HTTP_ERROR:const A=_.getStatus();if(ke("Connection",'RPC "'+r+'" failed with status:',A,"response text:",_.getResponseText()),A>0){const O=_.getResponseJson().error;if(O&&O.status&&O.message){const V=function(B){const W=B.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(W)>=0?W:he.UNKNOWN}(O.status);p(new Me(V,O.message))}else p(new Me(he.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Me(he.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{ke("Connection",'RPC "'+r+'" completed.')}});const E=JSON.stringify(l);_.send(n,"POST",E,s,15)})}ji(r,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],l=new Vp,u=vp(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new DT({})),this.Ui(p.initMessageHeaders,n),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=s.join("");ke("Connection","Creating WebChannel: "+_,p);const E=l.createWebChannel(_,p);let D=!1,A=!1;const O=new aE({vi:B=>{A?ke("Connection","Not sending because WebChannel is closed:",B):(D||(ke("Connection","Opening WebChannel transport."),E.open(),D=!0),ke("Connection","WebChannel sending:",B),E.send(B))},Vi:()=>E.close()}),V=(B,W,pe)=>{B.listen(W,Te=>{try{pe(Te)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return V(E,ey.EventType.OPEN,()=>{A||ke("Connection","WebChannel transport opened.")}),V(E,ey.EventType.CLOSE,()=>{A||(A=!0,ke("Connection","WebChannel transport closed"),O.$i())}),V(E,ey.EventType.ERROR,B=>{A||(A=!0,iu("Connection","WebChannel transport errored:",B),O.$i(new Me(he.UNAVAILABLE,"The operation could not be completed")))}),V(E,ey.EventType.MESSAGE,B=>{var W;if(!A){const pe=B.data[0];_t(!!pe);const Te=pe,Ve=Te.error||(null===(W=Te[0])||void 0===W?void 0:W.error);if(Ve){ke("Connection","WebChannel received error:",Ve);const qe=Ve.status;let Ue=function(qn){const ls=Kn[qn];if(void 0!==ls)return iI(ls)}(qe),ut=Ve.message;void 0===Ue&&(Ue=he.INTERNAL,ut="Unknown error status: "+qe+" with message "+Ve.message),A=!0,O.$i(new Me(Ue,ut)),E.close()}else ke("Connection","WebChannel received:",pe),O.Oi(pe)}}),V(u,gw.STAT_EVENT,B=>{B.stat===mw_PROXY?ke("Connection","Detected buffering proxy"):B.stat===mw_NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.ki()},0),O}}function lE(){return"undefined"!=typeof window?window:null}function xy(){return"undefined"!=typeof document?document:null}function vg(i){return new OM(i,!0)}class Oy{constructor(r,n,s=1e3,l=1.5,u=6e4){this.Oe=r,this.timerId=n,this.Qi=s,this.Wi=l,this.Gi=u,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,n-s);l>0&&ke("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class WI{constructor(r,n,s,l,u,p){this.Oe=r,this.er=s,this.nr=l,this.credentialsProvider=u,this.listener=p,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Oy(r,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Ee.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Ee.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,n){var s=this;return(0,Ee.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==r?s.rr.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===he.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=r,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{r(()=>{const l=new Me(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(r){const n=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Ee.Z)(function*(){r.state=0,r.start()}))}pr(r){return ke("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return n=>{this.Oe.enqueueAndForget(()=>this.sr===r?n():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YI extends WI{constructor(r,n,s,l,u){super(r,"listen_stream_connection_backoff","listen_stream_idle",n,s,u),this.N=l}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const n=function(i,r){let n;if("targetChange"in r){const s="NO_CHANGE"===(E=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Je(),l=r.targetChange.targetIds||[],u=function(E,D){return E.D?(_t(void 0===D||"string"==typeof D),br.fromBase64String(D||"")):(_t(void 0===D||D instanceof Uint8Array),br.fromUint8Array(D||new Uint8Array))}(i,r.targetChange.resumeToken),p=r.targetChange.cause,_=p&&function(E){const D=void 0===E.code?he.UNKNOWN:iI(E.code);return new Me(D,E.message||"")}(p);n=new gy(s,l,u,_||null)}else if("documentChange"in r){const s=r.documentChange,l=Xs(i,s.document.name),u=zn(s.document.updateTime),p=new Nr({mapValue:{fields:s.document.fields}}),_=pn.newFoundDocument(l,u,p);n=new Va(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in r){const s=r.documentDelete,l=Xs(i,s.document),u=s.readTime?zn(s.readTime):Tt.min(),p=pn.newNoDocument(l,u);n=new Va([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in r){const s=r.documentRemove,l=Xs(i,s.document);n=new Va([],s.removedTargetIds||[],l,null)}else{if(!("filter"in r))return Je();{const s=r.filter,u=new DM(s.count||0);n=new SM(s.targetId,u)}}var E;return n}(this.N,r),s=function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?zn(u.readTime):Tt.min()}(r);return this.listener.Tr(n,s)}Ir(r){const n={};n.database=dh(this.N),n.addTarget=function(l,u){let p;const _=u.target;return p=Yp(_)?{documents:hI(l,_)}:{query:fI(l,_)},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?p.resumeToken=ag(l,u.resumeToken):u.snapshotVersion.compareTo(Tt.min())>0&&(p.readTime=og(l,u.snapshotVersion.toTimestamp())),p}(this.N,r);const s=function(i,r){const n=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,r.purpose);return null==n?null:{"goog-listen-tags":n}}(0,r);s&&(n.labels=s),this.wr(n)}Ar(r){const n={};n.database=dh(this.N),n.removeTarget=r,this.wr(n)}}class Ry extends WI{constructor(r,n,s,l,u){super(r,"write_stream_connection_backoff","write_stream_idle",n,s,u),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(_t(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const n=function(i,r){return i&&i.length>0?(_t(void 0!==r),i.map(n=>function(s,l){let u=zn(s.updateTime?s.updateTime:l);return u.isEqual(Tt.min())&&(u=zn(l)),new ZT(u,s.transformResults||[])}(n,r))):[]}(r.writeResults,r.commitTime),s=zn(r.commitTime);return this.listener.vr(s,n)}return _t(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=dh(this.N),this.wr(r)}Pr(r){const n={streamToken:this.lastStreamToken,writes:r.map(s=>_y(this.N,s))};this.wr(n)}}class ky extends class{}{constructor(r,n,s){super(),this.credentials=r,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,n,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(r,n,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===he.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Me(he.UNKNOWN,l.toString())})}Ki(r,n,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(r,n,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===he.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Me(he.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class ok{constructor(r,n){this.asyncQueue=r,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const n=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Ln(n),this.$r=!1):ke("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class bg{constructor(r,n,s,l,u){var p=this;this.localStore=r,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=u,this.Qr.Ei(_=>{s.enqueueAndForget((0,Ee.Z)(function*(){var E;za(p)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Ee.Z)(function*(D){const A=Le(D);A.Kr.add(4),yield io(A),A.Wr.set("Unknown"),A.Kr.delete(4),yield Ht(A)}),function(D){return E.apply(this,arguments)})(p))}))}),this.Wr=new ok(s,l)}}function Ht(i){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,Ee.Z)(function*(i){if(za(i))for(const r of i.jr)yield r(!0)})).apply(this,arguments)}function io(i){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,Ee.Z)(function*(i){for(const r of i.jr)yield r(!1)})).apply(this,arguments)}function cE(i,r){const n=Le(i);n.qr.has(r.targetId)||(n.qr.set(r.targetId,r),ZI(n)?$a(n):Cu(n).cr()&&Oi(n,r))}function gt(i,r){const n=Le(i),s=Cu(n);n.qr.delete(r),s.cr()&&Ny(n,r),0===n.qr.size&&(s.cr()?s.lr():za(n)&&n.Wr.set("Unknown"))}function Oi(i,r){i.Gr.Y(r.targetId),Cu(i).Ir(r)}function Ny(i,r){i.Gr.Y(r),Cu(i).Ar(r)}function $a(i){i.Gr=new uI({getRemoteKeysForTarget:r=>i.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>i.qr.get(r)||null}),Cu(i).start(),i.Wr.Or()}function ZI(i){return za(i)&&!Cu(i).ar()&&i.qr.size>0}function za(i){return 0===Le(i).Kr.size}function uE(i){i.Gr=void 0}function ak(i){return dE.apply(this,arguments)}function dE(){return(dE=(0,Ee.Z)(function*(i){i.qr.forEach((r,n)=>{Oi(i,r)})})).apply(this,arguments)}function rx(i,r){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,Ee.Z)(function*(i,r){uE(i),ZI(i)?(i.Wr.Lr(r),$a(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function Sn(i,r,n){return rs.apply(this,arguments)}function rs(){return(rs=(0,Ee.Z)(function*(i,r,n){if(i.Wr.set("Online"),r instanceof gy&&2===r.state&&r.cause)try{yield(s=(0,Ee.Z)(function*(l,u){const p=u.cause;for(const _ of u.targetIds)l.qr.has(_)&&(yield l.remoteSyncer.rejectListen(_,p),l.qr.delete(_),l.Gr.removeTarget(_))}),function(l,u){return s.apply(this,arguments)})(i,r)}catch(s){ke("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),s),yield wg(i,s)}else if(r instanceof Va?i.Gr.rt(r):r instanceof SM?i.Gr.ft(r):i.Gr.ct(r),!n.isEqual(Tt.min()))try{const s=yield Xw(i.localStore);n.compareTo(s)>=0&&(yield function(l,u){const p=l.Gr._t(u);return p.targetChanges.forEach((_,E)=>{if(_.resumeToken.approximateByteSize()>0){const D=l.qr.get(E);D&&l.qr.set(E,D.withResumeToken(_.resumeToken,u))}}),p.targetMismatches.forEach(_=>{const E=l.qr.get(_);if(!E)return;l.qr.set(_,E.withResumeToken(br.EMPTY_BYTE_STRING,E.snapshotVersion)),Ny(l,_);const D=new Go(E.target,_,1,E.sequenceNumber);Oi(l,D)}),l.remoteSyncer.applyRemoteEvent(p)}(i,n))}catch(s){ke("RemoteStore","Failed to raise snapshot:",s),yield wg(i,s)}var s})).apply(this,arguments)}function wg(i,r,n){return hE.apply(this,arguments)}function hE(){return(hE=(0,Ee.Z)(function*(i,r,n){if(!Hl(r))throw r;i.Kr.add(1),yield io(i),i.Wr.set("Offline"),n||(n=()=>Xw(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield n(),i.Kr.delete(1),yield Ht(i)}))})).apply(this,arguments)}function fE(i,r){return r().catch(n=>wg(i,n,r))}function Gl(i){return $l.apply(this,arguments)}function $l(){return($l=(0,Ee.Z)(function*(i){const r=Le(i),n=so(r);let s=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Eg(r);)try{const l=yield UI(r.localStore,s);if(null===l){0===r.Ur.length&&n.lr();break}s=l.batchId,ix(r,l)}catch(l){yield wg(r,l)}zl(r)&&KI(r)})).apply(this,arguments)}function Eg(i){return za(i)&&i.Ur.length<10}function ix(i,r){i.Ur.push(r);const n=so(i);n.cr()&&n.br&&n.Pr(r.mutations)}function zl(i){return za(i)&&!so(i).ar()&&i.Ur.length>0}function KI(i){so(i).start()}function QI(i){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,Ee.Z)(function*(i){so(i).Sr()})).apply(this,arguments)}function Tg(i){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,Ee.Z)(function*(i){const r=so(i);for(const n of i.Ur)r.Pr(n.mutations)})).apply(this,arguments)}function JI(i,r,n){return ql.apply(this,arguments)}function ql(){return(ql=(0,Ee.Z)(function*(i,r,n){const s=i.Ur.shift(),l=Uw.from(s,r,n);yield fE(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Gl(i)})).apply(this,arguments)}function sx(i,r){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,Ee.Z)(function*(i,r){var n;r&&so(i).br&&(yield(n=(0,Ee.Z)(function*(s,l){if(rI(u=l.code)&&u!==he.ABORTED){const p=s.Ur.shift();so(s).hr(),yield fE(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,l)),yield Gl(s)}var u}),function(s,l){return n.apply(this,arguments)})(i,r)),zl(i)&&KI(i)})).apply(this,arguments)}function Py(i,r){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,Ee.Z)(function*(i,r){const n=Le(i);r?(n.Kr.delete(2),yield Ht(n)):r||(n.Kr.add(2),yield io(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Cu(i){return i.zr||(i.zr=function(r,n,s){const l=Le(r);return l.Cr(),new YI(n,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:ak.bind(null,i),Ci:rx.bind(null,i),Tr:Sn.bind(null,i)}),i.jr.push(function(){var r=(0,Ee.Z)(function*(n){n?(i.zr.hr(),ZI(i)?$a(i):i.Wr.set("Unknown")):(yield i.zr.stop(),uE(i))});return function(n){return r.apply(this,arguments)}}())),i.zr}function so(i){return i.Hr||(i.Hr=function(r,n,s){const l=Le(r);return l.Cr(),new Ry(n,l.nr,l.credentials,l.N,s)}(i.datastore,i.asyncQueue,{Si:QI.bind(null,i),Ci:sx.bind(null,i),Vr:Tg.bind(null,i),vr:JI.bind(null,i)}),i.jr.push(function(){var r=(0,Ee.Z)(function*(n){n?(i.Hr.hr(),yield Gl(i)):(yield i.Hr.stop(),i.Ur.length>0&&(ke("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(n){return r.apply(this,arguments)}}())),i.Hr}class pE{constructor(r,n,s,l,u){this.asyncQueue=r,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(r,n,s,l,u){const p=Date.now()+s,_=new pE(r,n,p,l,u);return _.start(s),_}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(he.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wl(i,r){if(Ln("AsyncQueue",`${r}: ${i}`),Hl(i))return new Me(he.UNAVAILABLE,`${r}: ${i}`);throw i}class Yl{constructor(r){this.comparator=r?(n,s)=>r(n,s)||Ze.comparator(n.key,s.key):(n,s)=>Ze.comparator(n.key,s.key),this.keyedMap=py(),this.sortedSet=new lr(this.comparator)}static emptySet(r){return new Yl(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const n=this.keyedMap.get(r);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((n,s)=>(r(n),!1))}add(r){const n=this.delete(r.key);return n.copy(n.keyedMap.insert(r.key,r),n.sortedSet.insert(r,null))}delete(r){const n=this.get(r);return n?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(n)):this}isEqual(r){if(!(r instanceof Yl)||this.size!==r.size)return!1;const n=this.sortedSet.getIterator(),s=r.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const r=[];return this.forEach(n=>{r.push(n.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,n){const s=new Yl;return s.comparator=this.comparator,s.keyedMap=r,s.sortedSet=n,s}}class ox{constructor(){this.Jr=new lr(Ze.comparator)}track(r){const n=r.doc.key,s=this.Jr.get(n);s?0!==r.type&&3===s.type?this.Jr=this.Jr.insert(n,r):3===r.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:r.doc}):2===r.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:r.doc}):2===r.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:r.doc}):1===r.type&&0===s.type?this.Jr=this.Jr.remove(n):1===r.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===r.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:r.doc}):Je():this.Jr=this.Jr.insert(n,r)}Yr(){const r=[];return this.Jr.inorderTraversal((n,s)=>{r.push(s)}),r}}class Dg{constructor(r,n,s,l,u,p,_,E){this.query=r,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=p,this.syncStateChanged=_,this.excludesMetadataChanges=E}static fromInitialDocuments(r,n,s,l){const u=[];return n.forEach(p=>{u.push({type:0,doc:p})}),new Dg(r,n,Yl.emptySet(n),u,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&di(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const n=this.docChanges,s=r.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class bt{constructor(){this.Xr=void 0,this.listeners=[]}}class lk{constructor(){this.queries=new gg(r=>Ds(r),di),this.onlineState="Unknown",this.Zr=new Set}}function Tu(i,r){return gE.apply(this,arguments)}function gE(){return(gE=(0,Ee.Z)(function*(i,r){const n=Le(i),s=r.query;let l=!1,u=n.queries.get(s);if(u||(l=!0,u=new bt),l)try{u.Xr=yield n.onListen(s)}catch(p){const _=Wl(p,`Initialization of query '${cy(r.query)}' failed`);return void r.onError(_)}n.queries.set(s,u),u.listeners.push(r),r.eo(n.onlineState),u.Xr&&r.no(u.Xr)&&yE(n)})).apply(this,arguments)}function mE(i,r){return _E.apply(this,arguments)}function _E(){return(_E=(0,Ee.Z)(function*(i,r){const n=Le(i),s=r.query;let l=!1;const u=n.queries.get(s);if(u){const p=u.listeners.indexOf(r);p>=0&&(u.listeners.splice(p,1),l=0===u.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function ck(i,r){const n=Le(i);let s=!1;for(const l of r){const p=n.queries.get(l.query);if(p){for(const _ of p.listeners)_.no(l)&&(s=!0);p.Xr=l}}s&&yE(n)}function uk(i,r,n){const s=Le(i),l=s.queries.get(r);if(l)for(const u of l.listeners)u.onError(n);s.queries.delete(r)}function yE(i){i.Zr.forEach(r=>{r.next()})}class Cr{constructor(r,n,s){this.query=r,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(r){if(!this.options.includeMetadataChanges){const s=[];for(const l of r.docChanges)3!==l.type&&s.push(l);r=new Dg(r.query,r.docs,r.oldDocs,s,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let n=!1;return this.io?this.oo(r)&&(this.so.next(r),n=!0):this.ao(r,this.onlineState)&&(this.co(r),n=!0),this.ro=r,n}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),n=!0),n}ao(r,n){return!r.fromCache||!(this.options.uo&&"Offline"!==n||r.docs.isEmpty()&&"Offline"!==n)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Dg.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class ax{constructor(r,n){this.payload=r,this.byteLength=n}ho(){return"metadata"in this.payload}}class XI{constructor(r){this.N=r}zn(r){return Xs(this.N,r)}Hn(r){return r.metadata.exists?Nw(this.N,r.document,!1):pn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return zn(r)}}class vE{constructor(r,n,s){this.lo=r,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=eD(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let n=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++n):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(r){const n=new Map,s=new XI(this.N);for(const l of r)if(l.metadata.queries){const u=s.zn(l.metadata.name);for(const p of l.metadata.queries){const _=(n.get(p)||Wt()).add(u);n.set(p,_)}}return n}complete(){var r=this;return(0,Ee.Z)(function*(){const n=yield function(i,r,n,s){return tE.apply(this,arguments)}(r.localStore,new XI(r.N),r.documents,r.lo.id),s=r.wo(r.documents);for(const l of r.queries)yield KM(r.localStore,l,s.get(l.name));return r.progress.taskState="Success",new Kw(Object.assign({},r.progress),n)})()}}function eD(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class tD{constructor(r){this.key=r}}class nD{constructor(r){this.key=r}}class rD{constructor(r,n){this.query=r,this._o=n,this.mo=null,this.current=!1,this.yo=Wt(),this.mutatedKeys=Wt(),this.po=GT(r),this.Eo=new Yl(this.po)}get To(){return this._o}Io(r,n){const s=n?n.Ao:new ox,l=n?n.Eo:this.Eo;let u=n?n.mutatedKeys:this.mutatedKeys,p=l,_=!1;const E=Zp(this.query)&&l.size===this.query.limit?l.last():null,D=Dw(this.query)&&l.size===this.query.limit?l.first():null;if(r.inorderTraversal((A,O)=>{const V=l.get(A),B=lh(this.query,O)?O:null,W=!!V&&this.mutatedKeys.has(V.key),pe=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Te=!1;V&&B?V.data.isEqual(B.data)?W!==pe&&(s.track({type:3,doc:B}),Te=!0):this.Ro(V,B)||(s.track({type:2,doc:B}),Te=!0,(E&&this.po(B,E)>0||D&&this.po(B,D)<0)&&(_=!0)):!V&&B?(s.track({type:0,doc:B}),Te=!0):V&&!B&&(s.track({type:1,doc:V}),Te=!0,(E||D)&&(_=!0)),Te&&(B?(p=p.add(B),u=pe?u.add(A):u.delete(A)):(p=p.delete(A),u=u.delete(A)))}),Zp(this.query)||Dw(this.query))for(;p.size>this.query.limit;){const A=Zp(this.query)?p.last():p.first();p=p.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{Eo:p,Ao:s,Ln:_,mutatedKeys:u}}Ro(r,n){return r.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(r,n,s){const l=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const u=r.Ao.Yr();u.sort((D,A)=>function(O,V){const B=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return B(O)-B(V)}(D.type,A.type)||this.po(D.doc,A.doc)),this.bo(s);const p=n?this.Po():[],_=0===this.yo.size&&this.current?1:0,E=_!==this.mo;return this.mo=_,0!==u.length||E?{snapshot:new Dg(this.query,r.Eo,l,u,r.mutatedKeys,0===_,E,!1),vo:p}:{vo:p}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new ox,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}bo(r){r&&(r.addedDocuments.forEach(n=>this._o=this._o.add(n)),r.modifiedDocuments.forEach(n=>{}),r.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=r.current)}Po(){if(!this.current)return[];const r=this.yo;this.yo=Wt(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return r.forEach(s=>{this.yo.has(s)||n.push(new nD(s))}),this.yo.forEach(s=>{r.has(s)||n.push(new tD(s))}),n}So(r){this._o=r.Gn,this.yo=Wt();const n=this.Io(r.documents);return this.applyChanges(n,!0)}Do(){return Dg.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class lx{constructor(r,n,s){this.query=r,this.targetId=n,this.view=s}}class cx{constructor(r){this.key=r,this.Co=!1}}class bE{constructor(r,n,s,l,u,p){this.localStore=r,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=p,this.No={},this.xo=new gg(_=>Ds(_),di),this.ko=new Map,this.$o=new Set,this.Oo=new lr(Ze.comparator),this.Fo=new Map,this.Mo=new rE,this.Lo={},this.Bo=new Map,this.Uo=_u.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function ux(i,r){return wE.apply(this,arguments)}function wE(){return(wE=(0,Ee.Z)(function*(i,r){const n=Uy(i);let s,l;const u=n.xo.get(r);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),l=u.view.Do();else{const p=yield Ga(n.localStore,Is(r)),_=n.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,l=yield Ly(n,r,s,"current"===_),n.isPrimaryClient&&cE(n.remoteStore,p)}return l})).apply(this,arguments)}function Ly(i,r,n,s){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,Ee.Z)(function*(i,r,n,s){i.Ko=(A,O,V)=>{return(B=(0,Ee.Z)(function*(W,pe,Te,Ve){let qe=pe.view.Io(Te);qe.Ln&&(qe=yield wu(W.localStore,pe.query,!1).then(({documents:qn})=>pe.view.Io(qn,qe)));const Ue=Ve&&Ve.targetChanges.get(pe.targetId),ut=pe.view.applyChanges(qe,W.isPrimaryClient,Ue);return SE(W,pe.targetId,ut.vo),ut.snapshot}),function(W,pe,Te,Ve){return B.apply(this,arguments)})(i,A,O,V);var B};const l=yield wu(i.localStore,r,!0),u=new rD(r,l.Gn),p=u.Io(l.documents),_=sg.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState),E=u.applyChanges(p,i.isPrimaryClient,_);SE(i,n,E.vo);const D=new lx(r,n,u);return i.xo.set(r,D),i.ko.has(n)?i.ko.get(n).push(r):i.ko.set(n,[r]),E.snapshot})).apply(this,arguments)}function dx(i,r){return iD.apply(this,arguments)}function iD(){return(iD=(0,Ee.Z)(function*(i,r){const n=Le(i),s=n.xo.get(r),l=n.ko.get(s.targetId);if(l.length>1)return n.ko.set(s.targetId,l.filter(u=>!di(u,r))),void n.xo.delete(r);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ch(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),gt(n.remoteStore,s.targetId),Mh(n,s.targetId)}).catch(bu))):(Mh(n,s.targetId),yield Ch(n.localStore,s.targetId,!0))})).apply(this,arguments)}function EE(){return(EE=(0,Ee.Z)(function*(i,r,n){const s=jy(i);try{const l=yield function(u,p){const _=Le(u),E=vr.now(),D=p.reduce((O,V)=>O.add(V.key),Wt());let A;return _.persistence.runTransaction("Locally write mutations","readwrite",O=>_.Qn.Pn(O,D).next(V=>{A=V;const B=[];for(const W of p){const pe=QT(W,A.get(W.key));null!=pe&&B.push(new jl(W.key,pe,ay(pe.value.mapValue),$n.exists(!0)))}return _.In.addMutationBatch(O,E,B,p)})).then(O=>(O.applyToLocalDocumentSet(A),{batchId:O.batchId,changes:A}))}(s.localStore,r);s.sharedClientState.addPendingMutation(l.batchId),function(u,p,_){let E=u.Lo[u.currentUser.toKey()];E||(E=new lr(Lt)),E=E.insert(p,_),u.Lo[u.currentUser.toKey()]=E}(s,l.batchId,n),yield qa(s,l.changes),yield Gl(s.remoteStore)}catch(l){const u=Wl(l,"Failed to persist write");n.reject(u)}})).apply(this,arguments)}function sD(i,r){return CE.apply(this,arguments)}function CE(){return(CE=(0,Ee.Z)(function*(i,r){const n=Le(i);try{const s=yield YM(n.localStore,r);r.targetChanges.forEach((l,u)=>{const p=n.Fo.get(u);p&&(_t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Co=!0:l.modifiedDocuments.size>0?_t(p.Co):l.removedDocuments.size>0&&(_t(p.Co),p.Co=!1))}),yield qa(n,s,r)}catch(s){yield bu(s)}})).apply(this,arguments)}function oD(i,r,n){const s=Le(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.xo.forEach((u,p)=>{const _=p.view.eo(r);_.snapshot&&l.push(_.snapshot)}),function(u,p){const _=Le(u);_.onlineState=p;let E=!1;_.queries.forEach((D,A)=>{for(const O of A.listeners)O.eo(p)&&(E=!0)}),E&&yE(_)}(s.eventManager,r),l.length&&s.No.Tr(l),s.onlineState=r,s.isPrimaryClient&&s.sharedClientState.setOnlineState(r)}}function fx(i,r,n){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,Ee.Z)(function*(i,r,n){const s=Le(i);s.sharedClientState.updateQueryState(r,"rejected",n);const l=s.Fo.get(r),u=l&&l.key;if(u){let p=new lr(Ze.comparator);p=p.insert(u,pn.newNoDocument(u,Tt.min()));const _=Wt().add(u),E=new ig(Tt.min(),new Map,new In(Lt),p,_);yield sD(s,E),s.Oo=s.Oo.remove(u),s.Fo.delete(r),AE(s)}else yield Ch(s.localStore,r,!1).then(()=>Mh(s,r,n)).catch(bu)})).apply(this,arguments)}function px(i,r){return TE.apply(this,arguments)}function TE(){return(TE=(0,Ee.Z)(function*(i,r){const n=Le(i),s=r.batch.batchId;try{const l=yield VI(n.localStore,r);DE(n,s,null),IE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield qa(n,l)}catch(l){yield bu(l)}})).apply(this,arguments)}function aD(i,r,n){return Du.apply(this,arguments)}function Du(){return(Du=(0,Ee.Z)(function*(i,r,n){const s=Le(i);try{const l=yield function(u,p){const _=Le(u);return _.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return _.In.lookupMutationBatch(E,p).next(A=>(_t(null!==A),D=A.keys(),_.In.removeMutationBatch(E,A))).next(()=>_.In.performConsistencyCheck(E)).next(()=>_.Qn.Pn(E,D))})}(s.localStore,r);DE(s,r,n),IE(s,r),s.sharedClientState.updateMutationState(r,"rejected",n),yield qa(s,l)}catch(l){yield bu(l)}})).apply(this,arguments)}function Vy(){return(Vy=(0,Ee.Z)(function*(i,r){const n=Le(i);za(n.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const p=Le(u);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>p.In.getHighestUnacknowledgedBatchId(_))}(n.localStore);if(-1===s)return void r.resolve();const l=n.Bo.get(s)||[];l.push(r),n.Bo.set(s,l)}catch(s){const l=Wl(s,"Initialization of waitForPendingWrites() operation failed");r.reject(l)}})).apply(this,arguments)}function IE(i,r){(i.Bo.get(r)||[]).forEach(n=>{n.resolve()}),i.Bo.delete(r)}function DE(i,r,n){const s=Le(i);let l=s.Lo[s.currentUser.toKey()];if(l){const u=l.get(r);u&&(n?u.reject(n):u.resolve(),l=l.remove(r)),s.Lo[s.currentUser.toKey()]=l}}function Mh(i,r,n=null){i.sharedClientState.removeLocalQueryTarget(r);for(const s of i.ko.get(r))i.xo.delete(s),n&&i.No.jo(s,n);i.ko.delete(r),i.isPrimaryClient&&i.Mo.cs(r).forEach(s=>{i.Mo.containsKey(s)||lD(i,s)})}function lD(i,r){i.$o.delete(r.path.canonicalString());const n=i.Oo.get(r);null!==n&&(gt(i.remoteStore,n),i.Oo=i.Oo.remove(r),i.Fo.delete(n),AE(i))}function SE(i,r,n){for(const s of n)s instanceof tD?(i.Mo.addReference(s.key,r),cD(i,s)):s instanceof nD?(ke("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,r),i.Mo.containsKey(s.key)||lD(i,s.key)):Je()}function cD(i,r){const n=r.key,s=n.path.canonicalString();i.Oo.get(n)||i.$o.has(s)||(ke("SyncEngine","New document in limbo: "+n),i.$o.add(s),AE(i))}function AE(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const r=i.$o.values().next().value;i.$o.delete(r);const n=new Ze(Kt.fromString(r)),s=i.Uo.next();i.Fo.set(s,new cx(n)),i.Oo=i.Oo.insert(n,s),cE(i.remoteStore,new Go(Is(oh(n.path)),s,2,es.T))}}function qa(i,r,n){return uD.apply(this,arguments)}function uD(){return(uD=(0,Ee.Z)(function*(i,r,n){const s=Le(i),l=[],u=[],p=[];var _;s.xo.isEmpty()||(s.xo.forEach((_,E)=>{p.push(s.Ko(E,r,n).then(D=>{if(D){s.isPrimaryClient&&s.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),l.push(D);const A=Jw.kn(E.targetId,D);u.push(A)}}))}),yield Promise.all(p),s.No.Tr(l),yield(_=(0,Ee.Z)(function*(E,D){const A=Le(E);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Se.forEach(D,V=>Se.forEach(V.Nn,B=>A.persistence.referenceDelegate.addReference(O,V.targetId,B)).next(()=>Se.forEach(V.xn,B=>A.persistence.referenceDelegate.removeReference(O,V.targetId,B)))))}catch(O){if(!Hl(O))throw O;ke("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const V=O.targetId;if(!O.fromCache){const B=A.Un.get(V),pe=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.Un=A.Un.insert(V,pe)}}}),function(E,D){return _.apply(this,arguments)})(s.localStore,u))})).apply(this,arguments)}function hk(i,r){return dD.apply(this,arguments)}function dD(){return(dD=(0,Ee.Z)(function*(i,r){const n=Le(i);if(!n.currentUser.isEqual(r)){ke("SyncEngine","User change. New user:",r.toKey());const s=yield LI(n.localStore,r);n.currentUser=r,(l=n).Bo.forEach(p=>{p.forEach(_=>{_.reject(new Me(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),n.sharedClientState.handleUserChange(r,s.removedBatchIds,s.addedBatchIds),yield qa(n,s.Wn)}var l})).apply(this,arguments)}function ME(i,r){const n=Le(i),s=n.Fo.get(r);if(s&&s.Co)return Wt().add(s.key);{let l=Wt();const u=n.ko.get(r);if(!u)return l;for(const p of u){const _=n.xo.get(p);l=l.unionWith(_.view.To)}return l}}function gx(i,r){return xE.apply(this,arguments)}function xE(){return(xE=(0,Ee.Z)(function*(i,r){const n=Le(i),s=yield wu(n.localStore,r.query,!0),l=r.view.So(s);return n.isPrimaryClient&&SE(n,r.targetId,l.vo),l})).apply(this,arguments)}function mx(i){return OE.apply(this,arguments)}function OE(){return(OE=(0,Ee.Z)(function*(i){const r=Le(i);return Th(r.localStore).then(n=>qa(r,n))})).apply(this,arguments)}function _x(i,r,n,s){return RE.apply(this,arguments)}function RE(){return(RE=(0,Ee.Z)(function*(i,r,n,s){const l=Le(i),u=yield function(p,_){const E=Le(p),D=Le(E.In);return E.persistence.runTransaction("Lookup mutation documents","readonly",A=>D.Xt(A,_).next(O=>O?E.Qn.Pn(A,O):Se.resolve(null)))}(l.localStore,r);var _;null!==u?("pending"===n?yield Gl(l.remoteStore):"acknowledged"===n||"rejected"===n?(DE(l,r,s||null),IE(l,r),_=r,Le(Le(l.localStore).In).te(_)):Je(),yield qa(l,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function Ag(){return(Ag=(0,Ee.Z)(function*(i,r){const n=Le(i);if(Uy(n),jy(n),!0===r&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield fD(n,s.toArray());n.qo=!0,yield Py(n.remoteStore,!0);for(const u of l)cE(n.remoteStore,u)}else if(!1===r&&!1!==n.qo){const s=[];let l=Promise.resolve();n.ko.forEach((u,p)=>{n.sharedClientState.isLocalQueryTarget(p)?s.push(p):l=l.then(()=>(Mh(n,p),Ch(n.localStore,p,!0))),gt(n.remoteStore,p)}),yield l,yield fD(n,s),function(u){const p=Le(u);p.Fo.forEach((_,E)=>{gt(p.remoteStore,E)}),p.Mo.us(),p.Fo=new Map,p.Oo=new lr(Ze.comparator)}(n),n.qo=!1,yield Py(n.remoteStore,!1)}})).apply(this,arguments)}function fD(i,r,n){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,Ee.Z)(function*(i,r,n){const s=Le(i),l=[],u=[];for(const p of r){let _;const E=s.ko.get(p);if(E&&0!==E.length){_=yield Ga(s.localStore,Is(E[0]));for(const D of E){const A=s.xo.get(D),O=yield gx(s,A);O.snapshot&&u.push(O.snapshot)}}else{const D=yield _g(s.localStore,p);_=yield Ga(s.localStore,D),yield Ly(s,Vr(D),p,!1)}l.push(_)}return s.No.Tr(u),l})).apply(this,arguments)}function Vr(i){return Iw(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function pD(i){const r=Le(i);return Le(Le(r.localStore).persistence).pn()}function oo(i,r,n,s){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,Ee.Z)(function*(i,r,n,s){const l=Le(i);if(l.qo)ke("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(r))switch(n){case"current":case"not-current":{const u=yield Th(l.localStore),p=ig.createSynthesizedRemoteEventForCurrentChange(r,"current"===n);yield qa(l,u,p);break}case"rejected":yield Ch(l.localStore,r,!0),Mh(l,r,s);break;default:Je()}})).apply(this,arguments)}function yx(i,r,n){return By.apply(this,arguments)}function By(){return(By=(0,Ee.Z)(function*(i,r,n){const s=Uy(i);if(s.qo){for(const l of r){if(s.ko.has(l)){ke("SyncEngine","Adding an already active target "+l);continue}const u=yield _g(s.localStore,l),p=yield Ga(s.localStore,u);yield Ly(s,Vr(u),p.targetId,!1),cE(s.remoteStore,p)}for(const l of n)s.ko.has(l)&&(yield Ch(s.localStore,l,!1).then(()=>{gt(s.remoteStore,l),Mh(s,l)}).catch(bu))}})).apply(this,arguments)}function Uy(i){const r=Le(i);return r.remoteStore.remoteSyncer.applyRemoteEvent=sD.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=ME.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=fx.bind(null,r),r.No.Tr=ck.bind(null,r.eventManager),r.No.jo=uk.bind(null,r.eventManager),r}function jy(i){const r=Le(i);return r.remoteStore.remoteSyncer.applySuccessfulWrite=px.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,r),r}class gD{constructor(){this.synchronizeTabs=!1}initialize(r){var n=this;return(0,Ee.Z)(function*(){n.N=vg(r.databaseInfo.databaseId),n.sharedClientState=n.Wo(r),n.persistence=n.Go(r),yield n.persistence.start(),n.gcScheduler=n.zo(r),n.localStore=n.Ho(r)})()}zo(r){return null}Ho(r){return FI(this.persistence,new qM,r.initialUser,this.N)}Go(r){return new tx(iE.Ns,this.N)}Wo(r){return new $I}terminate(){var r=this;return(0,Ee.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class mD extends gD{constructor(r,n,s){super(),this.Jo=r,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(r){var n=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield n().call(s,r),yield function(i){return eE.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,r),yield jy(s.Jo.syncEngine),yield Gl(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(r){return FI(this.persistence,new qM,r.initialUser,this.N)}zo(r){return new Cy(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const n=Dy(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new Zw(this.synchronizeTabs,n,r.clientId,s,r.asyncQueue,lE(),xy(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new $I}}class _D extends mD{constructor(r,n){super(r,n,!1),this.Jo=r,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(r){var n=()=>super.initialize,s=this;return(0,Ee.Z)(function*(){yield n().call(s,r);const l=s.Jo.syncEngine;s.sharedClientState instanceof Sh&&(s.sharedClientState.syncEngine={_i:_x.bind(null,l),mi:oo.bind(null,l),gi:yx.bind(null,l),pn:pD.bind(null,l),wi:mx.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var u=(0,Ee.Z)(function*(p){yield function(i,r){return Ag.apply(this,arguments)}(s.Jo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return u.apply(this,arguments)}}())})()}Wo(r){const n=lE();if(!Sh.bt(n))throw new Me(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Dy(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Sh(n,r.asyncQueue,s,r.clientId,r.initialUser)}}class kE{initialize(r,n){var s=this;return(0,Ee.Z)(function*(){s.localStore||(s.localStore=r.localStore,s.sharedClientState=r.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!r.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>oD(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,s.syncEngine),yield Py(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(r){return new lk}createDatastore(r){const n=vg(r.databaseInfo.databaseId),s=new qI(r.databaseInfo);return new ky(r.credentials,s,n)}createRemoteStore(r){return n=this.localStore,s=this.datastore,l=r.asyncQueue,u=_=>oD(this.syncEngine,_,0),p=oE.bt()?new oE:new nx,new bg(n,s,l,u,p);var n,s,l,u,p}createSyncEngine(r,n){return function(s,l,u,p,_,E,D){const A=new bE(s,l,u,p,_,E);return D&&(A.qo=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,n)}terminate(){return(r=(0,Ee.Z)(function*(n){const s=Le(n);ke("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield io(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return r.apply(this,arguments)})(this.remoteStore);var r}}function bx(i,r=10240){let n=0;return{read:()=>(0,Ee.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+r),done:!1};return n+=r,s}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Hy{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,n){this.muted||setTimeout(()=>{this.muted||r(n)},0)}}class wx{constructor(r,n){this.Zo=r,this.N=n,this.metadata=new yr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Ee.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Ee.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Ee.Z)(function*(){const n=yield r.na();if(null===n)return null;const s=r.ta.decode(n),l=Number(s);isNaN(l)&&r.sa(`length string (${s}) is not valid number`);const u=yield r.ia(l);return new ax(JSON.parse(u),n.length+l)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Ee.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const n=r.ra();n<0&&r.sa("Reached the end of bundle when a length string is expected.");const s=r.buffer.slice(0,n);return r.buffer=r.buffer.slice(n),s})()}ia(r){var n=this;return(0,Ee.Z)(function*(){for(;n.buffer.length<r;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,r));return n.buffer=n.buffer.slice(r),s})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Ee.Z)(function*(){const n=yield r.Zo.read();if(!n.done){const s=new Uint8Array(r.buffer.length+n.value.length);s.set(r.buffer),s.set(n.value,r.buffer.length),r.buffer=s}return n.done})()}}class xh{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var n=this;return(0,Ee.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Me(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Ee.Z)(function*(u,p){const _=Le(u),E=dh(_.N)+"/documents",D={documents:p.map(B=>my(_.N,B))},A=yield _.Ki("BatchGetDocuments",E,D),O=new Map;A.forEach(B=>{const W=function(i,r){return"found"in r?function(n,s){_t(!!s.found);const l=Xs(n,s.found.name),u=zn(s.found.updateTime),p=new Nr({mapValue:{fields:s.found.fields}});return pn.newFoundDocument(l,u,p)}(i,r):"missing"in r?function(n,s){_t(!!s.missing),_t(!!s.readTime);const l=Xs(n,s.missing),u=zn(s.readTime);return pn.newNoDocument(l,u)}(i,r):Je()}(_.N,B);O.set(W.key.toString(),W)});const V=[];return p.forEach(B=>{const W=O.get(B.toString());_t(!!W),V.push(W)}),V}),function(u,p){return l.apply(this,arguments)})(n.datastore,r);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(r,n){this.write(n.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,n){try{this.write(n.toMutation(r,this.preconditionForUpdate(r)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(r.toString())}delete(r){this.write(new rg(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ee.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const n=r.readVersions;var s;r.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const u=Ze.fromPath(l);r.mutations.push(new Aw(u,r.precondition(u)))}),yield(s=(0,Ee.Z)(function*(l,u){const p=Le(l),_=dh(p.N)+"/documents",E={writes:u.map(D=>_y(p.N,D))};yield p.Li("Commit",_,E)}),function(l,u){return s.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let n;if(r.isFoundDocument())n=r.version;else{if(!r.isNoDocument())throw Je();n=Tt.min()}const s=this.readVersions.get(r.key.toString());if(s){if(!n.isEqual(s))throw new Me(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),n)}precondition(r){const n=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&n?$n.updateTime(n):$n.none()}preconditionForUpdate(r){const n=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&n){if(n.isEqual(Tt.min()))throw new Me(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(n)}return $n.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class fk{constructor(r,n,s,l){this.asyncQueue=r,this.datastore=n,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new Oy(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Ee.Z)(function*(){const n=new xh(r.datastore),s=r.ua(n);s&&s.then(l=>{r.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{r.deferred.resolve(l)}).catch(u=>{r.ha(u)}))}).catch(l=>{r.ha(l)})}))}ua(r){try{const n=this.updateFunction(r);return!au(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const n=r.code;return"aborted"===n||"failed-precondition"===n||!rI(n)}return!1}}class yD{constructor(r,n,s){var l=this;this.credentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Zr.UNAUTHENTICATED,this.clientId=RT.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var u=(0,Ee.Z)(function*(p){ke("FirestoreClient","Received user=",p.uid),yield l.credentialListener(p),l.user=p});return function(p){return u.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ee.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const n=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),n.resolve()}catch(s){const l=Wl(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function vD(i,r){return bD.apply(this,arguments)}function bD(){return(bD=(0,Ee.Z)(function*(i,r){i.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield r.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,Ee.Z)(function*(u){s.isEqual(u)||(yield LI(r.localStore,u),s=u)});return function(u){return l.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=r})).apply(this,arguments)}function NE(i,r){return PE.apply(this,arguments)}function PE(){return(PE=(0,Ee.Z)(function*(i,r){i.asyncQueue.verifyOperationInProgress();const n=yield xg(i);ke("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield r.initialize(n,s),i.setCredentialChangeListener(l=>{return(u=(0,Ee.Z)(function*(p,_){const E=Le(p);E.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const D=za(E);E.Kr.add(3),yield io(E),D&&E.Wr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(_),E.Kr.delete(3),yield Ht(E)}),function(p,_){return u.apply(this,arguments)})(r.remoteStore,l);var u}),i.onlineComponents=r})).apply(this,arguments)}function xg(i){return FE.apply(this,arguments)}function FE(){return(FE=(0,Ee.Z)(function*(i){return i.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield vD(i,new gD)),i.offlineComponents})).apply(this,arguments)}function Og(i){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,Ee.Z)(function*(i){return i.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield NE(i,new kE)),i.onlineComponents})).apply(this,arguments)}function wD(i){return xg(i).then(r=>r.persistence)}function LE(i){return xg(i).then(r=>r.localStore)}function ED(i){return Og(i).then(r=>r.remoteStore)}function VE(i){return Og(i).then(r=>r.syncEngine)}function Oh(i){return BE.apply(this,arguments)}function BE(){return(BE=(0,Ee.Z)(function*(i){const r=yield Og(i),n=r.eventManager;return n.onListen=ux.bind(null,r.syncEngine),n.onUnlisten=dx.bind(null,r.syncEngine),n})).apply(this,arguments)}function UE(i,r,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(l,u,p,_,E){const D=new Hy({next:O=>{u.enqueueAndForget(()=>mE(l,A));const V=O.docs.has(p);!V&&O.fromCache?E.reject(new Me(he.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&_&&"server"===_.source?E.reject(new Me(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),A=new Cr(oh(p.path),D,{includeMetadataChanges:!0,uo:!0});return Tu(l,A)}(yield Oh(i),i.asyncQueue,r,n,s)})),s.promise}function jE(i,r,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(l,u,p,_,E){const D=new Hy({next:O=>{u.enqueueAndForget(()=>mE(l,A)),O.fromCache&&"server"===_.source?E.reject(new Me(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),A=new Cr(p,D,{includeMetadataChanges:!0,uo:!0});return Tu(l,A)}(yield Oh(i),i.asyncQueue,r,n,s)})),s.promise}class Tx{constructor(r,n,s,l,u,p,_,E){this.databaseId=r,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=p,this.autoDetectLongPolling=_,this.useFetchStreams=E}}class Rh{constructor(r,n){this.projectId=r,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof Rh&&r.projectId===this.projectId&&r.database===this.database}}const AD=new Map;function HE(i,r,n){if(!n)throw new Me(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${r}.`)}function kh(i,r,n,s){if(!0===r&&!0===s)throw new Me(he.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Nh(i){if(!Ze.isDocumentKey(i))throw new Me(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function MD(i){if(Ze.isDocumentKey(i))throw new Me(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ph(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const r=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(i);return r?`a custom ${r} object`:"an object"}}return"function"==typeof i?"a function":Je()}function St(i,r){if("_delegate"in i&&(i=i._delegate),!(i instanceof r)){if(r.name===i.constructor.name)throw new Me(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ph(i);throw new Me(he.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${n}`)}}return i}function xD(i,r){if(r<=0)throw new Me(he.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${r}.`)}class Fh{constructor(r){var n;if(void 0===r.host){if(void 0!==r.ssl)throw new Me(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(n=r.ssl)||void 0===n||n;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,kh("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class kg{constructor(r,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fh({}),this._settingsFrozen=!1,r instanceof Rh?this._databaseId=r:(this._app=r,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Me(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(s.options.projectId)}(r))}get app(){if(!this._app)throw new Me(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fh(r),void 0!==r.credentials&&(this._credentials=function(n){if(!n)return new yM;switch(n.type){case"gapi":const s=n.client;return _t(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new ty(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Me(he.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=AD.get(r);n&&(ke("ComponentProvider","Removing Datastore"),AD.delete(r),n.terminate())}(this),Promise.resolve()}}class wn{constructor(r,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new wn(this.firestore,r,this._key)}}class Tr{constructor(r,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=r}withConverter(r){return new Tr(this.firestore,r,this._query)}}class As extends Tr{constructor(r,n,s){super(r,n,oh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new wn(this.firestore,null,new Ze(r))}withConverter(r){return new As(this.firestore,r,this._path)}}function GE(i,r,...n){if(i=(0,$t.m9)(i),HE("collection","path",r),i instanceof kg){const s=Kt.fromString(r,...n);return MD(s),new As(i,null,s)}{if(!(i instanceof wn||i instanceof As))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kt.fromString(r,...n));return MD(s),new As(i.firestore,null,s)}}function Lh(i,r,...n){if(i=(0,$t.m9)(i),1===arguments.length&&(r=RT.I()),HE("doc","path",r),i instanceof kg){const s=Kt.fromString(r,...n);return Nh(s),new wn(i,null,new Ze(s))}{if(!(i instanceof wn||i instanceof As))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kt.fromString(r,...n));return Nh(s),new wn(i.firestore,i instanceof As?i.converter:null,new Ze(s))}}function OD(i,r){return i=(0,$t.m9)(i),r=(0,$t.m9)(r),(i instanceof wn||i instanceof As)&&(r instanceof wn||r instanceof As)&&i.firestore===r.firestore&&i.path===r.path&&i.converter===r.converter}function RD(i,r){return i=(0,$t.m9)(i),r=(0,$t.m9)(r),i instanceof Tr&&r instanceof Tr&&i.firestore===r.firestore&&di(i._query,r._query)&&i.converter===r.converter}class Dx{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Oy(this,"async_queue_retry"),this.Ea=()=>{const n=xy();n&&ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const r=xy();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const n=xy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new yr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Ee.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(n){if(!Hl(n))throw n;ke("AsyncQueue","Operation failed with retryable error: "+n)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const n=this.fa.then(()=>(this.ga=!0,r().catch(s=>{throw this.ma=s,this.ga=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(r,n,s){this.Ta(),this.pa.indexOf(r)>-1&&(n=0);const l=pE.createAndSchedule(this,r,n,s,u=>this.Ra(u));return this._a.push(l),l}Ta(){this.ma&&Je()}verifyOperationInProgress(){}ba(){var r=this;return(0,Ee.Z)(function*(){let n;do{n=r.fa,yield n}while(n!==r.fa)})()}Pa(r){for(const n of this._a)if(n.timerId===r)return!0;return!1}va(r){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==r&&n.timerId===r)break;return this.ba()})}Va(r){this.pa.push(r)}Ra(r){const n=this._a.indexOf(r);this._a.splice(n,1)}}function zE(i){return function(r,n){if("object"!=typeof r||null===r)return!1;const s=r;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class kD{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,n,s){this._progressObserver={next:r,error:n,complete:s}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,n){return this._taskCompletionResolver.promise.then(r,n)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class An extends kg{constructor(r,n){super(r,n),this.type="firestore",this._queue=new Dx,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ND(this),this._firestoreClient.terminate()}}function Qn(i){return i._firestoreClient||ND(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ND(i){var r;const n=i._freezeSettings(),s=(u=(null===(r=i._app)||void 0===r?void 0:r.options.appId)||"",new Tx(i._databaseId,u,i._persistenceKey,(_=n).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var u,_;i._firestoreClient=new yD(i._credentials,i._queue,s)}function LD(i,r,n){const s=new yr;return i.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield vD(i,n),yield NE(i,r),s.resolve()}catch(l){if(!("FirebaseError"===(u=l).name?u.code===he.FAILED_PRECONDITION||u.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var u})).then(()=>s.promise)}function Rx(i){if(i._initialized||i._terminated)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class is{constructor(...r){for(let n=0;n<r.length;++n)if(0===r[n].length)throw new Me(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Ms{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Ms(br.fromBase64String(r))}catch(n){throw new Me(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(r){return new Ms(br.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Su{constructor(r){this._methodName=r}}class Pg{constructor(r,n){if(!isFinite(r)||r<-90||r>90)throw new Me(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(n)||n<-180||n>180)throw new Me(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=r,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Lt(this._lat,r._lat)||Lt(this._long,r._long)}}const kx=/^__.*__$/;class Nx{constructor(r,n,s){this.data=r,this.fieldMask=n,this.fieldTransforms=s}toMutation(r,n){return null!==this.fieldMask?new jl(r,this.data,this.fieldMask,n,this.fieldTransforms):new ng(r,this.data,n,this.fieldTransforms)}}class $y{constructor(r,n,s){this.data=r,this.fieldMask=n,this.fieldTransforms=s}toMutation(r,n){return new jl(r,this.data,this.fieldMask,n,this.fieldTransforms)}}function WE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class Fg{constructor(r,n,s,l,u,p){this.settings=r,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=l,void 0===u&&this.Sa(),this.fieldTransforms=u||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Fg(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(r),l=this.Ca({path:s,xa:!1});return l.ka(r),l}$a(r){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(r),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return Ky(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(n=>r.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>r.isPrefixOf(n.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(WE(this.Da)&&kx.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class zy{constructor(r,n,s){this.databaseId=r,this.ignoreUndefinedProperties=n,this.N=s||vg(r)}Ba(r,n,s,l=!1){return new Fg({Da:r,methodName:n,La:s,path:kr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Wa(i){const r=i._freezeSettings(),n=vg(i._databaseId);return new zy(i._databaseId,!!r.ignoreUndefinedProperties,n)}function YE(i,r,n,s,l,u={}){const p=i.Ba(u.merge||u.mergeFields?2:0,r,n,l);Yy("Data must be an object, but it was:",p,s);const _=ZE(s,p);let E,D;if(u.merge)E=new jp(p.fieldMask),D=p.fieldTransforms;else if(u.mergeFields){const A=[];for(const O of u.mergeFields){const V=QE(r,O,n);if(!p.contains(V))throw new Me(he.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);GD(A,V)||A.push(V)}E=new jp(A),D=p.fieldTransforms.filter(O=>E.covers(O.field))}else E=null,D=p.fieldTransforms;return new Nx(new Nr(_),E,D)}class Vh extends Su{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Vh}}function BD(i,r,n){return new Fg({Da:3,La:r.settings.La,methodName:i._methodName,xa:n},r.databaseId,r.N,r.ignoreUndefinedProperties)}class qy extends Su{_toFieldTransform(r){return new ch(r.path,new uu)}isEqual(r){return r instanceof qy}}class Wy extends Su{constructor(r,n){super(r),this.Ua=n}_toFieldTransform(r){const n=BD(this,r,!0),s=this.Ua.map(u=>Au(u,n)),l=new Ul(s);return new ch(r.path,l)}isEqual(r){return this===r}}class UD extends Su{constructor(r,n){super(r),this.Ua=n}_toFieldTransform(r){const n=BD(this,r,!0),s=this.Ua.map(u=>Au(u,n)),l=new du(s);return new ch(r.path,l)}isEqual(r){return this===r}}class Px extends Su{constructor(r,n){super(r),this.qa=n}_toFieldTransform(r){const n=new hu(r.N,uy(r.N,this.qa));return new ch(r.path,n)}isEqual(r){return this===r}}function Lg(i,r,n,s){const l=i.Ba(1,r,n);Yy("Data must be an object, but it was:",l,s);const u=[],p=Nr.empty();Pl(s,(E,D)=>{const A=Zy(r,E,n);D=(0,$t.m9)(D);const O=l.$a(A);if(D instanceof Vh)u.push(A);else{const V=Au(D,O);null!=V&&(u.push(A),p.set(A,V))}});const _=new jp(u);return new $y(p,_,l.fieldTransforms)}function Vg(i,r,n,s,l,u){const p=i.Ba(1,r,n),_=[QE(r,s,n)],E=[l];if(u.length%2!=0)throw new Me(he.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)_.push(QE(r,u[V])),E.push(u[V+1]);const D=[],A=Nr.empty();for(let V=_.length-1;V>=0;--V)if(!GD(D,_[V])){const B=_[V];let W=E[V];W=(0,$t.m9)(W);const pe=p.$a(B);if(W instanceof Vh)D.push(B);else{const Te=Au(W,pe);null!=Te&&(D.push(B),A.set(B,Te))}}const O=new jp(D);return new $y(A,O,p.fieldTransforms)}function jD(i,r,n,s=!1){return Au(n,i.Ba(s?4:3,r))}function Au(i,r){if(KE(i=(0,$t.m9)(i)))return Yy("Unsupported field value:",r,i),ZE(i,r);if(i instanceof Su)return function(n,s){if(!WE(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,r),null;if(void 0===i&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),i instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(n,s){const l=[];let u=0;for(const p of n){let _=Au(p,s.Oa(u));null==_&&(_={nullValue:"NULL_VALUE"}),l.push(_),u++}return{arrayValue:{values:l}}}(i,r)}return function(n,s){if(null===(n=(0,$t.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return uy(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=vr.fromDate(n);return{timestampValue:og(s.N,l)}}if(n instanceof vr){const l=new vr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:og(s.N,l)}}if(n instanceof Pg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ms)return{bytesValue:ag(s.N,n._byteString)};if(n instanceof wn){const l=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw s.Fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uh(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${Ph(n)}`)}(i,r)}function ZE(i,r){const n={};return yw(i)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Pl(i,(s,l)=>{const u=Au(l,r.Na(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function KE(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof vr||i instanceof Pg||i instanceof Ms||i instanceof wn||i instanceof Su)}function Yy(i,r,n){if(!KE(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Ph(n);throw r.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function QE(i,r,n){if((r=(0,$t.m9)(r))instanceof is)return r._internalPath;if("string"==typeof r)return Zy(i,r);throw Ky("Field path arguments must be of type string or FieldPath.",i,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function Zy(i,r,n){if(r.search(HD)>=0)throw Ky(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new is(...r.split("."))._internalPath}catch(s){throw Ky(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ky(i,r,n,s,l){const u=s&&!s.isEmpty(),p=void 0!==l;let _=`Function ${r}() called with invalid data`;n&&(_+=" (via `toFirestore()`)"),_+=". ";let E="";return(u||p)&&(E+=" (found",u&&(E+=` in field ${s}`),p&&(E+=` in document ${l}`),E+=")"),new Me(he.INVALID_ARGUMENT,_+i+E)}function GD(i,r){return i.some(n=>n.isEqual(r))}class Bh{constructor(r,n,s,l,u){this._firestore=r,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",r));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fx extends Bh{data(){return super.data()}}function Bg(i,r){return"string"==typeof r?Zy(i,r):r instanceof is?r._internalPath:r._delegate._internalPath}class Kl{constructor(r,n){this.hasPendingWrites=r,this.fromCache=n}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Yo extends Bh{constructor(r,n,s,l,u,p){super(r,n,s,l,p),this._firestore=r,this._firestoreImpl=r,this.metadata=u}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,n={}){if(this._document){const s=this._document.data.field(Bg("DocumentSnapshot.get",r));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Uh extends Yo{data(r={}){return super.data(r)}}class Ql{constructor(r,n,s,l){this._firestore=r,this._userDataWriter=n,this._snapshot=l,this.metadata=new Kl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const r=[];return this.forEach(n=>r.push(n)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,n){this._snapshot.docs.forEach(s=>{r.call(n,new Uh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const n=!!r.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new Uh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Kl(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>l||3!==p.type).map(p=>{const _=new Uh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Kl(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let E=-1,D=-1;return 0!==p.type&&(E=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),1!==p.type&&(u=u.add(p.doc),D=u.indexOf(p.doc.key)),{type:Lx(p.type),doc:_,oldIndex:E,newIndex:D}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function $D(i,r){return i instanceof Yo&&r instanceof Yo?i._firestore===r._firestore&&i._key.isEqual(r._key)&&(null===i._document?null===r._document:i._document.isEqual(r._document))&&i._converter===r._converter:i instanceof Ql&&r instanceof Ql&&i._firestore===r._firestore&&RD(i.query,r.query)&&i.metadata.isEqual(r.metadata)&&i._snapshot.isEqual(r._snapshot)}function JE(i){if(Dw(i)&&0===i.explicitOrderBy.length)throw new Me(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qy{}function Mu(i,...r){for(const n of r)i=n._apply(i);return i}class mk extends Qy{constructor(r,n,s){super(),this.Ka=r,this.ja=n,this.Qa=s,this.type="where"}_apply(r){const n=Wa(r.firestore),s=function(l,u,p,_,E,D,A){let O;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){zD(A,D);const B=[];for(const W of A)B.push(Hx(_,l,W));O={arrayValue:{values:B}}}else O=Hx(_,l,A)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||zD(A,D),O=jD(p,"where",A,"in"===D||"not-in"===D);const V=Kr.create(E,D,O);return function(B,W){if(W.v()){const Te=Qp(B);if(null!==Te&&!Te.isEqual(W.field))throw new Me(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${W.field.toString()}'`);const Ve=Kp(B);null!==Ve&&qD(0,W.field,Ve)}const pe=function(Te,Ve){for(const qe of Te.filters)if(Ve.indexOf(qe.op)>=0)return qe.op;return null}(B,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(W.op));if(null!==pe)throw new Me(he.INVALID_ARGUMENT,pe===W.op?`Invalid query. You cannot use more than one '${W.op.toString()}' filter.`:`Invalid query. You cannot use '${W.op.toString()}' filters with '${pe.toString()}' filters.`)}(l,V),V}(r._query,0,n,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Tr(r.firestore,r.converter,function(l,u){const p=l.filters.concat([u]);return new La(l.path,l.collectionGroup,l.explicitOrderBy.slice(),p,l.limit,l.limitType,l.startAt,l.endAt)}(r._query,s))}}class yk extends Qy{constructor(r,n){super(),this.Ka=r,this.Wa=n,this.type="orderBy"}_apply(r){const n=function(s,l,u){if(null!==s.startAt)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new lu(l,u);return function(_,E){if(null===Kp(_)){const D=Qp(_);null!==D&&qD(0,D,E.field)}}(s,p),p}(r._query,this.Ka,this.Wa);return new Tr(r.firestore,r.converter,function(s,l){const u=s.explicitOrderBy.concat([l]);return new La(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(r._query,n))}}class Vx extends Qy{constructor(r,n,s){super(),this.type=r,this.Ga=n,this.za=s}_apply(r){return new Tr(r.firestore,r.converter,Js(r._query,this.Ga,this.za))}}class Bx extends Qy{constructor(r,n,s){super(),this.type=r,this.Ha=n,this.Ja=s}_apply(r){const n=jx(r,this.type,this.Ha,this.Ja);return new Tr(r.firestore,r.converter,(l=n,new La((s=r._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class Ux extends Qy{constructor(r,n,s){super(),this.type=r,this.Ha=n,this.Ja=s}_apply(r){const n=jx(r,this.type,this.Ha,this.Ja);return new Tr(r.firestore,r.converter,(l=n,new La((s=r._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function jx(i,r,n,s){if(n[0]=(0,$t.m9)(n[0]),n[0]instanceof Bh)return function(l,u,p,_,E){if(!_)throw new Me(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const D=[];for(const A of ah(l))if(A.field.isKeyField())D.push($p(u,_.key));else{const O=_.data.field(A.field);if(Gp(O))throw new Me(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const V=A.field.canonicalString();throw new Me(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}D.push(O)}return new sh(D,E)}(i._query,i.firestore._databaseId,r,n[0]._document,s);{const l=Wa(i.firestore);return function(u,p,_,E,D,A){const O=u.explicitOrderBy;if(D.length>O.length)throw new Me(he.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let B=0;B<D.length;B++){const W=D[B];if(O[B].field.isKeyField()){if("string"!=typeof W)throw new Me(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof W}`);if(!Ts(u)&&-1!==W.indexOf("/"))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${E}() must be a plain document ID, but '${W}' contains a slash.`);const pe=u.path.child(Kt.fromString(W));if(!Ze.isDocumentKey(pe))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${E}() must result in a valid document path, but '${pe}' is not because it contains an odd number of segments.`);const Te=new Ze(pe);V.push($p(p,Te))}else{const pe=jD(_,E,W);V.push(pe)}}return new sh(V,A)}(i._query,i.firestore._databaseId,l,r,n,s)}}function Hx(i,r,n){if("string"==typeof(n=(0,$t.m9)(n))){if(""===n)throw new Me(he.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ts(r)&&-1!==n.indexOf("/"))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=r.path.child(Kt.fromString(n));if(!Ze.isDocumentKey(s))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $p(i,new Ze(s))}if(n instanceof wn)return $p(i,n._key);throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function zD(i,r){if(!Array.isArray(i)||0===i.length)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(i.length>10)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function qD(i,r,n){if(!n.isEqual(r))throw new Me(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class XE{convertValue(r,n="none"){switch(Ll(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Zn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,n);case 5:return r.stringValue;case 6:return this.convertBytes(Fl(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,n);case 10:return this.convertObject(r.mapValue,n);default:throw Je()}}convertObject(r,n){const s={};return Pl(r.fields,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertGeoPoint(r){return new Pg(Zn(r.latitude),Zn(r.longitude))}convertArray(r,n){return(r.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(r,n){switch(n){case"previous":const s=ww(r);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ny(r));default:return null}}convertTimestamp(r){const n=jo(r);return new vr(n.seconds,n.nanos)}convertDocumentKey(r,n){const s=Kt.fromString(r);_t(Lw(s));const l=new Rh(s.get(1),s.get(3)),u=new Ze(s.popFirst(5));return l.isEqual(n)||Ln(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function e0(i,r,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(r,n):i.toFirestore(r):r,s}class Dk extends XE{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ms(r)}convertReference(r){const n=this.convertDocumentKey(r,this.firestore._databaseId);return new wn(this.firestore,null,n)}}class Gx{constructor(r,n){this._firestore=r,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wa(r)}set(r,n,s){this._verifyNotCommitted();const l=Jl(r,this._firestore),u=e0(l.converter,n,s),p=YE(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,s);return this._mutations.push(p.toMutation(l._key,$n.none())),this}update(r,n,s,...l){this._verifyNotCommitted();const u=Jl(r,this._firestore);let p;return p="string"==typeof(n=(0,$t.m9)(n))||n instanceof is?Vg(this._dataReader,"WriteBatch.update",u._key,n,s,l):Lg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(p.toMutation(u._key,$n.exists(!0))),this}delete(r){this._verifyNotCommitted();const n=Jl(r,this._firestore);return this._mutations=this._mutations.concat(new rg(n._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jl(i,r){if((i=(0,$t.m9)(i)).firestore!==r)throw new Me(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class xu extends XE{constructor(r){super(),this.firestore=r}convertBytes(r){return new Ms(r)}convertReference(r){const n=this.convertDocumentKey(r,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function qx(i,r,n){i=St(i,wn);const s=St(i.firestore,An),l=e0(i.converter,r,n);return Hh(s,[YE(Wa(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,$n.none())])}function WD(i,r,n,...s){i=St(i,wn);const l=St(i.firestore,An),u=Wa(l);let p;return p="string"==typeof(r=(0,$t.m9)(r))||r instanceof is?Vg(u,"updateDoc",i._key,r,n,s):Lg(u,"updateDoc",i._key,r),Hh(l,[p.toMutation(i._key,$n.exists(!0))])}function n0(i,...r){var n,s,l;i=(0,$t.m9)(i);let u={includeMetadataChanges:!1},p=0;"object"!=typeof r[p]||zE(r[p])||(u=r[p],p++);const _={includeMetadataChanges:u.includeMetadataChanges};if(zE(r[p])){const O=r[p];r[p]=null===(n=O.next)||void 0===n?void 0:n.bind(O),r[p+1]=null===(s=O.error)||void 0===s?void 0:s.bind(O),r[p+2]=null===(l=O.complete)||void 0===l?void 0:l.bind(O)}let E,D,A;if(i instanceof wn)D=St(i.firestore,An),A=oh(i._key.path),E={next:O=>{r[p]&&r[p](Ug(D,i,O))},error:r[p+1],complete:r[p+2]};else{const O=St(i,Tr);D=St(O.firestore,An),A=O._query;const V=new xu(D);E={next:B=>{r[p]&&r[p](new Ql(D,V,O,B))},error:r[p+1],complete:r[p+2]},JE(i._query)}return function(O,V,B,W){const pe=new Hy(W),Te=new Cr(V,pe,B);return O.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Tu(yield Oh(O),Te)})),()=>{pe.Xo(),O.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return mE(yield Oh(O),Te)}))}}(Qn(D),A,_,E)}function Hh(i,r){return function(n,s){const l=new yr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,r,n){return EE.apply(this,arguments)}(yield VE(n),s,l)})),l.promise}(Qn(i),r)}function Ug(i,r,n){const s=n.docs.get(r._key),l=new xu(i);return new Yo(i,l,r._key,s,new Kl(n.hasPendingWrites,n.fromCache),r.converter)}class YD extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=Wa(r)}get(r){const n=Jl(r,this._firestore),s=new Dk(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return Je();const u=l[0];if(u.isFoundDocument())return new Bh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Bh(this._firestore,s,n._key,null,n.converter);throw Je()})}set(r,n,s){const l=Jl(r,this._firestore),u=e0(l.converter,n,s),p=YE(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,s);return this._transaction.set(l._key,p),this}update(r,n,s,...l){const u=Jl(r,this._firestore);let p;return p="string"==typeof(n=(0,$t.m9)(n))||n instanceof is?Vg(this._dataReader,"Transaction.update",u._key,n,s,l):Lg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,p),this}delete(r){const n=Jl(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(r,n){super(r,n),this._firestore=r}get(r){const n=Jl(r,this._firestore),s=new xu(this._firestore);return super.get(r).then(l=>new Yo(this._firestore,s,n._key,l._document,new Kl(!1,!1),n.converter))}}function XD(i,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Me("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return r}function jg(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function eS(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){Up=i})(C_.SDK_VERSION),(0,C_._registerComponent)(new T_.wA("firestore",(i,{options:r})=>{const n=i.getProvider("app").getImmediate(),s=new An(n,new vM(i.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),s._setSettings(r),s},"PUBLIC")),(0,C_.registerVersion)("@firebase/firestore","3.0.2",void 0);class Xy{constructor(r){this._delegate=r}static fromBase64String(r){return eS(),new Xy(Ms.fromBase64String(r))}static fromUint8Array(r){return jg(),new Xy(Ms.fromUint8Array(r))}toBase64(){return eS(),this._delegate.toBase64()}toUint8Array(){return jg(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function tS(i){return function(i,r){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(i)}class Zx{enableIndexedDbPersistence(r,n){return function(i,r){Rx(i=St(i,An));const n=Qn(i),s=i._freezeSettings(),l=new kE;return LD(n,l,new mD(l,s.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(r){return function(i){Rx(i=St(i,An));const r=Qn(i),n=i._freezeSettings(),s=new kE;return LD(r,s,new _D(s,n.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(i){if(i._initialized&&!i._terminated)throw new Me(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new yr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(n=(0,Ee.Z)(function*(s){if(!no.bt())return Promise.resolve();const l=s+"main";yield no.delete(l)}),function(s){return n.apply(this,arguments)})(Dy(i._databaseId,i._persistenceKey)),r.resolve()}catch(n){r.reject(n)}var n})),r.promise}(r._delegate)}}class Kx{constructor(r,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},r instanceof Rh||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const n=this._delegate._getSettings();!r.merge&&n.host!==r.host&&iu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},n),r)).merge,this._delegate._setSettings(r)}useEmulator(r,n,s={}){!function(i,r,n,s={}){var l;const u=(i=St(i,kg))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==r&&iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},u),{host:`${r}:${n}`,ssl:!1})),s.mockUserToken){let p,_;if("string"==typeof s.mockUserToken)p=s.mockUserToken,_=Zr.MOCK_USER;else{p=(0,$t.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new Me(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Zr(E)}i._credentials=new MT(new su(p,_))}}(this._delegate,r,n,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const r=yield wD(i),n=yield ED(i);return r.setNetworkEnabled(!0),function(s){const l=Le(s);return l.Kr.delete(0),Ht(l)}(n)}))}(Qn(i=St(i,An)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const r=yield wD(i),n=yield ED(i);return r.setNetworkEnabled(!1),(s=(0,Ee.Z)(function*(l){const u=Le(l);u.Kr.add(0),yield io(u),u.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(n);var s}))}(Qn(i=St(i,An)))}(this._delegate)}enablePersistence(r){let n=!1,s=!1;return r&&(n=!!r.synchronizeTabs,s=!!r.experimentalForceOwningTab,kh("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(r){const n=new yr;return r.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,r){return Vy.apply(this,arguments)}(yield VE(r),n)})),n.promise}(Qn(i=St(i,An)))}(this._delegate)}onSnapshotsInSync(r){return function(i,r){return function(i,r){const n=new Hy(r);return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield Oh(i),l=n,Le(s).Zr.add(l),void l.next();var s,l})),()=>{n.Xo(),i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return s=yield Oh(i),l=n,void Le(s).Zr.delete(l);var s,l}))}}(Qn(i=St(i,An)),zE(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Ir(this,GE(this._delegate,r))}catch(n){throw ki(n,"collection()","Firestore.collection()")}}doc(r){try{return new ao(this,Lh(this._delegate,r))}catch(n){throw ki(n,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new fi(this,function(i,r){if(i=St(i,kg),HE("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tr(i,null,(n=r,new La(Kt.emptyPath(),n)));var n}(this._delegate,r))}catch(n){throw ki(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(i,r){return function(i,r){const n=new yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const s=yield(l=i,Og(l).then(u=>u.datastore));var l;new fk(i.asyncQueue,s,r,n).run()})),n.promise}(Qn(i),n=>r(new YD(i,n)))}(this._delegate,n=>r(new Jx(this,n)))}batch(){return Qn(this._delegate),new o0(new Gx(this._delegate,r=>Hh(this._delegate,r)))}loadBundle(r){return function(i,r){const n=Qn(i=St(i,An)),s=new kD;return function(i,r,n,s){const l=function(u,p){let _;return _="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,D){if(E instanceof Uint8Array)return bx(E,D);if(E instanceof ArrayBuffer)return bx(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new wx(E,p);var E}(n,vg(r));i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function(i,r,n){const s=Le(i);var l;(l=(0,Ee.Z)(function*(u,p,_){try{const E=yield p.getMetadata();if(yield function(V,B){const W=Le(V),pe=zn(B.createTime);return W.persistence.runTransaction("hasNewerBundle","readonly",Te=>W.Je.getBundleMetadata(Te,B.id)).then(Te=>!!Te&&Te.createTime.compareTo(pe)>=0)}(u.localStore,E))return yield p.close(),void _._completeWith((V=E,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));_._updateProgress(eD(E));const D=new vE(E,u.localStore,p.N);let A=yield p.Qo();for(;A;){const V=yield D.fo(A);V&&_._updateProgress(V),A=yield p.Qo()}const O=yield D.complete();yield qa(u,O.Tn,void 0),yield function(V,B){const W=Le(V);return W.persistence.runTransaction("Save bundle","readwrite",pe=>W.Je.saveBundleMetadata(pe,B))}(u.localStore,E),_._completeWith(O.progress)}catch(E){iu("SyncEngine",`Loading bundle failed with ${E}`),_._failWith(E)}var V}),function(u,p,_){return l.apply(this,arguments)})(s,r,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield VE(i),l,s)}))}(n,i._databaseId,r,s),s}(this._delegate,r)}namedQuery(r){return function(i,r){return function(i,r){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(n,s){const l=Le(n);return l.persistence.runTransaction("Get named query","readonly",u=>l.Je.getNamedQuery(u,s))}(yield LE(i),r)}))}(Qn(i=St(i,An)),r).then(n=>n?new Tr(i,null,n.query):null)}(this._delegate,r).then(n=>n?new fi(this,n):null)}}class s0 extends XE{constructor(r){super(),this.firestore=r}convertBytes(r){return new Xy(new Ms(r))}convertReference(r){const n=this.convertDocumentKey(r,this.firestore._databaseId);return ao.forKey(n,this.firestore,null)}}class Jx{constructor(r,n){this._firestore=r,this._delegate=n,this._userDataWriter=new s0(r)}get(r){const n=Ru(r);return this._delegate.get(n).then(s=>new Hg(this._firestore,new Yo(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(r,n,s){const l=Ru(r);return s?(XD("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(r,n,s,...l){const u=Ru(r);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...l),this}delete(r){const n=Ru(r);return this._delegate.delete(n),this}}class o0{constructor(r){this._delegate=r}set(r,n,s){const l=Ru(r);return s?(XD("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(r,n,s,...l){const u=Ru(r);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...l),this}delete(r){const n=Ru(r);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ou{constructor(r,n,s){this._firestore=r,this._userDataWriter=n,this._delegate=s}fromFirestore(r,n){const s=new Uh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Gg(this._firestore,s),null!=n?n:{})}toFirestore(r,n){return n?this._delegate.toFirestore(r,n):this._delegate.toFirestore(r)}static getInstance(r,n){const s=Ou.INSTANCES;let l=s.get(r);l||(l=new WeakMap,s.set(r,l));let u=l.get(n);return u||(u=new Ou(r,new s0(r),n),l.set(n,u)),u}}Ou.INSTANCES=new WeakMap;class ao{constructor(r,n){this.firestore=r,this._delegate=n,this._userDataWriter=new s0(r)}static forPath(r,n,s){if(r.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new ao(n,new wn(n._delegate,s,new Ze(r)))}static forKey(r,n,s){return new ao(n,new wn(n._delegate,s,r))}get id(){return this._delegate.id}get parent(){return new Ir(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Ir(this.firestore,GE(this._delegate,r))}catch(n){throw ki(n,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,$t.m9)(r))instanceof wn&&OD(this._delegate,r)}set(r,n){n=XD("DocumentReference.set",n);try{return n?qx(this._delegate,r,n):qx(this._delegate,r)}catch(s){throw ki(s,"setDoc()","DocumentReference.set()")}}update(r,n,...s){try{return 1===arguments.length?WD(this._delegate,r):WD(this._delegate,r,n,...s)}catch(l){throw ki(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return Hh(St(i.firestore,An),[new rg(i._key,$n.none())])}(this._delegate)}onSnapshot(...r){const n=nS(r),s=Gh(r,l=>new Hg(this.firestore,new Yo(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return n0(this._delegate,n,s)}get(r){let n;return n="cache"===(null==r?void 0:r.source)?function(i){i=St(i,wn);const r=St(i.firestore,An),n=Qn(r),s=new xu(r);return function(i,r){const n=new yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(l,u,p){try{const _=yield function(E,D){const A=Le(E);return A.persistence.runTransaction("read document","readonly",O=>A.Qn.An(O,D))}(l,u);_.isFoundDocument()?p.resolve(_):_.isNoDocument()?p.resolve(null):p.reject(new Me(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const E=Wl(_,`Failed to get document '${u} from cache`);p.reject(E)}}),function(l,u,p){return s.apply(this,arguments)})(yield LE(i),r,n);var s})),n.promise}(n,i._key).then(l=>new Yo(r,s,i._key,l,new Kl(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(i){i=St(i,wn);const r=St(i.firestore,An);return UE(Qn(r),i._key,{source:"server"}).then(n=>Ug(r,i,n))}(this._delegate):function(i){i=St(i,wn);const r=St(i.firestore,An);return UE(Qn(r),i._key).then(n=>Ug(r,i,n))}(this._delegate),n.then(s=>new Hg(this.firestore,new Yo(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(r){return new ao(this.firestore,this._delegate.withConverter(r?Ou.getInstance(this.firestore,r):null))}}function ki(i,r,n){return i.message=i.message.replace(r,n),i}function nS(i){for(const r of i)if("object"==typeof r&&!tS(r))return r;return{}}function Gh(i,r){var n,s;let l;return l=tS(i[0])?i[0]:tS(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{l.next&&l.next(r(u))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Hg{constructor(r,n){this._firestore=r,this._delegate=n}get ref(){return new ao(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,n){return this._delegate.get(r,n)}isEqual(r){return $D(this._delegate,r._delegate)}}class Gg extends Hg{data(r){const n=this._delegate.data(r);return function(i,r){i||Je()}(void 0!==n),n}}class fi{constructor(r,n){this.firestore=r,this._delegate=n,this._userDataWriter=new s0(r)}where(r,n,s){try{return new fi(this.firestore,Mu(this._delegate,function(i,r,n){const s=r,l=Bg("where",i);return new mk(l,s,n)}(r,n,s)))}catch(l){throw ki(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,n){try{return new fi(this.firestore,Mu(this._delegate,function(i,r="asc"){const n=r,s=Bg("orderBy",i);return new yk(s,n)}(r,n)))}catch(s){throw ki(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new fi(this.firestore,Mu(this._delegate,function(i){return xD("limit",i),new Vx("limit",i,"F")}(r)))}catch(n){throw ki(n,"limit()","Query.limit()")}}limitToLast(r){try{return new fi(this.firestore,Mu(this._delegate,function(i){return xD("limitToLast",i),new Vx("limitToLast",i,"L")}(r)))}catch(n){throw ki(n,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new fi(this.firestore,Mu(this._delegate,function(...i){return new Bx("startAt",i,!0)}(...r)))}catch(n){throw ki(n,"startAt()","Query.startAt()")}}startAfter(...r){try{return new fi(this.firestore,Mu(this._delegate,function(...i){return new Bx("startAfter",i,!1)}(...r)))}catch(n){throw ki(n,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new fi(this.firestore,Mu(this._delegate,function(...i){return new Ux("endBefore",i,!0)}(...r)))}catch(n){throw ki(n,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new fi(this.firestore,Mu(this._delegate,function(...i){return new Ux("endAt",i,!1)}(...r)))}catch(n){throw ki(n,"endAt()","Query.endAt()")}}isEqual(r){return RD(this._delegate,r._delegate)}get(r){let n;return n="cache"===(null==r?void 0:r.source)?function(i){i=St(i,Tr);const r=St(i.firestore,An),n=Qn(r),s=new xu(r);return function(i,r){const n=new yr;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(s=(0,Ee.Z)(function*(l,u,p){try{const _=yield wu(l,u,!0),E=new rD(u,_.Gn),D=E.Io(_.documents),A=E.applyChanges(D,!1);p.resolve(A.snapshot)}catch(_){const E=Wl(_,`Failed to execute query '${u} against cache`);p.reject(E)}}),function(l,u,p){return s.apply(this,arguments)})(yield LE(i),r,n);var s})),n.promise}(n,i._query).then(l=>new Ql(r,s,i,l))}(this._delegate):"server"===(null==r?void 0:r.source)?function(i){i=St(i,Tr);const r=St(i.firestore,An),n=Qn(r),s=new xu(r);return jE(n,i._query,{source:"server"}).then(l=>new Ql(r,s,i,l))}(this._delegate):function(i){i=St(i,Tr);const r=St(i.firestore,An),n=Qn(r),s=new xu(r);return JE(i._query),jE(n,i._query).then(l=>new Ql(r,s,i,l))}(this._delegate),n.then(s=>new l0(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...r){const n=nS(r),s=Gh(r,l=>new l0(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return n0(this._delegate,n,s)}withConverter(r){return new fi(this.firestore,this._delegate.withConverter(r?Ou.getInstance(this.firestore,r):null))}}class a0{constructor(r,n){this._firestore=r,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Gg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class l0{constructor(r,n){this._firestore=r,this._delegate=n}get query(){return new fi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Gg(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(n=>new a0(this._firestore,n))}forEach(r,n){this._delegate.forEach(s=>{r.call(n,new Gg(this._firestore,s))})}isEqual(r){return $D(this._delegate,r._delegate)}}class Ir extends fi{constructor(r,n){super(r,n),this.firestore=r,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new ao(this.firestore,r):null}doc(r){try{return new ao(this.firestore,void 0===r?Lh(this._delegate):Lh(this._delegate,r))}catch(n){throw ki(n,"doc()","CollectionReference.doc()")}}add(r){return function(i,r){const n=St(i.firestore,An),s=Lh(i),l=e0(i.converter,r);return Hh(n,[YE(Wa(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}(this._delegate,r).then(n=>new ao(this.firestore,n))}isEqual(r){return OD(this._delegate,r._delegate)}withConverter(r){return new Ir(this.firestore,this._delegate.withConverter(r?Ou.getInstance(this.firestore,r):null))}}function Ru(i){return St(i,wn)}class $g{constructor(...r){this._delegate=new is(...r)}static documentId(){return new $g(kr.keyField().canonicalString())}isEqual(r){return(r=(0,$t.m9)(r))instanceof is&&this._delegate._internalPath.isEqual(r._internalPath)}}class ku{constructor(r){this._delegate=r}static serverTimestamp(){const r=new qy("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new ku(r)}static delete(){const r=new Vh("deleteField");return r._methodName="FieldValue.delete",new ku(r)}static arrayUnion(...r){const n=function(...i){return new Wy("arrayUnion",i)}(...r);return n._methodName="FieldValue.arrayUnion",new ku(n)}static arrayRemove(...r){const n=function(...i){return new UD("arrayRemove",i)}(...r);return n._methodName="FieldValue.arrayRemove",new ku(n)}static increment(r){const n=function(i){return new Px("increment",i)}(r);return n._methodName="FieldValue.increment",new ku(n)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Xx={Firestore:Kx,GeoPoint:Pg,Timestamp:vr,Blob:Xy,Transaction:Jx,WriteBatch:o0,DocumentReference:ao,DocumentSnapshot:Hg,Query:fi,QueryDocumentSnapshot:Gg,QuerySnapshot:l0,CollectionReference:Ir,FieldPath:$g,FieldValue:ku,setLogLevel:function(i){!function(i){Nl.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,r){i.INTERNAL.registerComponent(new T_.wA("firestore-compat",n=>((r,n)=>new Kx(r,n,new Zx))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Xx)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.2")}(xa.Z);var Zo=F(6682),zg=F(6136),iS=F(7771),sS=F(8858);class eO extends ft.xQ{constructor(r=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new tO(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,u=s.length;let p;if(this.closed)throw new dd.N;if(this.isStopped||this.hasError?p=hr.w.EMPTY:(this.observers.push(r),p=new sS.W(this,r)),l&&r.add(r=new zg.ht(r,l)),n)for(let _=0;_<u&&!r.closed;_++)r.next(s[_]);else for(let _=0;_<u&&!r.closed;_++)r.next(s[_].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),p}_getNow(){return(this.scheduler||iS.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),n=this._bufferSize,s=this._windowTime,l=this._events,u=l.length;let p=0;for(;p<u&&!(r-l[p].time<s);)p++;return u>n&&(p=Math.max(p,u-n)),p>0&&l.splice(0,p),l}}class tO{constructor(r,n){this.time=r,this.value=n}}function qg(i,r,n){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:r,refCount:!1,scheduler:n},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let l,p,u=0,_=!1,E=!1;return function(A){let O;u++,!l||_?(_=!1,l=new eO(i,r,s),O=l.subscribe(this),p=A.subscribe({next(V){l.next(V)},error(V){_=!0,l.error(V)},complete(){E=!0,p=void 0,l.complete()}}),E&&(p=void 0)):O=l.subscribe(this),this.add(()=>{u--,O.unsubscribe(),O=void 0,p&&!E&&n&&0===u&&(p.unsubscribe(),p=void 0,l=void 0)})}}(s))}function u0(i,r){return r?Wn(()=>i,r):Wn(()=>i)}var Wg=F(9673);F(7841);const aS=new d.OlP("angularfire2.auth.use-emulator"),nO=new d.OlP("angularfire2.auth.settings"),lS=new d.OlP("angularfire2.auth.tenant-id"),rO=new d.OlP("angularfire2.auth.langugage-code"),cS=new d.OlP("angularfire2.auth.use-device-language"),uS=new d.OlP("angularfire.auth.persistence"),dS=(i,r,n,s,l,u,p,_)=>(0,zr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const E=r.runOutsideAngular(()=>i.auth());if(n&&E.useEmulator(...n),s&&(E.tenantId=s),E.languageCode=l,u&&E.useDeviceLanguage(),p)for(const[D,A]of Object.entries(p))E.settings[D]=A;return _&&E.setPersistence(_),E},[n,s,l,u,p,_]);let iO=(()=>{class i{constructor(n,s,l,u,p,_,E,D,A,O,V){const B=new ft.xQ,W=(0,je.of)(void 0).pipe((0,zg.QV)(p.outsideAngular),Wn(()=>u.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,6780)))),(0,rt.U)(()=>(0,Ma.on)(n,u,s)),(0,rt.U)(pe=>dS(pe,u,_,D,A,O,E,V)),qg({bufferSize:1,refCount:!1}));if(Qu(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{W.pipe(Tn()).subscribe();const Te=W.pipe(Wn(Ue=>Ue.getRedirectResult().then(ut=>ut,()=>null)),zr.iC,qg({bufferSize:1,refCount:!1})),Ve=W.pipe(Wn(Ue=>new on.y(ut=>({unsubscribe:u.runOutsideAngular(()=>Ue.onAuthStateChanged(qn=>ut.next(qn),qn=>ut.error(qn),()=>ut.complete()))})))),qe=W.pipe(Wn(Ue=>new on.y(ut=>({unsubscribe:u.runOutsideAngular(()=>Ue.onIdTokenChanged(qn=>ut.next(qn),qn=>ut.error(qn),()=>ut.complete()))}))));this.authState=Te.pipe(u0(Ve),(0,Wg.R)(p.outsideAngular),(0,zg.QV)(p.insideAngular)),this.user=Te.pipe(u0(qe),(0,Wg.R)(p.outsideAngular),(0,zg.QV)(p.insideAngular)),this.idToken=this.user.pipe(Wn(Ue=>Ue?(0,un.D)(Ue.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(Wn(Ue=>Ue?(0,un.D)(Ue.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,Zo.T)(Te,B,this.authState.pipe(dr(Ue=>!Ue))).pipe((0,rt.U)(Ue=>(null==Ue?void 0:Ue.user)?Ue:null),(0,Wg.R)(p.outsideAngular),(0,zg.QV)(p.insideAngular))}return(0,Ma.pX)(this,W,u,{spy:{apply:(pe,Te,Ve)=>{(pe.startsWith("signIn")||pe.startsWith("createUser"))&&Ve.then(qe=>B.next(qe))}}})}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ma.Dh),d.LFG(Ma.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zr.HU),d.LFG(aS,8),d.LFG(nO,8),d.LFG(lS,8),d.LFG(rO,8),d.LFG(cS,8),d.LFG(uS,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function fS(i,r){return function(i,r=E_.z){return new on.y(n=>{let s;return null!=r?r.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(i,r)}function ev(i,r){return fS(i,r).pipe((0,rt.U)(n=>({payload:n,type:"query"})))}function tv(i,r){return ev(i,r).pipe(ur(void 0),mt(),(0,rt.U)(([n,s])=>{const l=s.payload.docChanges(),u=l.map(p=>({type:p.type,payload:p}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,_)=>{const E=l.find(A=>A.doc.ref.isEqual(p.ref)),D=null==n?void 0:n.payload.docs.find(A=>A.ref.isEqual(p.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(p.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(p.metadata)||u.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:p}})}),u}))}function oO(i,r,n){return tv(i,n).pipe(fd((s,l)=>function(i,r,n){return r.forEach(s=>{n.indexOf(s.type)>-1&&(i=function(i,r){switch(r.type){case"added":if(!i[r.newIndex]||!i[r.newIndex].doc.ref.isEqual(r.doc.ref))return nv(i,r.newIndex,0,r);break;case"modified":if(null==i[r.oldIndex]||i[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const n=i.slice();return n.splice(r.oldIndex,1),n.splice(r.newIndex,0,r),n}return nv(i,r.newIndex,1,r)}break;case"removed":if(i[r.oldIndex]&&i[r.oldIndex].doc.ref.isEqual(r.doc.ref))return nv(i,r.oldIndex,1)}return i}(i,s))}),i}(s,l.map(u=>u.payload),r),[]),function(i,r){return n=>n.lift(new Ws(i,r))}(),(0,rt.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function nv(i,r,n,...s){const l=i.slice();return l.splice(r,n,...s),l}function gS(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class d0{constructor(r,n,s){this.ref=r,this.query=n,this.afs=s}stateChanges(r){let n=tv(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(n=n.pipe((0,rt.U)(s=>s.filter(l=>r.indexOf(l.type)>-1)))),n.pipe(ur(void 0),mt(),dr(([s,l])=>l.length>0||!s),(0,rt.U)(([s,l])=>l),zr.iC)}auditTrail(r){return this.stateChanges(r).pipe(fd((n,s)=>[...n,...s],[]))}snapshotChanges(r){const n=gS(r);return oO(this.query,n,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(r={}){return ev(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(n=>n.payload.docs.map(s=>r.idField?Object.assign(Object.assign({},s.data()),{[r.idField]:s.id}):s.data())),zr.iC)}get(r){return(0,un.D)(this.query.get(r)).pipe(zr.iC)}add(r){return this.ref.add(r)}doc(r){return new $h(this.ref.doc(r),this.afs)}}class $h{constructor(r,n){this.ref=r,this.afs=n}set(r,n){return this.ref.set(r,n)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,n){const s=this.ref.collection(r),{ref:l,query:u}=uO(s,n);return new d0(l,u,this.afs)}snapshotChanges(){return function(i,r){return fS(i,r).pipe(ur(void 0),mt(),(0,rt.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:n})=>r.idField?Object.assign(Object.assign({},n.data()),{[r.idField]:n.id}):n.data()))}get(r){return(0,un.D)(this.ref.get(r)).pipe(zr.iC)}}class h0{constructor(r,n){this.query=r,this.afs=n}stateChanges(r){return r&&0!==r.length?tv(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(n=>n.filter(s=>r.indexOf(s.type)>-1)),dr(n=>n.length>0),zr.iC):tv(this.query,this.afs.schedulers.outsideAngular).pipe(zr.iC)}auditTrail(r){return this.stateChanges(r).pipe(fd((n,s)=>[...n,...s],[]))}snapshotChanges(r){const n=gS(r);return oO(this.query,n,this.afs.schedulers.outsideAngular).pipe(zr.iC)}valueChanges(r={}){return ev(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(s=>s.payload.docs.map(l=>r.idField?Object.assign({[r.idField]:l.id},l.data()):l.data())),zr.iC)}get(r){return(0,un.D)(this.query.get(r)).pipe(zr.iC)}}const mS=new d.OlP("angularfire2.enableFirestorePersistence"),lO=new d.OlP("angularfire2.firestore.persistenceSettings"),cO=new d.OlP("angularfire2.firestore.settings"),Fk=new d.OlP("angularfire2.firestore.use-emulator");function uO(i,r=(n=>n)){return{query:r(i),ref:i}}let Lk=(()=>{class i{constructor(n,s,l,u,p,_,E,D,A,O,V,B,W,pe,Te,Ve){this.schedulers=E;const qe=(0,Ma.on)(n,_,s),Ue=A;O&&dS(qe,_,V,W,pe,Te,B,Ve),[this.firestore,this.persistenceEnabled$]=(0,zr.cc)(`${qe.name}.firestore`,"AngularFirestore",qe.name,()=>{const ut=_.runOutsideAngular(()=>qe.firestore());if(u&&ut.settings(u),Ue&&ut.useEmulator(...Ue),l&&!Qu(p)){const qn=()=>{try{return(0,un.D)(ut.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(ls){return"undefined"!=typeof console&&console.warn(ls),(0,je.of)(!1)}};return[ut,_.runOutsideAngular(qn)]}return[ut,(0,je.of)(!1)]},[u,Ue,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:p}=uO(l,s),_=this.schedulers.ngZone.run(()=>u);return new d0(_,p,this)}collectionGroup(n,s){const l=s||(p=>p),u=this.firestore.collectionGroup(n);return new h0(l(u),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new $h(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ma.Dh),d.LFG(Ma.xv,8),d.LFG(mS,8),d.LFG(cO,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zr.HU),d.LFG(lO,8),d.LFG(Fk,8),d.LFG(iO,8),d.LFG(aS,8),d.LFG(nO,8),d.LFG(lS,8),d.LFG(rO,8),d.LFG(cS,8),d.LFG(uS,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),_S=(()=>{class i{constructor(n){this.firestore=n}getUsuarios(n){return this.firestore.collection("usuarios",s=>s.limit(4).orderBy("numero",n)).snapshotChanges()}anterior(n,s,l){return this.firestore.collection("usuarios",u=>u.limit(4).orderBy("numero",n).startAt(s).endBefore(l))}siguiente(n,s){return this.firestore.collection("usuarios",l=>l.limit(4).orderBy("numero",n).startAfter(s))}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Lk))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function hO(i,r){if(1&i&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d._UZ(7,"td"),d.qZA()),2&i){const n=r.$implicit;d.xp6(2),d.Oqu(n.nombre),d.xp6(2),d.Oqu(n.correo),d.xp6(2),d.Oqu(n.numero)}}let fO=(()=>{class i{constructor(n){this.paginarService=n,this.collection={data:[]},this.Orden="asc",this.primerDoc=[],this.ultimoDoc=[],this.primerDoc_Previo=[],this.contador_de_click_pagina=0,this.desHabilitar_siguiente=!1,this.desHabilitar_anterior=!1,this.Carga()}ngOnInit(){}Carga(){this.paginarService.getUsuarios(this.Orden).subscribe(n=>{this.primerDoc=n[0].payload.doc,this.ultimoDoc=n[n.length-1].payload.doc,this.collection.data=[];for(let s of n)this.collection.data.push(s.payload.doc.data());this.primerDoc_Previo=[],this.contador_de_click_pagina=0,this.desHabilitar_siguiente=!1,this.desHabilitar_anterior=!1,this.agre_doc_prev(this.primerDoc)},n=>{console.error(n)})}antePag(){this.desHabilitar_anterior=!0,this.paginarService.anterior(this.Orden,this.get_doc_prev(),this.primerDoc).get().subscribe(n=>{this.primerDoc=n.docs[0],this.ultimoDoc=n.docs[n.docs.length-1],this.collection.data=[];for(let s of n.docs)this.collection.data.push(s.data());this.contador_de_click_pagina--,this.elim_doc_previo(this.primerDoc),this.desHabilitar_anterior=!1,this.desHabilitar_siguiente=!1},n=>{this.desHabilitar_anterior=!1})}sigPag(){this.desHabilitar_siguiente=!0,this.paginarService.siguiente(this.Orden,this.ultimoDoc).get().subscribe(n=>{if(n.docs.length){this.primerDoc=n.docs[0],this.ultimoDoc=n.docs[n.docs.length-1],this.collection.data=[];for(let s of n.docs)this.collection.data.push(s.data());this.contador_de_click_pagina++,this.agre_doc_prev(this.primerDoc),this.desHabilitar_siguiente=!1}else this.desHabilitar_siguiente=!0},n=>{this.desHabilitar_siguiente=!1})}Decs(){this.Orden="desc",this.Carga()}Asc(){this.Orden="asc",this.Carga()}agre_doc_prev(n){this.primerDoc_Previo.push(n)}elim_doc_previo(n){this.primerDoc_Previo.forEach(s=>{n.data().id==s.data().id&&(s=null)})}get_doc_prev(){return this.primerDoc_Previo.length>this.contador_de_click_pagina+1&&this.primerDoc_Previo.splice(this.primerDoc_Previo.length-2,this.primerDoc_Previo.length-1),this.primerDoc_Previo[this.contador_de_click_pagina-1]}}return i.\u0275fac=function(n){return new(n||i)(d.Y36(_S))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:36,vars:4,consts:[[1,"container",2,"text-align","center"],[2,"text-align","center"],[1,"mx-auto"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-secondary"],["type","radio","name","options","id","option1","autocomplete","off",3,"click"],["type","radio","name","options","id","option2","autocomplete","off",3,"click"],[1,"table","table-success","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"Card","text-center","mx-auto",2,"width","50rem"],[1,"card-body",2,"background","black"],[1,"btn","btn","btn-info","btn-sm","float-left",3,"disabled","click"],[1,"text-white"],[1,"btn","btn","btn-info","btn-sm","float-right",3,"disabled","click"]],template:function(n,s){1&n&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Paginacion "),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"br"),d.TgZ(5,"h2",1),d._uU(6,"Orden de los datos"),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"label",4),d.TgZ(9,"input",5),d.NdJ("click",function(){return s.Decs()}),d.qZA(),d._uU(10," Decendiente "),d.qZA(),d.TgZ(11,"label",4),d.TgZ(12,"input",6),d.NdJ("click",function(){return s.Asc()}),d.qZA(),d._uU(13," Acendiente "),d.qZA(),d.qZA(),d.qZA(),d._UZ(14,"br"),d.TgZ(15,"table",7),d.TgZ(16,"thead",8),d.TgZ(17,"tr"),d.TgZ(18,"th"),d._uU(19,"Nombre"),d.qZA(),d.TgZ(20,"th"),d._uU(21,"Correo"),d.qZA(),d.TgZ(22,"th"),d._uU(23,"numero"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"tbody"),d.YNc(25,hO,8,3,"tr",9),d.qZA(),d.qZA(),d.TgZ(26,"div",10),d.TgZ(27,"div",11),d.TgZ(28,"button",12),d.NdJ("click",function(){return s.antePag()}),d._uU(29,"Anterior"),d.qZA(),d.TgZ(30,"label",13),d._uU(31),d.qZA(),d.TgZ(32,"button",14),d.NdJ("click",function(){return s.sigPag()}),d._uU(33,"Siguiente"),d.qZA(),d._UZ(34,"br"),d._UZ(35,"br"),d.qZA(),d.qZA(),d.qZA()),2&n&&(d.xp6(25),d.Q6J("ngForOf",s.collection.data),d.xp6(3),d.Q6J("disabled",s.desHabilitar_anterior||!(s.contador_de_click_pagina>0)),d.xp6(3),d.hij("Pagina Num: ",s.contador_de_click_pagina+1,""),d.xp6(1),d.Q6J("disabled",s.desHabilitar_siguiente))},directives:[Gt],styles:[""]}),i})();class yS{}const Ko="*";function iv(i,r=null){return{type:2,steps:i,options:r}}function Vt(i){return{type:6,styles:i,offset:null}}function ec(i){Promise.resolve(null).then(i)}class Pu{constructor(r=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ec(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class ov{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let n=0,s=0,l=0;const u=this.players.length;0==u?ec(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++n==u&&this._onFinish()}),p.onDestroy(()=>{++s==u&&this._onDestroy()}),p.onStart(()=>{++l==u&&this._onStart()})}),this.totalTime=this.players.reduce((p,_)=>Math.max(p,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const n=r*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(l)})}getPosition(){const r=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function bS(){return"undefined"!=typeof window&&void 0!==window.document}function zh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tc(i){switch(i.length){case 0:return new Pu;case 1:return i[0];default:return new ov(i)}}function av(i,r,n,s,l={},u={}){const p=[],_=[];let E=-1,D=null;if(s.forEach(A=>{const O=A.offset,V=O==E,B=V&&D||{};Object.keys(A).forEach(W=>{let pe=W,Te=A[W];if("offset"!==W)switch(pe=r.normalizePropertyName(pe,p),Te){case"!":Te=l[W];break;case Ko:Te=u[W];break;default:Te=r.normalizeStyleValue(W,pe,Te,p)}B[pe]=Te}),V||_.push(B),D=B,E=O}),p.length){const A="\n - ";throw new Error(`Unable to animate due to the following errors:${A}${p.join(A)}`)}return _}function lv(i,r,n,s){switch(r){case"start":i.onStart(()=>s(n&&Jn(n,"start",i)));break;case"done":i.onDone(()=>s(n&&Jn(n,"done",i)));break;case"destroy":i.onDestroy(()=>s(n&&Jn(n,"destroy",i)))}}function Jn(i,r,n){const s=n.totalTime,u=wS(i.element,i.triggerName,i.fromState,i.toState,r||i.phaseName,null==s?i.totalTime:s,!!n.disabled),p=i._data;return null!=p&&(u._data=p),u}function wS(i,r,n,s,l="",u=0,p){return{element:i,triggerName:r,fromState:n,toState:s,phaseName:l,totalTime:u,disabled:!!p}}function ss(i,r,n){let s;return i instanceof Map?(s=i.get(r),s||i.set(r,s=n)):(s=i[r],s||(s=i[r]=n)),s}function ES(i){const r=i.indexOf(":");return[i.substring(1,r),i.substr(r+1)]}let CS=(i,r)=>!1,p0=(i,r)=>!1,_O=(i,r,n)=>[];const TS=zh();(TS||"undefined"!=typeof Element)&&(CS=bS()?(i,r)=>{for(;r&&r!==document.documentElement;){if(r===i)return!0;r=r.parentNode||r.host}return!1}:(i,r)=>i.contains(r),p0=(()=>{if(TS||Element.prototype.matches)return(i,r)=>i.matches(r);{const i=Element.prototype,r=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return r?(n,s)=>r.apply(n,[s]):p0}})(),_O=(i,r,n)=>{let s=[];if(n){const l=i.querySelectorAll(r);for(let u=0;u<l.length;u++)s.push(l[u])}else{const l=i.querySelector(r);l&&s.push(l)}return s});let Fu=null,IS=!1;function g0(i){Fu||(Fu=("undefined"!=typeof document?document.body:null)||{},IS=!!Fu.style&&"WebkitAppearance"in Fu.style);let r=!0;return Fu.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(r=i in Fu.style,!r&&IS&&(r="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Fu.style)),r}const m0=p0,_0=CS,y0=_O;function vO(i){const r={};return Object.keys(i).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");r[s]=i[n]}),r}let bO=(()=>{class i{validateStyleProperty(n){return g0(n)}matchesElement(n,s){return m0(n,s)}containsElement(n,s){return _0(n,s)}query(n,s,l){return y0(n,s,l)}computeStyle(n,s,l){return l||""}animate(n,s,l,u,p,_=[],E){return new Pu(l,u)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class cv{}cv.NOOP=new bO;const v0="ng-enter",Ni="ng-leave",uv="ng-trigger",dv=".ng-trigger",CO="ng-animating",b0=".ng-animating";function Lu(i){if("number"==typeof i)return i;const r=i.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:w0(parseFloat(r[1]),r[2])}function w0(i,r){switch(r){case"s":return 1e3*i;default:return i}}function nc(i,r,n){return i.hasOwnProperty("duration")?i:function(i,r,n){let l,u=0,p="";if("string"==typeof i){const _=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return r.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};l=w0(parseFloat(_[1]),_[2]);const E=_[3];null!=E&&(u=w0(parseFloat(E),_[4]));const D=_[5];D&&(p=D)}else l=i;if(!n){let _=!1,E=r.length;l<0&&(r.push("Duration values below 0 are not allowed for this animation step."),_=!0),u<0&&(r.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&r.splice(E,0,`The provided timing value "${i}" is invalid.`)}return{duration:l,delay:u,easing:p}}(i,r,n)}function Zg(i,r={}){return Object.keys(i).forEach(n=>{r[n]=i[n]}),r}function Vu(i,r,n={}){if(r)for(let s in i)n[s]=i[s];else Zg(i,n);return n}function TO(i,r,n){return n?r+":"+n+";":""}function IO(i){let r="";for(let n=0;n<i.style.length;n++){const s=i.style.item(n);r+=TO(0,s,i.style.getPropertyValue(s))}for(const n in i.style)i.style.hasOwnProperty(n)&&!n.startsWith("_")&&(r+=TO(0,RS(n),i.style[n]));i.setAttribute("style",r)}function xs(i,r,n){i.style&&(Object.keys(r).forEach(s=>{const l=OS(s);n&&!n.hasOwnProperty(s)&&(n[s]=i.style[l]),i.style[l]=r[s]}),zh()&&IO(i))}function Bu(i,r){i.style&&(Object.keys(r).forEach(n=>{const s=OS(n);i.style[s]=""}),zh()&&IO(i))}function Kg(i){return Array.isArray(i)?1==i.length?i[0]:iv(i):i}const MS=new RegExp("{{\\s*(.+?)\\s*}}","g");function xS(i){let r=[];if("string"==typeof i){let n;for(;n=MS.exec(i);)r.push(n[1]);MS.lastIndex=0}return r}function hv(i,r,n){const s=i.toString(),l=s.replace(MS,(u,p)=>{let _=r[p];return r.hasOwnProperty(p)||(n.push(`Please provide a value for the animation param ${p}`),_=""),_.toString()});return l==s?i:l}function fv(i){const r=[];let n=i.next();for(;!n.done;)r.push(n.value),n=i.next();return r}const co=/-+([a-z0-9])/g;function OS(i){return i.replace(co,(...r)=>r[1].toUpperCase())}function RS(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kS(i,r){return 0===i||0===r}function E0(i,r,n){const s=Object.keys(n);if(s.length&&r.length){let u=r[0],p=[];if(s.forEach(_=>{u.hasOwnProperty(_)||p.push(_),u[_]=n[_]}),p.length)for(var l=1;l<r.length;l++){let _=r[l];p.forEach(function(E){_[E]=pv(i,E)})}}return r}function Pi(i,r,n){switch(r.type){case 7:return i.visitTrigger(r,n);case 0:return i.visitState(r,n);case 1:return i.visitTransition(r,n);case 2:return i.visitSequence(r,n);case 3:return i.visitGroup(r,n);case 4:return i.visitAnimate(r,n);case 5:return i.visitKeyframes(r,n);case 6:return i.visitStyle(r,n);case 8:return i.visitReference(r,n);case 9:return i.visitAnimateChild(r,n);case 10:return i.visitAnimateRef(r,n);case 11:return i.visitQuery(r,n);case 12:return i.visitStagger(r,n);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function pv(i,r){return window.getComputedStyle(i)[r]}function C0(i,r){const n=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,r,n){if(":"==i[0]){const E=function(i,r){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return r.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,n);if("function"==typeof E)return void r.push(E);i=E}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${i}" is not supported`),r;const l=s[1],u=s[2],p=s[3];r.push(I0(l,p));"<"==u[0]&&!("*"==l&&"*"==p)&&r.push(I0(p,l))}(s,n,r)):n.push(i),n}const Uu=new Set(["true","1"]),Qg=new Set(["false","0"]);function I0(i,r){const n=Uu.has(i)||Qg.has(i),s=Uu.has(r)||Qg.has(r);return(l,u)=>{let p="*"==i||i==l,_="*"==r||r==u;return!p&&n&&"boolean"==typeof l&&(p=l?Uu.has(i):Qg.has(i)),!_&&s&&"boolean"==typeof u&&(_=u?Uu.has(r):Qg.has(r)),p&&_}}const SO=new RegExp("s*:selfs*,?","g");function mv(i,r,n){return new AO(i).build(r,n)}class AO{constructor(r){this._driver=r}build(r,n){const s=new xO(n);return this._resetContextStyleTimingState(s),Pi(this,Kg(r),s)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,n){let s=n.queryCount=0,l=n.depCount=0;const u=[],p=[];return"@"==r.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(_=>{if(this._resetContextStyleTimingState(n),0==_.type){const E=_,D=E.name;D.toString().split(/\s*,\s*/).forEach(A=>{E.name=A,u.push(this.visitState(E,n))}),E.name=D}else if(1==_.type){const E=this.visitTransition(_,n);s+=E.queryCount,l+=E.depCount,p.push(E)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:u,transitions:p,queryCount:s,depCount:l,options:null}}visitState(r,n){const s=this.visitStyle(r.styles,n),l=r.options&&r.options.params||null;if(s.containsDynamicStyles){const u=new Set,p=l||{};if(s.styles.forEach(_=>{if(rc(_)){const E=_;Object.keys(E).forEach(D=>{xS(E[D]).forEach(A=>{p.hasOwnProperty(A)||u.add(A)})})}}),u.size){const _=fv(u.values());n.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:r.name,style:s,options:l?{params:l}:null}}visitTransition(r,n){n.queryCount=0,n.depCount=0;const s=Pi(this,Kg(r.animation),n);return{type:1,matchers:C0(r.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:ic(r.options)}}visitSequence(r,n){return{type:2,steps:r.steps.map(s=>Pi(this,s,n)),options:ic(r.options)}}visitGroup(r,n){const s=n.currentTime;let l=0;const u=r.steps.map(p=>{n.currentTime=s;const _=Pi(this,p,n);return l=Math.max(l,n.currentTime),_});return n.currentTime=l,{type:3,steps:u,options:ic(r.options)}}visitAnimate(r,n){const s=function(i,r){let n=null;if(i.hasOwnProperty("duration"))n=i;else if("number"==typeof i)return Wh(nc(i,r).duration,0,"");const s=i;if(s.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Wh(0,0,"");return u.dynamic=!0,u.strValue=s,u}return n=n||nc(s,r),Wh(n.duration,n.delay,n.easing)}(r.timings,n.errors);n.currentAnimateTimings=s;let l,u=r.styles?r.styles:Vt({});if(5==u.type)l=this.visitKeyframes(u,n);else{let p=r.styles,_=!1;if(!p){_=!0;const D={};s.easing&&(D.easing=s.easing),p=Vt(D)}n.currentTime+=s.duration+s.delay;const E=this.visitStyle(p,n);E.isEmptyStep=_,l=E}return n.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(r,n){const s=this._makeStyleAst(r,n);return this._validateStyleAst(s,n),s}_makeStyleAst(r,n){const s=[];Array.isArray(r.styles)?r.styles.forEach(p=>{"string"==typeof p?p==Ko?s.push(p):n.errors.push(`The provided style string value ${p} is not allowed.`):s.push(p)}):s.push(r.styles);let l=!1,u=null;return s.forEach(p=>{if(rc(p)){const _=p,E=_.easing;if(E&&(u=E,delete _.easing),!l)for(let D in _)if(_[D].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:u,offset:r.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(r,n){const s=n.currentAnimateTimings;let l=n.currentTime,u=n.currentTime;s&&u>0&&(u-=s.duration+s.delay),r.styles.forEach(p=>{"string"!=typeof p&&Object.keys(p).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void n.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const E=n.collectedStyles[n.currentQuerySelector],D=E[_];let A=!0;D&&(u!=l&&u>=D.startTime&&l<=D.endTime&&(n.errors.push(`The CSS property "${_}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${l}ms"`),A=!1),u=D.startTime),A&&(E[_]={startTime:u,endTime:l}),n.options&&function(i,r,n){const s=r.params||{},l=xS(i);l.length&&l.forEach(u=>{s.hasOwnProperty(u)||n.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(p[_],n.options,n.errors)})})}visitKeyframes(r,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let u=0;const p=[];let _=!1,E=!1,D=0;const A=r.steps.map(Ve=>{const qe=this._makeStyleAst(Ve,n);let Ue=null!=qe.offset?qe.offset:function(i){if("string"==typeof i)return null;let r=null;if(Array.isArray(i))i.forEach(n=>{if(rc(n)&&n.hasOwnProperty("offset")){const s=n;r=parseFloat(s.offset),delete s.offset}});else if(rc(i)&&i.hasOwnProperty("offset")){const n=i;r=parseFloat(n.offset),delete n.offset}return r}(qe.styles),ut=0;return null!=Ue&&(u++,ut=qe.offset=Ue),E=E||ut<0||ut>1,_=_||ut<D,D=ut,p.push(ut),qe});E&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&n.errors.push("Please ensure that all keyframe offsets are in order");const O=r.steps.length;let V=0;u>0&&u<O?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(V=1/(O-1));const B=O-1,W=n.currentTime,pe=n.currentAnimateTimings,Te=pe.duration;return A.forEach((Ve,qe)=>{const Ue=V>0?qe==B?1:V*qe:p[qe],ut=Ue*Te;n.currentTime=W+pe.delay+ut,pe.duration=ut,this._validateStyleAst(Ve,n),Ve.offset=Ue,s.styles.push(Ve)}),s}visitReference(r,n){return{type:8,animation:Pi(this,Kg(r.animation),n),options:ic(r.options)}}visitAnimateChild(r,n){return n.depCount++,{type:9,options:ic(r.options)}}visitAnimateRef(r,n){return{type:10,animation:this.visitReference(r.animation,n),options:ic(r.options)}}visitQuery(r,n){const s=n.currentQuerySelector,l=r.options||{};n.queryCount++,n.currentQuery=r;const[u,p]=function(i){const r=!!i.split(/\s*,\s*/).find(n=>":self"==n);return r&&(i=i.replace(SO,"")),[i=i.replace(/@\*/g,dv).replace(/@\w+/g,n=>dv+"-"+n.substr(1)).replace(/:animating/g,b0),r]}(r.selector);n.currentQuerySelector=s.length?s+" "+u:u,ss(n.collectedStyles,n.currentQuerySelector,{});const _=Pi(this,Kg(r.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:u,limit:l.limit||0,optional:!!l.optional,includeSelf:p,animation:_,originalSelector:r.selector,options:ic(r.options)}}visitStagger(r,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===r.timings?{duration:0,delay:0,easing:"full"}:nc(r.timings,n.errors,!0);return{type:12,animation:Pi(this,Kg(r.animation),n),timings:s,options:null}}}class xO{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rc(i){return!Array.isArray(i)&&"object"==typeof i}function ic(i){return i?(i=Zg(i)).params&&(i.params=function(i){return i?Zg(i):null}(i.params)):i={},i}function Wh(i,r,n){return{duration:i,delay:r,easing:n}}function Jg(i,r,n,s,l,u,p=null,_=!1){return{type:1,element:i,keyframes:r,preStyleProps:n,postStyleProps:s,duration:l,delay:u,totalTime:l+u,easing:p,subTimeline:_}}class Xg{constructor(){this._map=new Map}consume(r){let n=this._map.get(r);return n?this._map.delete(r):n=[],n}append(r,n){let s=this._map.get(r);s||this._map.set(r,s=[]),s.push(...n)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const RO=new RegExp(":enter","g"),NO=new RegExp(":leave","g");function vv(i,r,n,s,l,u={},p={},_,E,D=[]){return(new PO).buildKeyframes(i,r,n,s,l,u,p,_,E,D)}class PO{buildKeyframes(r,n,s,l,u,p,_,E,D,A=[]){D=D||new Xg;const O=new S0(r,n,D,l,u,A,[]);O.options=E,O.currentTimeline.setStyles([p],null,O.errors,E),Pi(this,s,O);const V=O.timelines.filter(B=>B.containsAnimation());if(V.length&&Object.keys(_).length){const B=V[V.length-1];B.allowOnlyTimelineStyles()||B.setStyles([_],null,O.errors,E)}return V.length?V.map(B=>B.buildKeyframes()):[Jg(n,[],[],[],0,0,"",!1)]}visitTrigger(r,n){}visitState(r,n){}visitTransition(r,n){}visitAnimateChild(r,n){const s=n.subInstructions.consume(n.element);if(s){const l=n.createSubContext(r.options),u=n.currentTimeline.currentTime,p=this._visitSubInstructions(s,l,l.options);u!=p&&n.transformIntoNewTimeline(p)}n.previousNode=r}visitAnimateRef(r,n){const s=n.createSubContext(r.options);s.transformIntoNewTimeline(),this.visitReference(r.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=r}_visitSubInstructions(r,n,s){let u=n.currentTimeline.currentTime;const p=null!=s.duration?Lu(s.duration):null,_=null!=s.delay?Lu(s.delay):null;return 0!==p&&r.forEach(E=>{const D=n.appendInstructionToTimeline(E,p,_);u=Math.max(u,D.duration+D.delay)}),u}visitReference(r,n){n.updateOptions(r.options,!0),Pi(this,r.animation,n),n.previousNode=r}visitSequence(r,n){const s=n.subContextCount;let l=n;const u=r.options;if(u&&(u.params||u.delay)&&(l=n.createSubContext(u),l.transformIntoNewTimeline(),null!=u.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=bv);const p=Lu(u.delay);l.delayNextStep(p)}r.steps.length&&(r.steps.forEach(p=>Pi(this,p,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),n.previousNode=r}visitGroup(r,n){const s=[];let l=n.currentTimeline.currentTime;const u=r.options&&r.options.delay?Lu(r.options.delay):0;r.steps.forEach(p=>{const _=n.createSubContext(r.options);u&&_.delayNextStep(u),Pi(this,p,_),l=Math.max(l,_.currentTimeline.currentTime),s.push(_.currentTimeline)}),s.forEach(p=>n.currentTimeline.mergeTimelineCollectedStyles(p)),n.transformIntoNewTimeline(l),n.previousNode=r}_visitTiming(r,n){if(r.dynamic){const s=r.strValue;return nc(n.params?hv(s,n.params,n.errors):s,n.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,n){const s=n.currentAnimateTimings=this._visitTiming(r.timings,n),l=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),l.snapshotCurrentStyles());const u=r.style;5==u.type?this.visitKeyframes(u,n):(n.incrementTime(s.duration),this.visitStyle(u,n),l.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=r}visitStyle(r,n){const s=n.currentTimeline,l=n.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=l&&l.easing||r.easing;r.isEmptyStep?s.applyEmptyStep(u):s.setStyles(r.styles,u,n.errors,n.options),n.previousNode=r}visitKeyframes(r,n){const s=n.currentAnimateTimings,l=n.currentTimeline.duration,u=s.duration,_=n.createSubContext().currentTimeline;_.easing=s.easing,r.styles.forEach(E=>{_.forwardTime((E.offset||0)*u),_.setStyles(E.styles,E.easing,n.errors,n.options),_.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(_),n.transformIntoNewTimeline(l+u),n.previousNode=r}visitQuery(r,n){const s=n.currentTimeline.currentTime,l=r.options||{},u=l.delay?Lu(l.delay):0;u&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=bv);let p=s;const _=n.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!l.optional,n.errors);n.currentQueryTotal=_.length;let E=null;_.forEach((D,A)=>{n.currentQueryIndex=A;const O=n.createSubContext(r.options,D);u&&O.delayNextStep(u),D===n.element&&(E=O.currentTimeline),Pi(this,r.animation,O),O.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,O.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(p),E&&(n.currentTimeline.mergeTimelineCollectedStyles(E),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=r}visitStagger(r,n){const s=n.parentContext,l=n.currentTimeline,u=r.timings,p=Math.abs(u.duration),_=p*(n.currentQueryTotal-1);let E=p*n.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":E=_-E;break;case"full":E=s.currentStaggerTime}const A=n.currentTimeline;E&&A.delayNextStep(E);const O=A.currentTime;Pi(this,r.animation,n),n.previousNode=r,s.currentStaggerTime=l.currentTime-O+(l.startTime-s.currentTimeline.startTime)}}const bv={};class S0{constructor(r,n,s,l,u,p,_,E){this._driver=r,this.element=n,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=u,this.errors=p,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new uo(this._driver,n,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,n){if(!r)return;const s=r;let l=this.options;null!=s.duration&&(l.duration=Lu(s.duration)),null!=s.delay&&(l.delay=Lu(s.delay));const u=s.params;if(u){let p=l.params;p||(p=this.options.params={}),Object.keys(u).forEach(_=>{(!n||!p.hasOwnProperty(_))&&(p[_]=hv(u[_],p,this.errors))})}}_copyOptions(){const r={};if(this.options){const n=this.options.params;if(n){const s=r.params={};Object.keys(n).forEach(l=>{s[l]=n[l]})}}return r}createSubContext(r=null,n,s){const l=n||this.element,u=new S0(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(r),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(r){return this.previousNode=bv,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,n,s){const l={duration:null!=n?n:r.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+r.delay,easing:""},u=new em(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,l,r.stretchStartingKeyframe);return this.timelines.push(u),l}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,n,s,l,u,p){let _=[];if(l&&_.push(this.element),r.length>0){r=(r=r.replace(RO,"."+this._enterClassName)).replace(NO,"."+this._leaveClassName);let D=this._driver.query(this.element,r,1!=s);0!==s&&(D=s<0?D.slice(D.length+s,D.length):D.slice(0,s)),_.push(...D)}return!u&&0==_.length&&p.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),_}}class uo{constructor(r,n,s,l){this._driver=r,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+r),n&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,n){return this.applyStylesToKeyframe(),new uo(this._driver,r,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,n){this._localTimelineStyles[r]=n,this._globalTimelineStyles[r]=n,this._styleSummary[r]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Ko,this._currentKeyframe[n]=Ko}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,n,s,l){n&&(this._previousKeyframe.easing=n);const u=l&&l.params||{},p=function(i,r){const n={};let s;return i.forEach(l=>{"*"===l?(s=s||Object.keys(r),s.forEach(u=>{n[u]=Ko})):Vu(l,!1,n)}),n}(r,this._globalTimelineStyles);Object.keys(p).forEach(_=>{const E=hv(p[_],u,s);this._pendingStyles[_]=E,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:Ko),this._updateStyle(_,E)})}applyStylesToKeyframe(){const r=this._pendingStyles,n=Object.keys(r);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=r[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const n=this._localTimelineStyles[r];this._pendingStyles[r]=n,this._updateStyle(r,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let n in this._currentKeyframe)r.push(n);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(n=>{const s=this._styleSummary[n],l=r._styleSummary[n];(!s||l.time>s.time)&&this._updateStyle(n,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((_,E)=>{const D=Vu(_,!0);Object.keys(D).forEach(A=>{const O=D[A];"!"==O?r.add(A):O==Ko&&n.add(A)}),s||(D.offset=E/this.duration),l.push(D)});const u=r.size?fv(r.values()):[],p=n.size?fv(n.values()):[];if(s){const _=l[0],E=Zg(_);_.offset=0,E.offset=1,l=[_,E]}return Jg(this.element,l,u,p,this.duration,this.startTime,this.easing,!1)}}class em extends uo{constructor(r,n,s,l,u,p,_=!1){super(r,n,p.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=u,this._stretchStartingKeyframe=_,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:n,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&n){const u=[],p=s+n,_=n/p,E=Vu(r[0],!1);E.offset=0,u.push(E);const D=Vu(r[0],!1);D.offset=wv(_),u.push(D);const A=r.length-1;for(let O=1;O<=A;O++){let V=Vu(r[O],!1);V.offset=wv((n+V.offset*s)/p),u.push(V)}s=p,n=0,l="",r=u}return Jg(this.element,r,this.preStyleProps,this.postStyleProps,s,n,l,!0)}}function wv(i,r=3){const n=Math.pow(10,r-1);return Math.round(i*n)/n}class A0{}class LO extends A0{normalizePropertyName(r,n){return OS(r)}normalizeStyleValue(r,n,s,l){let u="";const p=s.toString().trim();if(LS[n]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const _=s.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&l.push(`Please provide a CSS unit value for ${r}:${s}`)}return p+u}}const LS=(()=>function(i){const r={};return i.forEach(n=>r[n]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function VS(i,r,n,s,l,u,p,_,E,D,A,O,V){return{type:0,element:i,triggerName:r,isRemovalTransition:l,fromState:n,fromStyles:u,toState:s,toStyles:p,timelines:_,queriedElements:E,preStyleProps:D,postStyleProps:A,totalTime:O,errors:V}}const M0={};class Jo{constructor(r,n,s){this._triggerName=r,this.ast=n,this._stateStyles=s}match(r,n,s,l){return function(i,r,n,s,l){return i.some(u=>u(r,n,s,l))}(this.ast.matchers,r,n,s,l)}buildStyles(r,n,s){const l=this._stateStyles["*"],u=this._stateStyles[r],p=l?l.buildStyles(n,s):{};return u?u.buildStyles(n,s):p}build(r,n,s,l,u,p,_,E,D,A){const O=[],V=this.ast.options&&this.ast.options.params||M0,W=this.buildStyles(s,_&&_.params||M0,O),pe=E&&E.params||M0,Te=this.buildStyles(l,pe,O),Ve=new Set,qe=new Map,Ue=new Map,ut="void"===l,qn={params:Object.assign(Object.assign({},V),pe)},ls=A?[]:vv(r,n,this.ast.animation,u,p,W,Te,qn,D,O);let cs=0;if(ls.forEach(zu=>{cs=Math.max(zu.duration+zu.delay,cs)}),O.length)return VS(n,this._triggerName,s,l,ut,W,Te,[],[],qe,Ue,cs,O);ls.forEach(zu=>{const qu=zu.element,TF=ss(qe,qu,{});zu.preStyleProps.forEach(pm=>TF[pm]=!0);const X0=ss(Ue,qu,{});zu.postStyleProps.forEach(pm=>X0[pm]=!0),qu!==n&&Ve.add(qu)});const $u=fv(Ve.values());return VS(n,this._triggerName,s,l,ut,W,Te,ls,$u,qe,Ue,cs)}}class Yh{constructor(r,n,s){this.styles=r,this.defaultParams=n,this.normalizer=s}buildStyles(r,n){const s={},l=Zg(this.defaultParams);return Object.keys(r).forEach(u=>{const p=r[u];null!=p&&(l[u]=p)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const p=u;Object.keys(p).forEach(_=>{let E=p[_];E.length>1&&(E=hv(E,l,n));const D=this.normalizer.normalizePropertyName(_,n);E=this.normalizer.normalizeStyleValue(_,D,E,n),s[D]=E})}}),s}}class Zh{constructor(r,n,s){this.name=r,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(l=>{this.states[l.name]=new Yh(l.style,l.options&&l.options.params||{},s)}),BS(this.states,"true","1"),BS(this.states,"false","0"),n.transitions.forEach(l=>{this.transitionFactories.push(new Jo(r,l,this.states))}),this.fallbackTransition=function(i,r,n){return new Jo(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,_)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,n,s,l){return this.transitionFactories.find(p=>p.match(r,n,s,l))||null}matchStyles(r,n,s){return this.fallbackTransition.buildStyles(r,n,s)}}function BS(i,r,n){i.hasOwnProperty(r)?i.hasOwnProperty(n)||(i[n]=i[r]):i.hasOwnProperty(n)&&(i[r]=i[n])}const jO=new Xg;class US{constructor(r,n,s){this.bodyNode=r,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(r,n){const s=[],l=mv(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[r]=l}_buildPlayer(r,n,s){const l=r.element,u=av(0,this._normalizer,0,r.keyframes,n,s);return this._driver.animate(l,u,r.duration,r.delay,r.easing,[],!0)}create(r,n,s={}){const l=[],u=this._animations[r];let p;const _=new Map;if(u?(p=vv(this._driver,n,u,v0,Ni,{},{},s,jO,l),p.forEach(A=>{const O=ss(_,A.element,{});A.postStyleProps.forEach(V=>O[V]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),p=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);_.forEach((A,O)=>{Object.keys(A).forEach(V=>{A[V]=this._driver.computeStyle(O,V,Ko)})});const D=tc(p.map(A=>{const O=_.get(A.element);return this._buildPlayer(A,{},O)}));return this._playersById[r]=D,D.onDestroy(()=>this.destroy(r)),this.players.push(D),D}destroy(r){const n=this._getPlayer(r);n.destroy(),delete this._playersById[r];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(r){const n=this._playersById[r];if(!n)throw new Error(`Unable to find the timeline player referenced by ${r}`);return n}listen(r,n,s,l){const u=wS(n,"","","");return lv(this._getPlayer(r),s,u,l),()=>{}}command(r,n,s,l){if("register"==s)return void this.register(r,l[0]);if("create"==s)return void this.create(r,n,l[0]||{});const u=this._getPlayer(r);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(r)}}}const x0="ng-animate-queued",O0="ng-animate-disabled",Cv=".ng-animate-disabled",HS=[],sc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Os="__ng_removed";class k0{constructor(r,n=""){this.namespaceId=n;const s=r&&r.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?r.value:r),s){const u=Zg(r);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const n=r.params;if(n){const s=this.options.params;Object.keys(n).forEach(l=>{null==s[l]&&(s[l]=n[l])})}}}const Tv="void",GS=new k0(Tv);class zk{constructor(r,n,s){this.id=r,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,ho(n,this._hostClassName)}listen(r,n,s,l){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const u=ss(this._elementListeners,r,[]),p={name:n,phase:s,callback:l};u.push(p);const _=ss(this._engine.statesByElement,r,{});return _.hasOwnProperty(n)||(ho(r,uv),ho(r,uv+"-"+n),_[n]=GS),()=>{this._engine.afterFlush(()=>{const E=u.indexOf(p);E>=0&&u.splice(E,1),this._triggers[n]||delete _[n]})}}register(r,n){return!this._triggers[r]&&(this._triggers[r]=n,!0)}_getTrigger(r){const n=this._triggers[r];if(!n)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return n}trigger(r,n,s,l=!0){const u=this._getTrigger(n),p=new N0(this.id,n,r);let _=this._engine.statesByElement.get(r);_||(ho(r,uv),ho(r,uv+"-"+n),this._engine.statesByElement.set(r,_={}));let E=_[n];const D=new k0(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&E&&D.absorbOptions(E.options),_[n]=D,E||(E=GS),D.value!==Tv&&E.value===D.value){if(!function(i,r){const n=Object.keys(i),s=Object.keys(r);if(n.length!=s.length)return!1;for(let l=0;l<n.length;l++){const u=n[l];if(!r.hasOwnProperty(u)||i[u]!==r[u])return!1}return!0}(E.params,D.params)){const pe=[],Te=u.matchStyles(E.value,E.params,pe),Ve=u.matchStyles(D.value,D.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{Bu(r,Te),xs(r,Ve)})}return}const V=ss(this._engine.playersByElement,r,[]);V.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==n&&pe.queued&&pe.destroy()});let B=u.matchTransition(E.value,D.value,r,D.params),W=!1;if(!B){if(!l)return;B=u.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:n,transition:B,fromState:E,toState:D,player:p,isFallbackTransition:W}),W||(ho(r,x0),p.onStart(()=>{o(r,x0)})),p.onDone(()=>{let pe=this.players.indexOf(p);pe>=0&&this.players.splice(pe,1);const Te=this._engine.playersByElement.get(r);if(Te){let Ve=Te.indexOf(p);Ve>=0&&Te.splice(Ve,1)}}),this.players.push(p),V.push(p),p}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((n,s)=>{delete n[r]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(l=>l.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const n=this._engine.playersByElement.get(r);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,n){const s=this._engine.driver.query(r,dv,!0);s.forEach(l=>{if(l[Os])return;const u=this._engine.fetchNamespacesByElement(l);u.size?u.forEach(p=>p.triggerLeaveAnimation(l,n,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(r,n,s,l){const u=this._engine.statesByElement.get(r);if(u){const p=[];if(Object.keys(u).forEach(_=>{if(this._triggers[_]){const E=this.trigger(r,_,Tv,l);E&&p.push(E)}}),p.length)return this._engine.markElementAsRemoved(this.id,r,!0,n),s&&tc(p).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const n=this._elementListeners.get(r),s=this._engine.statesByElement.get(r);if(n&&s){const l=new Set;n.forEach(u=>{const p=u.name;if(l.has(p))return;l.add(p);const E=this._triggers[p].fallbackTransition,D=s[p]||GS,A=new k0(Tv),O=new N0(this.id,p,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:p,transition:E,fromState:D,toState:A,player:O,isFallbackTransition:!0})})}}removeNode(r,n){const s=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,n),this.triggerLeaveAnimation(r,n,!0))return;let l=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(r):[];if(u&&u.length)l=!0;else{let p=r;for(;p=p.parentNode;)if(s.statesByElement.get(p)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(r),l)s.markElementAsRemoved(this.id,r,!1,n);else{const u=r[Os];(!u||u===sc)&&(s.afterFlush(()=>this.clearElementCache(r)),s.destroyInnerAnimations(r),s._onRemovalComplete(r,n))}}insertNode(r,n){ho(r,this._hostClassName)}drainQueuedTransitions(r){const n=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const u=s.element,p=this._elementListeners.get(u);p&&p.forEach(_=>{if(_.name==s.triggerName){const E=wS(u,s.triggerName,s.fromState.value,s.toState.value);E._data=r,lv(s.player,_.phase,E,_.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):n.push(s)}),this._queue=[],n.sort((s,l)=>{const u=s.transition.ast.depCount,p=l.transition.ast.depCount;return 0==u||0==p?u-p:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(r){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let n=!1;return this._elementListeners.has(r)&&(n=!0),n=!!this._queue.find(s=>s.element===r)||n,n}}class qk{constructor(r,n,s){this.bodyNode=r,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,u)=>{}}_onRemovalComplete(r,n){this.onRemovalComplete(r,n)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&r.push(s)})}),r}createNamespace(r,n){const s=new zk(r,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[r]=s}_balanceNamespaceList(r,n){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let u=s;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,n)){this._namespaceList.splice(u+1,0,r),l=!0;break}l||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(n,r),r}register(r,n){let s=this._namespaceLookup[r];return s||(s=this.createNamespace(r,n)),s}registerTrigger(r,n,s){let l=this._namespaceLookup[r];l&&l.register(n,s)&&this.totalAnimations++}destroy(r,n){if(!r)return;const s=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[r];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const n=new Set,s=this.statesByElement.get(r);if(s){const l=Object.keys(s);for(let u=0;u<l.length;u++){const p=s[l[u]].namespaceId;if(p){const _=this._fetchNamespace(p);_&&n.add(_)}}}return n}trigger(r,n,s,l){if(P0(n)){const u=this._fetchNamespace(r);if(u)return u.trigger(n,s,l),!0}return!1}insertNode(r,n,s,l){if(!P0(n))return;const u=n[Os];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const p=this.collectedLeaveElements.indexOf(n);p>=0&&this.collectedLeaveElements.splice(p,1)}if(r){const p=this._fetchNamespace(r);p&&p.insertNode(n,s)}l&&this.collectEnterElement(n)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,n){n?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ho(r,O0)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),o(r,O0))}removeNode(r,n,s,l){if(P0(n)){const u=r?this._fetchNamespace(r):null;if(u?u.removeNode(n,l):this.markElementAsRemoved(r,n,!1,l),s){const p=this.namespacesByHostElement.get(n);p&&p.id!==r&&p.removeNode(n,l)}}else this._onRemovalComplete(n,l)}markElementAsRemoved(r,n,s,l){this.collectedLeaveElements.push(n),n[Os]={namespaceId:r,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(r,n,s,l,u){return P0(n)?this._fetchNamespace(r).listen(n,s,l,u):()=>{}}_buildInstruction(r,n,s,l,u){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,s,l,r.fromState.options,r.toState.options,n,u)}destroyInnerAnimations(r){let n=this.driver.query(r,dv,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(r,b0,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(r){const n=this.playersByElement.get(r);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(r){const n=this.playersByQueriedElement.get(r);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return tc(this.players).onDone(()=>r());r()})}processLeaveNode(r){const n=r[Os];if(n&&n.setForRemoval){if(r[Os]=sc,n.namespaceId){this.destroyInnerAnimations(r);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(r)}this._onRemovalComplete(r,n.setForRemoval)}this.driver.matchesElement(r,Cv)&&this.markElementAsDisabled(r,!1),this.driver.query(r,Cv,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(r=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)ho(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,r)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?tc(n).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,n){const s=new Xg,l=[],u=new Map,p=[],_=new Map,E=new Map,D=new Map,A=new Set;this.disabledNodes.forEach(We=>{A.add(We);const dt=this.driver.query(We,".ng-animate-queued",!0);for(let It=0;It<dt.length;It++)A.add(dt[It])});const O=this.bodyNode,V=Array.from(this.statesByElement.keys()),B=qO(V,this.collectedEnterElements),W=new Map;let pe=0;B.forEach((We,dt)=>{const It=v0+pe++;W.set(dt,It),We.forEach(Yt=>ho(Yt,It))});const Te=[],Ve=new Set,qe=new Set;for(let We=0;We<this.collectedLeaveElements.length;We++){const dt=this.collectedLeaveElements[We],It=dt[Os];It&&It.setForRemoval&&(Te.push(dt),Ve.add(dt),It.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Yt=>Ve.add(Yt)):qe.add(dt))}const Ue=new Map,ut=qO(V,Array.from(Ve));ut.forEach((We,dt)=>{const It=Ni+pe++;Ue.set(dt,It),We.forEach(Yt=>ho(Yt,It))}),r.push(()=>{B.forEach((We,dt)=>{const It=W.get(dt);We.forEach(Yt=>o(Yt,It))}),ut.forEach((We,dt)=>{const It=Ue.get(dt);We.forEach(Yt=>o(Yt,It))}),Te.forEach(We=>{this.processLeaveNode(We)})});const qn=[],ls=[];for(let We=this._namespaceList.length-1;We>=0;We--)this._namespaceList[We].drainQueuedTransitions(n).forEach(It=>{const Yt=It.player,Jr=It.element;if(qn.push(Yt),this.collectedEnterElements.length){const cc=Jr[Os];if(cc&&cc.setForMove)return void Yt.destroy()}const lc=!O||!this.driver.containsElement(O,Jr),fo=Ue.get(Jr),sf=W.get(Jr),Xn=this._buildInstruction(It,s,sf,fo,lc);if(Xn.errors&&Xn.errors.length)ls.push(Xn);else{if(lc)return Yt.onStart(()=>Bu(Jr,Xn.fromStyles)),Yt.onDestroy(()=>xs(Jr,Xn.toStyles)),void l.push(Yt);if(It.isFallbackTransition)return Yt.onStart(()=>Bu(Jr,Xn.fromStyles)),Yt.onDestroy(()=>xs(Jr,Xn.toStyles)),void l.push(Yt);Xn.timelines.forEach(cc=>cc.stretchStartingKeyframe=!0),s.append(Jr,Xn.timelines),p.push({instruction:Xn,player:Yt,element:Jr}),Xn.queriedElements.forEach(cc=>ss(_,cc,[]).push(Yt)),Xn.preStyleProps.forEach((cc,eC)=>{const EA=Object.keys(cc);if(EA.length){let gm=E.get(eC);gm||E.set(eC,gm=new Set),EA.forEach(jR=>gm.add(jR))}}),Xn.postStyleProps.forEach((cc,eC)=>{const EA=Object.keys(cc);let gm=D.get(eC);gm||D.set(eC,gm=new Set),EA.forEach(jR=>gm.add(jR))})}});if(ls.length){const We=[];ls.forEach(dt=>{We.push(`@${dt.triggerName} has failed due to:\n`),dt.errors.forEach(It=>We.push(`- ${It}\n`))}),qn.forEach(dt=>dt.destroy()),this.reportError(We)}const cs=new Map,$u=new Map;p.forEach(We=>{const dt=We.element;s.has(dt)&&($u.set(dt,dt),this._beforeAnimationBuild(We.player.namespaceId,We.instruction,cs))}),l.forEach(We=>{const dt=We.element;this._getPreviousPlayers(dt,!1,We.namespaceId,We.triggerName,null).forEach(Yt=>{ss(cs,dt,[]).push(Yt),Yt.destroy()})});const zu=Te.filter(We=>g(We,E,D)),qu=new Map;$S(qu,this.driver,qe,D,Ko).forEach(We=>{g(We,E,D)&&zu.push(We)});const X0=new Map;B.forEach((We,dt)=>{$S(X0,this.driver,new Set(We),E,"!")}),zu.forEach(We=>{const dt=qu.get(We),It=X0.get(We);qu.set(We,Object.assign(Object.assign({},dt),It))});const pm=[],IF=[],DF={};p.forEach(We=>{const{element:dt,player:It,instruction:Yt}=We;if(s.has(dt)){if(A.has(dt))return It.onDestroy(()=>xs(dt,Yt.toStyles)),It.disabled=!0,It.overrideTotalTime(Yt.totalTime),void l.push(It);let Jr=DF;if($u.size>1){let fo=dt;const sf=[];for(;fo=fo.parentNode;){const Xn=$u.get(fo);if(Xn){Jr=Xn;break}sf.push(fo)}sf.forEach(Xn=>$u.set(Xn,Jr))}const lc=this._buildAnimation(It.namespaceId,Yt,cs,u,X0,qu);if(It.setRealPlayer(lc),Jr===DF)pm.push(It);else{const fo=this.playersByElement.get(Jr);fo&&fo.length&&(It.parentPlayer=tc(fo)),l.push(It)}}else Bu(dt,Yt.fromStyles),It.onDestroy(()=>xs(dt,Yt.toStyles)),IF.push(It),A.has(dt)&&l.push(It)}),IF.forEach(We=>{const dt=u.get(We.element);if(dt&&dt.length){const It=tc(dt);We.setRealPlayer(It)}}),l.forEach(We=>{We.parentPlayer?We.syncPlayerEvents(We.parentPlayer):We.destroy()});for(let We=0;We<Te.length;We++){const dt=Te[We],It=dt[Os];if(o(dt,Ni),It&&It.hasAnimation)continue;let Yt=[];if(_.size){let lc=_.get(dt);lc&&lc.length&&Yt.push(...lc);let fo=this.driver.query(dt,b0,!0);for(let sf=0;sf<fo.length;sf++){let Xn=_.get(fo[sf]);Xn&&Xn.length&&Yt.push(...Xn)}}const Jr=Yt.filter(lc=>!lc.destroyed);Jr.length?a(this,dt,Jr):this.processLeaveNode(dt)}return Te.length=0,pm.forEach(We=>{this.players.push(We),We.onDone(()=>{We.destroy();const dt=this.players.indexOf(We);this.players.splice(dt,1)}),We.play()}),pm}elementContainsData(r,n){let s=!1;const l=n[Os];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(r).elementContainsData(n)||s}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,n,s,l,u){let p=[];if(n){const _=this.playersByQueriedElement.get(r);_&&(p=_)}else{const _=this.playersByElement.get(r);if(_){const E=!u||u==Tv;_.forEach(D=>{D.queued||!E&&D.triggerName!=l||p.push(D)})}}return(s||l)&&(p=p.filter(_=>!(s&&s!=_.namespaceId||l&&l!=_.triggerName))),p}_beforeAnimationBuild(r,n,s){const u=n.element,p=n.isRemovalTransition?void 0:r,_=n.isRemovalTransition?void 0:n.triggerName;for(const E of n.timelines){const D=E.element,A=D!==u,O=ss(s,D,[]);this._getPreviousPlayers(D,A,p,_,n.toState).forEach(B=>{const W=B.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),B.destroy(),O.push(B)})}Bu(u,n.fromStyles)}_buildAnimation(r,n,s,l,u,p){const _=n.triggerName,E=n.element,D=[],A=new Set,O=new Set,V=n.timelines.map(W=>{const pe=W.element;A.add(pe);const Te=pe[Os];if(Te&&Te.removedBeforeQueried)return new Pu(W.duration,W.delay);const Ve=pe!==E,qe=function(i){const r=[];return h(i,r),r}((s.get(pe)||HS).map(cs=>cs.getRealPlayer())).filter(cs=>!!cs.element&&cs.element===pe),Ue=u.get(pe),ut=p.get(pe),qn=av(0,this._normalizer,0,W.keyframes,Ue,ut),ls=this._buildPlayer(W,qn,qe);if(W.subTimeline&&l&&O.add(pe),Ve){const cs=new N0(r,_,pe);cs.setRealPlayer(ls),D.push(cs)}return ls});D.forEach(W=>{ss(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function(i,r,n){let s;if(i instanceof Map){if(s=i.get(r),s){if(s.length){const l=s.indexOf(n);s.splice(l,1)}0==s.length&&i.delete(r)}}else if(s=i[r],s){if(s.length){const l=s.indexOf(n);s.splice(l,1)}0==s.length&&delete i[r]}return s}(this.playersByQueriedElement,W.element,W))}),A.forEach(W=>ho(W,CO));const B=tc(V);return B.onDestroy(()=>{A.forEach(W=>o(W,CO)),xs(E,n.toStyles)}),O.forEach(W=>{ss(l,W,[]).push(B)}),B}_buildPlayer(r,n,s){return n.length>0?this.driver.animate(r.element,n,r.duration,r.delay,r.easing,s):new Pu(r.duration,r.delay)}}class N0{constructor(r,n,s){this.namespaceId=r,this.triggerName=n,this.element=s,this._player=new Pu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>lv(r,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const n=this._player;n.triggerCallback&&r.onStart(()=>n.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,n){ss(this._queuedCallbacks,r,[]).push(n)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const n=this._player;n.triggerCallback&&n.triggerCallback(r)}}function P0(i){return i&&1===i.nodeType}function zO(i,r){const n=i.style.display;return i.style.display=null!=r?r:"none",n}function $S(i,r,n,s,l){const u=[];n.forEach(E=>u.push(zO(E)));const p=[];s.forEach((E,D)=>{const A={};E.forEach(O=>{const V=A[O]=r.computeStyle(D,O,l);(!V||0==V.length)&&(D[Os]=R0,p.push(D))}),i.set(D,A)});let _=0;return n.forEach(E=>zO(E,u[_++])),p}function qO(i,r){const n=new Map;if(i.forEach(_=>n.set(_,[])),0==r.length)return n;const l=new Set(r),u=new Map;function p(_){if(!_)return 1;let E=u.get(_);if(E)return E;const D=_.parentNode;return E=n.has(D)?D:l.has(D)?1:p(D),u.set(_,E),E}return r.forEach(_=>{const E=p(_);1!==E&&n.get(E).push(_)}),n}const F0="$$classes";function ho(i,r){if(i.classList)i.classList.add(r);else{let n=i[F0];n||(n=i[F0]={}),n[r]=!0}}function o(i,r){if(i.classList)i.classList.remove(r);else{let n=i[F0];n&&delete n[r]}}function a(i,r,n){tc(n).onDone(()=>i.processLeaveNode(r))}function h(i,r){for(let n=0;n<i.length;n++){const s=i[n];s instanceof ov?h(s.players,r):r.push(s)}}function g(i,r,n){const s=n.get(i);if(!s)return!1;let l=r.get(i);return l?s.forEach(u=>l.add(u)):r.set(i,s),n.delete(i),!0}class b{constructor(r,n,s){this.bodyNode=r,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,u)=>{},this._transitionEngine=new qk(r,n,s),this._timelineEngine=new US(r,n,s),this._transitionEngine.onRemovalComplete=(l,u)=>this.onRemovalComplete(l,u)}registerTrigger(r,n,s,l,u){const p=r+"-"+l;let _=this._triggerCache[p];if(!_){const E=[],D=mv(this._driver,u,E);if(E.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);_=function(i,r,n){return new Zh(i,r,n)}(l,D,this._normalizer),this._triggerCache[p]=_}this._transitionEngine.registerTrigger(n,l,_)}register(r,n){this._transitionEngine.register(r,n)}destroy(r,n){this._transitionEngine.destroy(r,n)}onInsert(r,n,s,l){this._transitionEngine.insertNode(r,n,s,l)}onRemove(r,n,s,l){this._transitionEngine.removeNode(r,n,l||!1,s)}disableAnimations(r,n){this._transitionEngine.markElementAsDisabled(r,n)}process(r,n,s,l){if("@"==s.charAt(0)){const[u,p]=ES(s);this._timelineEngine.command(u,n,p,l)}else this._transitionEngine.trigger(r,n,s,l)}listen(r,n,s,l,u){if("@"==s.charAt(0)){const[p,_]=ES(s);return this._timelineEngine.listen(p,n,_,u)}return this._transitionEngine.listen(r,n,s,l,u)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function w(i,r){let n=null,s=null;return Array.isArray(r)&&r.length?(n=S(r[0]),r.length>1&&(s=S(r[r.length-1]))):r&&(n=S(r)),n||s?new I(i,n,s):null}class I{constructor(r,n,s){this._element=r,this._startStyles=n,this._endStyles=s,this._state=0;let l=I.initialStylesByElement.get(r);l||I.initialStylesByElement.set(r,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&xs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xs(this._element,this._initialStyles),this._endStyles&&(xs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(I.initialStylesByElement.delete(this._element),this._startStyles&&(Bu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bu(this._element,this._endStyles),this._endStyles=null),xs(this._element,this._initialStyles),this._state=3)}}function S(i){let r=null;const n=Object.keys(i);for(let s=0;s<n.length;s++){const l=n[s];M(l)&&(r=r||{},r[l]=i[l])}return r}function M(i){return"display"===i||"position"===i}I.initialStylesByElement=new WeakMap;const N="animation",U="animationend";class le{constructor(r,n,s,l,u,p,_){this._element=r,this._name=n,this._duration=s,this._delay=l,this._easing=u,this._fillMode=p,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(i,r){const n=Fi(i,"").trim();let s=0;n.length&&(function(i,r){let n=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&n++;return n}(n)+1,r=`${n}, ${r}`),Bn(i,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Nt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ee(this._element,this._name,"paused")}resume(){ee(this._element,this._name,"running")}setPosition(r){const n=Ke(this._element,this._name);this._position=r*this._duration,Bn(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(r){const n=r._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Nt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,r){const s=Fi(i,"").split(","),l=ct(s,r);l>=0&&(s.splice(l,1),Bn(i,"",s.join(",")))}(this._element,this._name))}}function ee(i,r,n){Bn(i,"PlayState",n,Ke(i,r))}function Ke(i,r){const n=Fi(i,"");return n.indexOf(",")>0?ct(n.split(","),r):ct([n],r)}function ct(i,r){for(let n=0;n<i.length;n++)if(i[n].indexOf(r)>=0)return n;return-1}function Nt(i,r,n){n?i.removeEventListener(U,r):i.addEventListener(U,r)}function Bn(i,r,n,s){const l=N+r;if(null!=s){const u=i.style[l];if(u.length){const p=u.split(",");p[s]=n,n=p.join(",")}}i.style[l]=n}function Fi(i,r){return i.style[N+r]||""}class ju{constructor(r,n,s,l,u,p,_,E){this.element=r,this.keyframes=n,this.animationName=s,this._duration=l,this._delay=u,this._finalStyles=_,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=p||"linear",this.totalTime=l+u,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new le(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(r[s]=n?this._finalStyles[s]:pv(this.element,s))})}this.currentSnapshot=r}}class L0 extends Pu{constructor(r,n){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=vO(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const n=this._startingStyles[r];n?this.element.style.setProperty(r,n):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class Dv{constructor(){this._count=0}validateStyleProperty(r){return g0(r)}matchesElement(r,n){return m0(r,n)}containsElement(r,n){return _0(r,n)}query(r,n,s){return y0(r,n,s)}computeStyle(r,n,s){return window.getComputedStyle(r)[n]}buildKeyframeElement(r,n,s){s=s.map(_=>vO(_));let l=`@keyframes ${n} {\n`,u="";s.forEach(_=>{u=" ";const E=parseFloat(_.offset);l+=`${u}${100*E}% {\n`,u+=" ",Object.keys(_).forEach(D=>{const A=_[D];switch(D){case"offset":return;case"easing":return void(A&&(l+=`${u}animation-timing-function: ${A};\n`));default:return void(l+=`${u}${D}: ${A};\n`)}}),l+=`${u}}\n`}),l+="}\n";const p=document.createElement("style");return p.textContent=l,p}animate(r,n,s,l,u,p=[],_){const E=p.filter(Te=>Te instanceof ju),D={};kS(s,l)&&E.forEach(Te=>{let Ve=Te.currentSnapshot;Object.keys(Ve).forEach(qe=>D[qe]=Ve[qe])});const A=function(i){let r={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(r[l]=s[l])})}),r}(n=E0(r,n,D));if(0==s)return new L0(r,A);const O="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(r,O,n);(function(i){var r;const n=null===(r=i.getRootNode)||void 0===r?void 0:r.call(i);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(r).appendChild(V);const W=w(r,n),pe=new ju(r,n,O,s,l,u,A,W);return pe.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(V)),pe}}class Kk{constructor(r,n,s,l){this.element=r,this.keyframes=n,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,n,s){return r.animate(n,s)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(r[n]=this._finished?this._finalKeyframe[n]:pv(this.element,n))}),this.currentSnapshot=r}triggerCallback(r){const n="start"==r?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class NF{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Qk().toString()),this._cssKeyframesDriver=new Dv}validateStyleProperty(r){return g0(r)}matchesElement(r,n){return m0(r,n)}containsElement(r,n){return _0(r,n)}query(r,n,s){return y0(r,n,s)}computeStyle(r,n,s){return window.getComputedStyle(r)[n]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,n,s,l,u,p=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,n,s,l,u,p);const A={duration:s,delay:l,fill:0==l?"both":"forwards"};u&&(A.easing=u);const O={},V=p.filter(W=>W instanceof Kk);kS(s,l)&&V.forEach(W=>{let pe=W.currentSnapshot;Object.keys(pe).forEach(Te=>O[Te]=pe[Te])});const B=w(r,n=E0(r,n=n.map(W=>Vu(W,!1)),O));return new Kk(r,n,A,B)}}function Qk(){return bS()&&Element.prototype.animate||{}}let FF=(()=>{class i extends yS{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(n)?iv(n):n;return Jk(this._renderer,null,s,"register",[l]),new LF(s,this._renderer)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.FYo),d.LFG(X))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class LF extends class{}{constructor(r,n){super(),this._id=r,this._renderer=n}create(r,n){return new VF(this._id,r,n||{},this._renderer)}}class VF{constructor(r,n,s,l){this.id=r,this.element=n,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(r,n){return this._renderer.listen(this.element,`@@${this.id}:${r}`,n)}_command(r,...n){return Jk(this._renderer,this.element,this.id,r,n)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,n;return null!==(n=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==n?n:0}}function Jk(i,r,n,s,l){return i.setProperty(r,`@@${n}:${s}`,l)}const Xk="@.disabled";let BF=(()=>{class i{constructor(n,s,l){this.delegate=n,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,p)=>{p&&p.parentNode(u)&&p.removeChild(u.parentNode,u)}}createRenderer(n,s){const u=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let A=this._rendererCache.get(u);return A||(A=new eN("",u,this.engine),this._rendererCache.set(u,A)),A}const p=s.id,_=s.id+"-"+this._currentId;this._currentId++,this.engine.register(_,n);const E=A=>{Array.isArray(A)?A.forEach(E):this.engine.registerTrigger(p,_,n,A.name,A)};return s.data.animation.forEach(E),new UF(this,_,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,l){n>=0&&n<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[p,_]=u;p(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.FYo),d.LFG(b),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class eN{constructor(r,n,s){this.namespaceId=r,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>n.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,n){return this.delegate.createElement(r,n)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,n){this.delegate.appendChild(r,n),this.engine.onInsert(this.namespaceId,n,r,!1)}insertBefore(r,n,s,l=!0){this.delegate.insertBefore(r,n,s),this.engine.onInsert(this.namespaceId,n,r,l)}removeChild(r,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(r,n){return this.delegate.selectRootElement(r,n)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,n,s,l){this.delegate.setAttribute(r,n,s,l)}removeAttribute(r,n,s){this.delegate.removeAttribute(r,n,s)}addClass(r,n){this.delegate.addClass(r,n)}removeClass(r,n){this.delegate.removeClass(r,n)}setStyle(r,n,s,l){this.delegate.setStyle(r,n,s,l)}removeStyle(r,n,s){this.delegate.removeStyle(r,n,s)}setProperty(r,n,s){"@"==n.charAt(0)&&n==Xk?this.disableAnimations(r,!!s):this.delegate.setProperty(r,n,s)}setValue(r,n){this.delegate.setValue(r,n)}listen(r,n,s){return this.delegate.listen(r,n,s)}disableAnimations(r,n){this.engine.disableAnimations(r,n)}}class UF extends eN{constructor(r,n,s,l){super(n,s,l),this.factory=r,this.namespaceId=n}setProperty(r,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Xk?this.disableAnimations(r,s=void 0===s||!!s):this.engine.process(this.namespaceId,r,n.substr(1),s):this.delegate.setProperty(r,n,s)}listen(r,n,s){if("@"==n.charAt(0)){const l=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(r);let u=n.substr(1),p="";return"@"!=u.charAt(0)&&([u,p]=function(i){const r=i.indexOf(".");return[i.substring(0,r),i.substr(r+1)]}(u)),this.engine.listen(this.namespaceId,l,u,p,_=>{this.factory.scheduleListenerCallback(_._data||-1,s,_)})}return this.delegate.listen(r,n,s)}}let GF=(()=>{class i extends b{constructor(n,s,l){super(n.body,s,l)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X),d.LFG(cv),d.LFG(A0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Br=new d.OlP("AnimationModuleType"),tN=[{provide:yS,useClass:FF},{provide:A0,useFactory:function(){return new LO}},{provide:b,useClass:GF},{provide:d.FYo,useFactory:function(i,r,n){return new BF(i,r,n)},deps:[Vs,b,d.R0b]}],nN=[{provide:cv,useFactory:function(){return"function"==typeof Qk()?new NF:new Dv}},{provide:Br,useValue:"BrowserAnimations"},...tN],rN=[{provide:cv,useClass:bO},{provide:Br,useValue:"NoopAnimations"},...tN];let KO,WF=(()=>{class i{static withConfig(n){return{ngModule:i,providers:n.disableAnimations?rN:nN}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:nN,imports:[xf]}),i})();class uL{constructor(r){this.notifier=r}call(r,n){const s=new dL(r),l=(0,Ii.ft)(this.notifier,new Ii.IY(s));return l&&!s.seenValue?(s.add(l),n.subscribe(s)):s}}class dL extends Ii.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function YS(i){return Array.isArray(i)?i:[i]}function Dr(i){return null==i?"":"string"==typeof i?i:`${i}px`}try{KO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){KO=!1}let sm,Qt=(()=>{class i{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!KO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.Lbi))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.Lbi))},token:i,providedIn:"root"}),i})(),ZS=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function uN(){if(null==sm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sm=!1,sm;if("scrollBehavior"in document.documentElement.style)sm=!0;else{const i=Element.prototype.scrollTo;sm=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return sm}let JO=(()=>{class i{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=d.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),eR=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[JO]}),i})();"undefined"!=typeof Element&&Element;const xN="cdk-high-contrast-black-on-white",ON="cdk-high-contrast-white-on-black",nR="cdk-high-contrast-active";let RN=(()=>{class i{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(n):null,u=(l&&l.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(nR),n.remove(xN),n.remove(ON),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(nR),n.add(xN)):2===s&&(n.add(nR),n.add(ON))}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Qt),d.LFG(X))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Qt),d.LFG(X))},token:i,providedIn:"root"}),i})(),kN=(()=>{class i{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(RN))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ZS,eR]]}),i})();const NN=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(X)}});let Li=(()=>{class i{constructor(n){if(this.value="ltr",this.change=new d.vpe,n){const l=n.documentElement?n.documentElement.dir:null,u=(n.body?n.body.dir:null)||l;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(NN,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(NN,8))},token:i,providedIn:"root"}),i})(),G0=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const PN=new d.GfV("12.2.5"),FN=new d.GfV("12.2.5"),YL=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let lm,gn=(()=>{class i{constructor(n,s,l){this._hasDoneGlobalChecks=!1,this._document=l,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,d.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&FN.full!==PN.full&&console.warn("The Angular Material version ("+FN.full+") does not match the Angular CDK version ("+PN.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(RN),d.LFG(YL,8),d.LFG(X))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[G0],G0]}),i})();try{lm="undefined"!=typeof Intl}catch(i){lm=!1}let sR=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[gn,ZS],gn]}),i})(),pV=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[gn]]}),i})(),qN=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[sR,zi,gn,pV]]}),i})();var wV=F(9105);function Jh(i,r,n,s){return(0,wV.m)(n)&&(s=n,n=void 0),s?Jh(i,r,n).pipe((0,rt.U)(l=>(0,ul.k)(l)?s(...l):s(l))):new on.y(l=>{WN(i,r,function(p){l.next(arguments.length>1?Array.prototype.slice.call(arguments):p)},l,n)})}function WN(i,r,n,s,l){let u;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const p=i;i.addEventListener(r,n,l),u=()=>p.removeEventListener(r,n,l)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const p=i;i.on(r,n),u=()=>p.off(r,n)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const p=i;i.addListener(r,n),u=()=>p.removeListener(r,n)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let p=0,_=i.length;p<_;p++)WN(i[p],r,n,s,l)}s.add(u)}let xV=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[zi,gn],gn]}),i})(),XN=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[sR,gn],gn]}),i})();F(205),F(1555),F(8819);let oB=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[gn],gn]}),i})(),aB=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[gn],gn]}),i})();class pR{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class yP extends pR{constructor(r,n,s,l){super(),this.component=r,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=l}}class aA extends pR{constructor(r,n,s){super(),this.templateRef=r,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(r,n=this.context){return this.context=n,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class lB extends pR{constructor(r){super(),this.element=r instanceof d.SBq?r.nativeElement:r}}class cB extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof yP?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof aA?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof lB?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(r,n,s,l,u){super(),this.outletElement=r,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=l,this.attachDomPortal=p=>{const _=p.element,E=this._document.createComment("dom-portal");_.parentNode.insertBefore(E,_),this.outletElement.appendChild(_),this._attachedPortal=p,super.setDisposeFn(()=>{E.parentNode&&E.parentNode.replaceChild(_,E)})},this._document=u}attachComponentPortal(r){const s=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let l;return r.viewContainerRef?(l=r.viewContainerRef.createComponent(s,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector),this.setDisposeFn(()=>l.destroy())):(l=s.create(r.injector||this._defaultInjector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(l)),this._attachedPortal=r,l}attachTemplatePortal(r){let n=r.viewContainerRef,s=n.createEmbeddedView(r.templateRef,r.context);return s.rootNodes.forEach(l=>this.outletElement.appendChild(l)),s.detectChanges(),this.setDisposeFn(()=>{let l=n.indexOf(s);-1!==l&&n.remove(l)}),this._attachedPortal=r,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let bP=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();var wP=F(6561);function uB(i){const{index:r,period:n,subscriber:s}=i;if(s.next(r),!s.closed){if(-1===n)return s.complete();i.index=r+1,this.schedule(i,n)}}var dB=F(6465),fB=F(6102);new class extends fB.v{flush(r){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,l=-1,u=n.length;r=r||n.shift();do{if(s=r.execute(r.state,r.delay))break}while(++l<u&&(r=n.shift()));if(this.active=!1,s){for(;++l<u&&(r=n.shift());)r.unsubscribe();throw s}}}(class extends dB.o{constructor(r,n){super(r,n),this.scheduler=r,this.work=n}requestAsyncId(r,n,s=0){return null!==s&&s>0?super.requestAsyncId(r,n,s):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(r,n,s);0===r.actions.length&&(cancelAnimationFrame(n),r.scheduled=void 0)}});F(4581);class yB{constructor(r){this.durationSelector=r}call(r,n){return n.subscribe(new vB(r,this.durationSelector))}}class vB extends Ii.Ds{constructor(r,n){super(r),this.durationSelector=n,this.hasValue=!1}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:l}=this;n=l(r)}catch(l){return this.destination.error(l)}const s=(0,Ii.ft)(n,new Ii.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:r,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function mR(i,r=E_.P){return function(i){return function(n){return n.lift(new yB(i))}}(()=>function(i=0,r,n){let s=-1;return(0,wP.k)(r)?s=Number(r)<1?1:Number(r):(0,la.K)(r)&&(n=r),(0,la.K)(n)||(n=E_.P),new on.y(l=>{const u=(0,wP.k)(i)?i:+i-n.now();return n.schedule(uB,u,{index:0,period:s,subscriber:l})})}(i,r))}let Ov=(()=>{class i{constructor(n,s,l){this._ngZone=n,this._platform=s,this._scrolled=new ft.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=l}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new on.y(s=>{this._globalSubscription||this._addGlobalListener();const l=n>0?this._scrolled.pipe(mR(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{l.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,je.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const l=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(dr(u=>!u||l.indexOf(u)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((l,u)=>{this._scrollableContainsElement(u,n)&&s.push(u)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let l=function(i){return i instanceof d.SBq?i.nativeElement:i}(s),u=n.getElementRef().nativeElement;do{if(l==u)return!0}while(l=l.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Jh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(d.R0b),d.LFG(Qt),d.LFG(X,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.R0b),d.LFG(Qt),d.LFG(X,8))},token:i,providedIn:"root"}),i})(),Ya=(()=>{class i{constructor(n,s,l){this._platform=n,this._change=new ft.xQ,this._changeListener=u=>{this._change.next(u)},this._document=l,s.runOutsideAngular(()=>{if(n.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:l}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+l,right:n.left+s,height:l,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),l=n.documentElement,u=l.getBoundingClientRect();return{top:-u.top||n.body.scrollTop||s.scrollY||l.scrollTop||0,left:-u.left||n.body.scrollLeft||s.scrollX||l.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(mR(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Qt),d.LFG(d.R0b),d.LFG(X,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Qt),d.LFG(d.R0b),d.LFG(X,8))},token:i,providedIn:"root"}),i})(),lA=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),AP=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[G0,ZS,lA],G0,lA]}),i})(),f2=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[zi,gn,bP,sR,eR,kN],gn]}),i})(),b2=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[gn],gn]}),i})(),QP=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[zi,gn,eR],gn]}),i})();const JP=uN();class Z2{constructor(r,n){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Dr(-this._previousScrollPosition.left),r.style.top=Dr(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,s=r.style,l=this._document.body.style,u=s.scrollBehavior||"",p=l.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),JP&&(s.scrollBehavior=l.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),JP&&(s.scrollBehavior=u,l.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class K2{constructor(r,n,s,l){this._scrollDispatcher=r,this._ngZone=n,this._viewportRuler=s,this._config=l,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class XP{enable(){}disable(){}attach(){}}function vR(i,r){return r.some(n=>i.bottom<n.top||i.top>n.bottom||i.right<n.left||i.left>n.right)}function e1(i,r){return r.some(n=>i.top<n.top||i.bottom>n.bottom||i.left<n.left||i.right>n.right)}class Q2{constructor(r,n,s,l){this._scrollDispatcher=r,this._viewportRuler=n,this._ngZone=s,this._config=l,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:l}=this._viewportRuler.getViewportSize();vR(n,[{width:s,height:l,bottom:l,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let J2=(()=>{class i{constructor(n,s,l,u){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=l,this.noop=()=>new XP,this.close=p=>new K2(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new Z2(this._viewportRuler,this._document),this.reposition=p=>new Q2(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=u}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ov),d.LFG(Ya),d.LFG(d.R0b),d.LFG(X))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Ov),d.LFG(Ya),d.LFG(d.R0b),d.LFG(X))},token:i,providedIn:"root"}),i})();class t1{constructor(r){if(this.scrollStrategy=new XP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const n=Object.keys(r);for(const s of n)void 0!==r[s]&&(this[s]=r[s])}}}class X2{constructor(r,n,s,l,u){this.offsetX=s,this.offsetY=l,this.panelClass=u,this.originX=r.originX,this.originY=r.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class eU{constructor(r,n){this.connectionPair=r,this.scrollableViewProperties=n}}let n1=(()=>{class i{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(X))},token:i,providedIn:"root"}),i})(),tU=(()=>{class i extends n1{constructor(n){super(n),this._keydownListener=s=>{const l=this._attachedOverlays;for(let u=l.length-1;u>-1;u--)if(l[u]._keydownEvents.observers.length>0){l[u]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(X))},token:i,providedIn:"root"}),i})(),nU=(()=>{class i extends n1{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=l=>{const u=function(i){return i.composedPath?i.composedPath()[0]:i.target}(l),p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const E=p[_];if(!(E._outsidePointerEvents.observers.length<1)&&E.hasAttached()){if(E.overlayElement.contains(u))break;E._outsidePointerEvents.next(l)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X),d.LFG(Qt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(X),d.LFG(Qt))},token:i,providedIn:"root"}),i})();const ef="undefined"!=typeof window?window:{},r1=void 0!==ef.__karma__&&!!ef.__karma__||void 0!==ef.jasmine&&!!ef.jasmine||void 0!==ef.jest&&!!ef.jest||void 0!==ef.Mocha&&!!ef.Mocha;let bR=(()=>{class i{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||r1){const l=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let u=0;u<l.length;u++)l[u].parentNode.removeChild(l[u])}const s=this._document.createElement("div");s.classList.add(n),r1?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(X),d.LFG(Qt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(X),d.LFG(Qt))},token:i,providedIn:"root"}),i})();class rU{constructor(r,n,s,l,u,p,_,E,D){this._portalOutlet=r,this._host=n,this._pane=s,this._config=l,this._ngZone=u,this._keyboardDispatcher=p,this._document=_,this._location=E,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new ft.xQ,this._attachments=new ft.xQ,this._detachments=new ft.xQ,this._locationChanges=hr.w.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._keydownEvents=new ft.xQ,this._outsidePointerEvents=new ft.xQ,l.scrollStrategy&&(this._scrollStrategy=l.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=l.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){let n=this._portalOutlet.attach(r);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=Object.assign(Object.assign({},this._config),r),this._updateElementSize()}setDirection(r){this._config=Object.assign(Object.assign({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=Dr(this._config.width),r.height=Dr(this._config.height),r.minWidth=Dr(this._config.minWidth),r.minHeight=Dr(this._config.minHeight),r.maxWidth=Dr(this._config.maxWidth),r.maxHeight=Dr(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let r=this._backdropElement;if(!r)return;let n,s=()=>{r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",s),r.parentNode&&r.parentNode.removeChild(r)),this._backdropElement==r&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(r,this._config.backdropClass,!1),clearTimeout(n)};r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",s)}),r.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(r,n,s){const l=r.classList;YS(n).forEach(u=>{u&&(s?l.add(u):l.remove(u))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const r=this._ngZone.onStable.pipe(function(i){return r=>r.lift(new uL(i))}((0,Zo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}}const i1="cdk-overlay-connected-position-bounding-box",iU=/([A-Za-z%]+)$/;class s1{constructor(r,n,s,l,u){this._viewportRuler=n,this._document=s,this._platform=l,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.xQ,this._resizeSubscription=hr.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}get positions(){return this._preferredPositions}attach(r){this._validatePositions(),r.hostElement.classList.add(i1),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const r=this._originRect,n=this._overlayRect,s=this._viewportRect,l=[];let u;for(let p of this._preferredPositions){let _=this._getOriginPoint(r,p),E=this._getOverlayPoint(_,n,p),D=this._getOverlayFit(E,n,s,p);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,_);this._canFitWithFlexibleDimensions(D,E,s)?l.push({position:p,origin:_,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(_,p)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:E,originPoint:_,position:p,overlayRect:n})}if(l.length){let p=null,_=-1;for(const E of l){const D=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);D>_&&(_=D,p=E)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&dm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(i1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const r=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,r);this._applyPosition(r,n)}}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,n){let s,l;if("center"==n.originX)s=r.left+r.width/2;else{const u=this._isRtl()?r.right:r.left,p=this._isRtl()?r.left:r.right;s="start"==n.originX?u:p}return l="center"==n.originY?r.top+r.height/2:"top"==n.originY?r.top:r.bottom,{x:s,y:l}}_getOverlayPoint(r,n,s){let l,u;return l="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,u="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:r.x+l,y:r.y+u}}_getOverlayFit(r,n,s,l){const u=a1(n);let{x:p,y:_}=r,E=this._getOffset(l,"x"),D=this._getOffset(l,"y");E&&(p+=E),D&&(_+=D);let V=0-_,B=_+u.height-s.height,W=this._subtractOverflows(u.width,0-p,p+u.width-s.width),pe=this._subtractOverflows(u.height,V,B),Te=W*pe;return{visibleArea:Te,isCompletelyWithinViewport:u.width*u.height===Te,fitsInViewportVertically:pe===u.height,fitsInViewportHorizontally:W==u.width}}_canFitWithFlexibleDimensions(r,n,s){if(this._hasFlexibleDimensions){const l=s.bottom-n.y,u=s.right-n.x,p=o1(this._overlayRef.getConfig().minHeight),_=o1(this._overlayRef.getConfig().minWidth),D=r.fitsInViewportHorizontally||null!=_&&_<=u;return(r.fitsInViewportVertically||null!=p&&p<=l)&&D}return!1}_pushOverlayOnScreen(r,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const l=a1(n),u=this._viewportRect,p=Math.max(r.x+l.width-u.width,0),_=Math.max(r.y+l.height-u.height,0),E=Math.max(u.top-s.top-r.y,0),D=Math.max(u.left-s.left-r.x,0);let A=0,O=0;return A=l.width<=u.width?D||-p:r.x<this._viewportMargin?u.left-s.left-r.x:0,O=l.height<=u.height?E||-_:r.y<this._viewportMargin?u.top-s.top-r.y:0,this._previousPushAmount={x:A,y:O},{x:r.x+A,y:r.y+O}}_applyPosition(r,n){if(this._setTransformOrigin(r),this._setOverlayElementStyles(n,r),this._setBoundingBoxStyles(n,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){const s=this._getScrollVisibility(),l=new eU(r,s);this._positionChanges.next(l)}this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,l=r.overlayY;s="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let u=0;u<n.length;u++)n[u].style.transformOrigin=`${s} ${l}`}_calculateBoundingBoxRect(r,n){const s=this._viewportRect,l=this._isRtl();let u,p,_,A,O,V;if("top"===n.overlayY)p=r.y,u=s.height-p+this._viewportMargin;else if("bottom"===n.overlayY)_=s.height-r.y+2*this._viewportMargin,u=s.height-_+this._viewportMargin;else{const B=Math.min(s.bottom-r.y+s.top,r.y),W=this._lastBoundingBoxSize.height;u=2*B,p=r.y-B,u>W&&!this._isInitialRender&&!this._growAfterOpen&&(p=r.y-W/2)}if("end"===n.overlayX&&!l||"start"===n.overlayX&&l)V=s.width-r.x+this._viewportMargin,A=r.x-this._viewportMargin;else if("start"===n.overlayX&&!l||"end"===n.overlayX&&l)O=r.x,A=s.right-r.x;else{const B=Math.min(s.right-r.x+s.left,r.x),W=this._lastBoundingBoxSize.width;A=2*B,O=r.x-B,A>W&&!this._isInitialRender&&!this._growAfterOpen&&(O=r.x-W/2)}return{top:p,left:O,bottom:_,right:V,width:A,height:u}}_setBoundingBoxStyles(r,n){const s=this._calculateBoundingBoxRect(r,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const l={};if(this._hasExactPosition())l.top=l.left="0",l.bottom=l.right=l.maxHeight=l.maxWidth="",l.width=l.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;l.height=Dr(s.height),l.top=Dr(s.top),l.bottom=Dr(s.bottom),l.width=Dr(s.width),l.left=Dr(s.left),l.right=Dr(s.right),l.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",l.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",u&&(l.maxHeight=Dr(u)),p&&(l.maxWidth=Dr(p))}this._lastBoundingBoxSize=s,dm(this._boundingBox.style,l)}_resetBoundingBoxStyles(){dm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){dm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,n){const s={},l=this._hasExactPosition(),u=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(l){const A=this._viewportRuler.getViewportScrollPosition();dm(s,this._getExactOverlayY(n,r,A)),dm(s,this._getExactOverlayX(n,r,A))}else s.position="static";let _="",E=this._getOffset(n,"x"),D=this._getOffset(n,"y");E&&(_+=`translateX(${E}px) `),D&&(_+=`translateY(${D}px)`),s.transform=_.trim(),p.maxHeight&&(l?s.maxHeight=Dr(p.maxHeight):u&&(s.maxHeight="")),p.maxWidth&&(l?s.maxWidth=Dr(p.maxWidth):u&&(s.maxWidth="")),dm(this._pane.style,s)}_getExactOverlayY(r,n,s){let l={top:"",bottom:""},u=this._getOverlayPoint(n,this._overlayRect,r);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s));let p=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=p,"bottom"===r.overlayY?l.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":l.top=Dr(u.y),l}_getExactOverlayX(r,n,s){let p,l={left:"",right:""},u=this._getOverlayPoint(n,this._overlayRect,r);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s)),p=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===p?l.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":l.left=Dr(u.x),l}_getScrollVisibility(){const r=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(l=>l.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:e1(r,s),isOriginOutsideView:vR(r,s),isOverlayClipped:e1(n,s),isOverlayOutsideView:vR(n,s)}}_subtractOverflows(r,...n){return n.reduce((s,l)=>s-Math.max(l,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+r-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:r-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,n){return"x"===n?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&YS(r).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof d.SBq)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const n=r.width||0,s=r.height||0;return{top:r.y,bottom:r.y+s,left:r.x,right:r.x+n,height:s,width:n}}}function dm(i,r){for(let n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i}function o1(i){if("number"!=typeof i&&null!=i){const[r,n]=i.split(iU);return n&&"px"!==n?null:parseFloat(r)}return i||null}function a1(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class sU{constructor(r,n,s,l,u,p,_){this._preferredPositions=[],this._positionStrategy=new s1(s,l,u,p,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(r,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(r){this._overlayRef=r,this._positionStrategy.attach(r),this._direction&&(r.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(r){this._positionStrategy.withScrollableContainers(r)}withFallbackPosition(r,n,s,l){const u=new X2(r,n,s,l);return this._preferredPositions.push(u),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(r){return this._overlayRef?this._overlayRef.setDirection(r):this._direction=r,this}withOffsetX(r){return this._positionStrategy.withDefaultOffsetX(r),this}withOffsetY(r){return this._positionStrategy.withDefaultOffsetY(r),this}withLockedPosition(r){return this._positionStrategy.withLockedPosition(r),this}withPositions(r){return this._preferredPositions=r.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(r){return this._positionStrategy.setOrigin(r),this}}const l1="cdk-global-overlay-wrapper";class oU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(r){const n=r.getConfig();this._overlayRef=r,this._width&&!n.width&&r.updateSize({width:this._width}),this._height&&!n.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(l1),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._rightOffset="",this._leftOffset=r,this._justifyContent="flex-start",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._leftOffset="",this._rightOffset=r,this._justifyContent="flex-end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._justifyContent="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:l,height:u,maxWidth:p,maxHeight:_}=s,E=!("100%"!==l&&"100vw"!==l||p&&"100%"!==p&&"100vw"!==p),D=!("100%"!==u&&"100vh"!==u||_&&"100%"!==_&&"100vh"!==_);r.position=this._cssPosition,r.marginLeft=E?"0":this._leftOffset,r.marginTop=D?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=this._rightOffset,E?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(l1),s.justifyContent=s.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let aU=(()=>{class i{constructor(n,s,l,u){this._viewportRuler=n,this._document=s,this._platform=l,this._overlayContainer=u}global(){return new oU}connectedTo(n,s,l){return new sU(s,l,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new s1(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(Ya),d.LFG(X),d.LFG(Qt),d.LFG(bR))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Ya),d.LFG(X),d.LFG(Qt),d.LFG(bR))},token:i,providedIn:"root"}),i})(),lU=0,hm=(()=>{class i{constructor(n,s,l,u,p,_,E,D,A,O,V){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=l,this._positionBuilder=u,this._keyboardDispatcher=p,this._injector=_,this._ngZone=E,this._document=D,this._directionality=A,this._location=O,this._outsideClickDispatcher=V}create(n){const s=this._createHostElement(),l=this._createPaneElement(s),u=this._createPortalOutlet(l),p=new t1(n);return p.direction=p.direction||this._directionality.value,new rU(u,s,l,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+lU++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new cB(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(n){return new(n||i)(d.LFG(J2),d.LFG(bR),d.LFG(d._Vd),d.LFG(aU),d.LFG(tU),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(X),d.LFG(Li),d.LFG(it),d.LFG(nU))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const hU={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[hm],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let d1=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[hm,hU],imports:[[G0,bP,AP],AP]}),i})(),W1=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const PR=new d.OlP("NgModelWithFormControlWarning");let uF=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[W1]]}),i})(),oj=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[uF]}),i})(),aj=(()=>{class i{static withConfig(n){return{ngModule:i,providers:[{provide:PR,useValue:n.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[uF]}),i})();const wj={provide:new d.OlP("mat-select-scroll-strategy"),deps:[hm],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let mF=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[wj],imports:[[zi,d1,qN,gn],lA,QP,qN,gn]}),i})(),xj=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[gn],gn]}),i})();const Bj={provide:new d.OlP("mat-tooltip-scroll-strategy"),deps:[hm],useFactory:function(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let qj=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Bj],imports:[[kN,zi,d1,gn],gn,lA]}),i})(),J0=(()=>{class i{constructor(){this.changes=new ft.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,l)=>{if(0==l||0==s)return`0 of ${l}`;const u=n*s;return`${u+1} \u2013 ${u<(l=Math.max(l,0))?Math.min(u+s,l):u+s} of ${l}`}}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=d.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();const eH={provide:J0,deps:[[new d.FiY,new d.tp0,J0]],useFactory:function(i){return i||new J0}};let sH=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[eH],imports:[[zi,XN,mF,qj,gn]]}),i})(),oH=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[zi],xV,XN,oB,aB,f2,b2,QP,mF,xj,sH,oj]}),i})();const CF_firebase={apiKey:"AIzaSyBzTZMvB3kzIvRg7eKcfhMaoPIlGwxb-Io",authDomain:"angularfiebase-authenticatiodo.firebaseapp.com",projectId:"angularfiebase-authenticatiodo",storageBucket:"angularfiebase-authenticatiodo.appspot.com",messagingSenderId:"351670068578",appId:"1:351670068578:web:f080d49f39eb90be91f83b",measurementId:"G-52PGV9VLV1"};let aH=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[fO]}),i.\u0275inj=d.cJS({providers:[],imports:[[xf,HA,WF,oH,aj,Ma.hO.initializeApp(CF_firebase)]]}),i})();(0,d.G48)(),Tc().bootstrapModule(aH).catch(i=>console.error(i))},4762:(He,Ce,F)=>{"use strict";F.d(Ce,{ZT:()=>se,pi:()=>H,_T:()=>ie,mG:()=>J,Jh:()=>z,XA:()=>P,CR:()=>$,ev:()=>ce});var d=function(ae,oe){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,ue){be.__proto__=ue}||function(be,ue){for(var ge in ue)Object.prototype.hasOwnProperty.call(ue,ge)&&(be[ge]=ue[ge])})(ae,oe)};function se(ae,oe){if("function"!=typeof oe&&null!==oe)throw new TypeError("Class extends value "+String(oe)+" is not a constructor or null");function be(){this.constructor=ae}d(ae,oe),ae.prototype=null===oe?Object.create(oe):(be.prototype=oe.prototype,new be)}var H=function(){return(H=Object.assign||function(oe){for(var be,ue=1,ge=arguments.length;ue<ge;ue++)for(var te in be=arguments[ue])Object.prototype.hasOwnProperty.call(be,te)&&(oe[te]=be[te]);return oe}).apply(this,arguments)};function ie(ae,oe){var be={};for(var ue in ae)Object.prototype.hasOwnProperty.call(ae,ue)&&oe.indexOf(ue)<0&&(be[ue]=ae[ue]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(ue=Object.getOwnPropertySymbols(ae);ge<ue.length;ge++)oe.indexOf(ue[ge])<0&&Object.prototype.propertyIsEnumerable.call(ae,ue[ge])&&(be[ue[ge]]=ae[ue[ge]])}return be}function J(ae,oe,be,ue){return new(be||(be=Promise))(function(te,Re){function $e(st){try{tt(ue.next(st))}catch(nt){Re(nt)}}function At(st){try{tt(ue.throw(st))}catch(nt){Re(nt)}}function tt(st){st.done?te(st.value):function(te){return te instanceof be?te:new be(function(Re){Re(te)})}(st.value).then($e,At)}tt((ue=ue.apply(ae,oe||[])).next())})}function z(ae,oe){var ue,ge,te,Re,be={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return Re={next:$e(0),throw:$e(1),return:$e(2)},"function"==typeof Symbol&&(Re[Symbol.iterator]=function(){return this}),Re;function $e(tt){return function(st){return function(tt){if(ue)throw new TypeError("Generator is already executing.");for(;be;)try{if(ue=1,ge&&(te=2&tt[0]?ge.return:tt[0]?ge.throw||((te=ge.return)&&te.call(ge),0):ge.next)&&!(te=te.call(ge,tt[1])).done)return te;switch(ge=0,te&&(tt=[2&tt[0],te.value]),tt[0]){case 0:case 1:te=tt;break;case 4:return be.label++,{value:tt[1],done:!1};case 5:be.label++,ge=tt[1],tt=[0];continue;case 7:tt=be.ops.pop(),be.trys.pop();continue;default:if(!(te=(te=be.trys).length>0&&te[te.length-1])&&(6===tt[0]||2===tt[0])){be=0;continue}if(3===tt[0]&&(!te||tt[1]>te[0]&&tt[1]<te[3])){be.label=tt[1];break}if(6===tt[0]&&be.label<te[1]){be.label=te[1],te=tt;break}if(te&&be.label<te[2]){be.label=te[2],be.ops.push(tt);break}te[2]&&be.ops.pop(),be.trys.pop();continue}tt=oe.call(ae,be)}catch(st){tt=[6,st],ge=0}finally{ue=te=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,st])}}}function P(ae){var oe="function"==typeof Symbol&&Symbol.iterator,be=oe&&ae[oe],ue=0;if(be)return be.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&ue>=ae.length&&(ae=void 0),{value:ae&&ae[ue++],done:!ae}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(ae,oe){var be="function"==typeof Symbol&&ae[Symbol.iterator];if(!be)return ae;var ge,Re,ue=be.call(ae),te=[];try{for(;(void 0===oe||oe-- >0)&&!(ge=ue.next()).done;)te.push(ge.value)}catch($e){Re={error:$e}}finally{try{ge&&!ge.done&&(be=ue.return)&&be.call(ue)}finally{if(Re)throw Re.error}}return te}function ce(ae,oe,be){if(be||2===arguments.length)for(var te,ue=0,ge=oe.length;ue<ge;ue++)(te||!(ue in oe))&&(te||(te=Array.prototype.slice.call(oe,0,ue)),te[ue]=oe[ue]);return ae.concat(te||Array.prototype.slice.call(oe))}},8239:(He,Ce,F)=>{"use strict";function d(H,ie,fe,Z,X,J,z){try{var L=H[J](z),q=L.value}catch(P){return void fe(P)}L.done?ie(q):Promise.resolve(q).then(Z,X)}function se(H){return function(){var ie=this,fe=arguments;return new Promise(function(Z,X){var J=H.apply(ie,fe);function z(q){d(J,Z,X,z,L,"next",q)}function L(q){d(J,Z,X,z,L,"throw",q)}z(void 0)})}}F.d(Ce,{Z:()=>se})}},He=>{He(He.s=857)}]);